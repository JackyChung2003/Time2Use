var WC=Object.defineProperty;var HC=(e,t,n)=>t in e?WC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var K=(e,t,n)=>HC(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ew={exports:{}},od={},Ow={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),qC=Symbol.for("react.portal"),YC=Symbol.for("react.fragment"),GC=Symbol.for("react.strict_mode"),KC=Symbol.for("react.profiler"),QC=Symbol.for("react.provider"),XC=Symbol.for("react.context"),JC=Symbol.for("react.forward_ref"),ZC=Symbol.for("react.suspense"),eE=Symbol.for("react.memo"),tE=Symbol.for("react.lazy"),Oy=Symbol.iterator;function nE(e){return e===null||typeof e!="object"?null:(e=Oy&&e[Oy]||e["@@iterator"],typeof e=="function"?e:null)}var Pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,Dw={};function xo(e,t,n){this.props=e,this.context=t,this.refs=Dw,this.updater=n||Pw}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rw(){}Rw.prototype=xo.prototype;function pg(e,t,n){this.props=e,this.context=t,this.refs=Dw,this.updater=n||Pw}var gg=pg.prototype=new Rw;gg.constructor=pg;Tw(gg,xo.prototype);gg.isPureReactComponent=!0;var Py=Array.isArray,jw=Object.prototype.hasOwnProperty,mg={current:null},Mw={key:!0,ref:!0,__self:!0,__source:!0};function Iw(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)jw.call(t,r)&&!Mw.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vl,type:e,key:s,ref:o,props:i,_owner:mg.current}}function rE(e,t){return{$$typeof:vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yg(e){return typeof e=="object"&&e!==null&&e.$$typeof===vl}function iE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ty=/\/+/g;function rh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iE(""+e.key):t.toString(36)}function Lc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vl:case qC:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+rh(o,0):r,Py(i)?(n="",e!=null&&(n=e.replace(Ty,"$&/")+"/"),Lc(i,t,n,"",function(c){return c})):i!=null&&(yg(i)&&(i=rE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ty,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Py(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+rh(s,a);o+=Lc(s,t,n,l,i)}else if(l=nE(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+rh(s,a++),o+=Lc(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hl(e,t,n){if(e==null)return e;var r=[],i=0;return Lc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function sE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},Nc={transition:null},oE={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:mg};function Aw(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Hl,forEach:function(e,t,n){Hl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hl(e,function(){t++}),t},toArray:function(e){return Hl(e,function(t){return t})||[]},only:function(e){if(!yg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=xo;pe.Fragment=YC;pe.Profiler=KC;pe.PureComponent=pg;pe.StrictMode=GC;pe.Suspense=ZC;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oE;pe.act=Aw;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tw({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=mg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)jw.call(t,l)&&!Mw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vl,type:e.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(e){return e={$$typeof:XC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QC,_context:e},e.Consumer=e};pe.createElement=Iw;pe.createFactory=function(e){var t=Iw.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:JC,render:e}};pe.isValidElement=yg;pe.lazy=function(e){return{$$typeof:tE,_payload:{_status:-1,_result:e},_init:sE}};pe.memo=function(e,t){return{$$typeof:eE,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};pe.unstable_act=Aw;pe.useCallback=function(e,t){return Gt.current.useCallback(e,t)};pe.useContext=function(e){return Gt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return Gt.current.useEffect(e,t)};pe.useId=function(){return Gt.current.useId()};pe.useImperativeHandle=function(e,t,n){return Gt.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return Gt.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return Gt.current.useReducer(e,t,n)};pe.useRef=function(e){return Gt.current.useRef(e)};pe.useState=function(e){return Gt.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return Gt.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return Gt.current.useTransition()};pe.version="18.3.1";Ow.exports=pe;var w=Ow.exports;const Xe=sd(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE=w,lE=Symbol.for("react.element"),cE=Symbol.for("react.fragment"),uE=Object.prototype.hasOwnProperty,dE=aE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hE={key:!0,ref:!0,__self:!0,__source:!0};function Lw(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uE.call(t,r)&&!hE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:lE,type:e,key:s,ref:o,props:i,_owner:dE.current}}od.Fragment=cE;od.jsx=Lw;od.jsxs=Lw;Ew.exports=od;var p=Ew.exports,Nw={exports:{}},_n={},Fw={exports:{}},zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var C=D.length;D.push(L);e:for(;0<C;){var X=C-1>>>1,G=D[X];if(0<i(G,L))D[X]=L,D[C]=G,C=X;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],C=D.pop();if(C!==L){D[0]=C;e:for(var X=0,G=D.length,P=G>>>1;X<P;){var ee=2*(X+1)-1,se=D[ee],te=ee+1,ze=D[te];if(0>i(se,C))te<G&&0>i(ze,se)?(D[X]=ze,D[te]=C,X=te):(D[X]=se,D[ee]=C,X=ee);else if(te<G&&0>i(ze,C))D[X]=ze,D[te]=C,X=te;else break e}}return L}function i(D,L){var C=D.sortIndex-L.sortIndex;return C!==0?C:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=D)r(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(c)}}function k(D){if(y=!1,b(D),!g)if(n(l)!==null)g=!0,j(S);else{var L=n(c);L!==null&&F(k,L.startTime-D)}}function S(D,L){g=!1,y&&(y=!1,m(T),T=-1),f=!0;var C=h;try{for(b(L),d=n(l);d!==null&&(!(d.expirationTime>L)||D&&!I());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var G=X(d.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),b(L)}else r(l);d=n(l)}if(d!==null)var P=!0;else{var ee=n(c);ee!==null&&F(k,ee.startTime-L),P=!1}return P}finally{d=null,h=C,f=!1}}var _=!1,O=null,T=-1,M=5,E=-1;function I(){return!(e.unstable_now()-E<M)}function A(){if(O!==null){var D=e.unstable_now();E=D;var L=!0;try{L=O(!0,D)}finally{L?W():(_=!1,O=null)}}else _=!1}var W;if(typeof v=="function")W=function(){v(A)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,U=Y.port2;Y.port1.onmessage=A,W=function(){U.postMessage(null)}}else W=function(){x(A,0)};function j(D){O=D,_||(_=!0,W())}function F(D,L){T=x(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,j(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var C=h;h=L;try{return D()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var C=h;h=D;try{return L()}finally{h=C}},e.unstable_scheduleCallback=function(D,L,C){var X=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?X+C:X):C=X,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=C+G,D={id:u++,callback:L,priorityLevel:D,startTime:C,expirationTime:G,sortIndex:-1},C>X?(D.sortIndex=C,t(c,D),n(l)===null&&D===n(c)&&(y?(m(T),T=-1):y=!0,F(k,C-X))):(D.sortIndex=G,t(l,D),g||f||(g=!0,j(S))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var L=h;return function(){var C=h;h=L;try{return D.apply(this,arguments)}finally{h=C}}}})(zw);Fw.exports=zw;var fE=Fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE=w,wn=fE;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $w=new Set,Aa={};function fs(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(Aa[e]=t,e=0;e<t.length;e++)$w.add(t[e])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=Object.prototype.hasOwnProperty,gE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dy={},Ry={};function mE(e){return bf.call(Ry,e)?!0:bf.call(Dy,e)?!1:gE.test(e)?Ry[e]=!0:(Dy[e]=!0,!1)}function yE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vE(e,t,n,r){if(t===null||typeof t>"u"||yE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function xg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vg,xg);Mt[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vg,xg);Mt[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vg,xg);Mt[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bg(e,t,n,r){var i=Mt.hasOwnProperty(t)?Mt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vE(t,n,i,r)&&(n=null),r||i===null?mE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zr=pE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),kg=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),Ww=Symbol.for("react.offscreen"),jy=Symbol.iterator;function Io(e){return e===null||typeof e!="object"?null:(e=jy&&e[jy]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,ih;function ta(e){if(ih===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ih=t&&t[1]||""}return`
`+ih+e}var sh=!1;function oh(e,t){if(!e||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ta(e):""}function xE(e){switch(e.tag){case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return e=oh(e.type,!1),e;case 11:return e=oh(e.type.render,!1),e;case 1:return e=oh(e.type,!0),e;default:return""}}function Sf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case Rs:return"Portal";case wf:return"Profiler";case wg:return"StrictMode";case _f:return"Suspense";case kf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uw:return(e.displayName||"Context")+".Consumer";case Bw:return(e._context.displayName||"Context")+".Provider";case _g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kg:return t=e.displayName||null,t!==null?t:Sf(e.type)||"Memo";case Kr:t=e._payload,e=e._init;try{return Sf(e(t))}catch{}}return null}function bE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sf(t);case 8:return t===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wE(e){var t=Hw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ql(e){e._valueTracker||(e._valueTracker=wE(e))}function Vw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cf(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function My(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qw(e,t){t=t.checked,t!=null&&bg(e,"checked",t,!1)}function Ef(e,t){qw(e,t);var n=bi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Of(e,t.type,n):t.hasOwnProperty("defaultValue")&&Of(e,t.type,bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Of(e,t,n){(t!=="number"||uu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var na=Array.isArray;function Gs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Pf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ay(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(na(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bi(n)}}function Yw(e,t){var n=bi(t.value),r=bi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ly(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yl,Kw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yl=Yl||document.createElement("div"),Yl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function La(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_E=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(e){_E.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fa[t]=fa[e]})});function Qw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fa.hasOwnProperty(e)&&fa[e]?(""+t).trim():t+"px"}function Xw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var kE=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Df(e,t){if(t){if(kE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Rf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function Sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mf=null,Ks=null,Qs=null;function Ny(e){if(e=wl(e)){if(typeof Mf!="function")throw Error(V(280));var t=e.stateNode;t&&(t=dd(t),Mf(e.stateNode,e.type,t))}}function Jw(e){Ks?Qs?Qs.push(e):Qs=[e]:Ks=e}function Zw(){if(Ks){var e=Ks,t=Qs;if(Qs=Ks=null,Ny(e),t)for(e=0;e<t.length;e++)Ny(t[e])}}function e1(e,t){return e(t)}function t1(){}var ah=!1;function n1(e,t,n){if(ah)return e(t,n);ah=!0;try{return e1(e,t,n)}finally{ah=!1,(Ks!==null||Qs!==null)&&(t1(),Zw())}}function Na(e,t){var n=e.stateNode;if(n===null)return null;var r=dd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var If=!1;if(Ar)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){If=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{If=!1}function SE(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var pa=!1,du=null,hu=!1,Af=null,CE={onError:function(e){pa=!0,du=e}};function EE(e,t,n,r,i,s,o,a,l){pa=!1,du=null,SE.apply(CE,arguments)}function OE(e,t,n,r,i,s,o,a,l){if(EE.apply(this,arguments),pa){if(pa){var c=du;pa=!1,du=null}else throw Error(V(198));hu||(hu=!0,Af=c)}}function ps(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fy(e){if(ps(e)!==e)throw Error(V(188))}function PE(e){var t=e.alternate;if(!t){if(t=ps(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Fy(i),e;if(s===r)return Fy(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function i1(e){return e=PE(e),e!==null?s1(e):null}function s1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s1(e);if(t!==null)return t;e=e.sibling}return null}var o1=wn.unstable_scheduleCallback,zy=wn.unstable_cancelCallback,TE=wn.unstable_shouldYield,DE=wn.unstable_requestPaint,at=wn.unstable_now,RE=wn.unstable_getCurrentPriorityLevel,Cg=wn.unstable_ImmediatePriority,a1=wn.unstable_UserBlockingPriority,fu=wn.unstable_NormalPriority,jE=wn.unstable_LowPriority,l1=wn.unstable_IdlePriority,ad=null,pr=null;function ME(e){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(ad,e,void 0,(e.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:LE,IE=Math.log,AE=Math.LN2;function LE(e){return e>>>=0,e===0?32:31-(IE(e)/AE|0)|0}var Gl=64,Kl=4194304;function ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ra(a):(s&=o,s!==0&&(r=ra(s)))}else o=n&~i,o!==0?r=ra(o):s!==0&&(r=ra(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yn(t),i=1<<n,r|=e[n],t&=~i;return r}function NE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Yn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=NE(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c1(){var e=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),e}function lh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yn(t),e[t]=n}function zE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Eg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function u1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var d1,Og,h1,f1,p1,Nf=!1,Ql=[],ui=null,di=null,hi=null,Fa=new Map,za=new Map,ei=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $y(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(t.pointerId)}}function Lo(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=wl(t),t!==null&&Og(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function BE(e,t,n,r,i){switch(t){case"focusin":return ui=Lo(ui,e,t,n,r,i),!0;case"dragenter":return di=Lo(di,e,t,n,r,i),!0;case"mouseover":return hi=Lo(hi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fa.set(s,Lo(Fa.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,za.set(s,Lo(za.get(s)||null,e,t,n,r,i)),!0}return!1}function g1(e){var t=Ki(e.target);if(t!==null){var n=ps(t);if(n!==null){if(t=n.tag,t===13){if(t=r1(n),t!==null){e.blockedOn=t,p1(e.priority,function(){h1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ff(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jf=r,n.target.dispatchEvent(r),jf=null}else return t=wl(n),t!==null&&Og(t),e.blockedOn=n,!1;t.shift()}return!0}function By(e,t,n){Fc(e)&&n.delete(t)}function UE(){Nf=!1,ui!==null&&Fc(ui)&&(ui=null),di!==null&&Fc(di)&&(di=null),hi!==null&&Fc(hi)&&(hi=null),Fa.forEach(By),za.forEach(By)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Nf||(Nf=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,UE)))}function $a(e){function t(i){return No(i,e)}if(0<Ql.length){No(Ql[0],e);for(var n=1;n<Ql.length;n++){var r=Ql[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ui!==null&&No(ui,e),di!==null&&No(di,e),hi!==null&&No(hi,e),Fa.forEach(t),za.forEach(t),n=0;n<ei.length;n++)r=ei[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)g1(n),n.blockedOn===null&&ei.shift()}var Xs=zr.ReactCurrentBatchConfig,gu=!0;function WE(e,t,n,r){var i=Pe,s=Xs.transition;Xs.transition=null;try{Pe=1,Pg(e,t,n,r)}finally{Pe=i,Xs.transition=s}}function HE(e,t,n,r){var i=Pe,s=Xs.transition;Xs.transition=null;try{Pe=4,Pg(e,t,n,r)}finally{Pe=i,Xs.transition=s}}function Pg(e,t,n,r){if(gu){var i=Ff(e,t,n,r);if(i===null)vh(e,t,r,mu,n),$y(e,r);else if(BE(i,e,t,n,r))r.stopPropagation();else if($y(e,r),t&4&&-1<$E.indexOf(e)){for(;i!==null;){var s=wl(i);if(s!==null&&d1(s),s=Ff(e,t,n,r),s===null&&vh(e,t,r,mu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vh(e,t,r,null,n)}}var mu=null;function Ff(e,t,n,r){if(mu=null,e=Sg(r),e=Ki(e),e!==null)if(t=ps(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mu=e,null}function m1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RE()){case Cg:return 1;case a1:return 4;case fu:case jE:return 16;case l1:return 536870912;default:return 16}default:return 16}}var ri=null,Tg=null,zc=null;function y1(){if(zc)return zc;var e,t=Tg,n=t.length,r,i="value"in ri?ri.value:ri.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return zc=i.slice(e,1<r?1-r:void 0)}function $c(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function Uy(){return!1}function kn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xl:Uy,this.isPropagationStopped=Uy,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=kn(bo),bl=Ze({},bo,{view:0,detail:0}),VE=kn(bl),ch,uh,Fo,ld=Ze({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(ch=e.screenX-Fo.screenX,uh=e.screenY-Fo.screenY):uh=ch=0,Fo=e),ch)},movementY:function(e){return"movementY"in e?e.movementY:uh}}),Wy=kn(ld),qE=Ze({},ld,{dataTransfer:0}),YE=kn(qE),GE=Ze({},bl,{relatedTarget:0}),dh=kn(GE),KE=Ze({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),QE=kn(KE),XE=Ze({},bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JE=kn(XE),ZE=Ze({},bo,{data:0}),Hy=kn(ZE),eO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nO[e])?!!t[e]:!1}function Rg(){return rO}var iO=Ze({},bl,{key:function(e){if(e.key){var t=eO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$c(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rg,charCode:function(e){return e.type==="keypress"?$c(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$c(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sO=kn(iO),oO=Ze({},ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=kn(oO),aO=Ze({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rg}),lO=kn(aO),cO=Ze({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uO=kn(cO),dO=Ze({},ld,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hO=kn(dO),fO=[9,13,27,32],jg=Ar&&"CompositionEvent"in window,ga=null;Ar&&"documentMode"in document&&(ga=document.documentMode);var pO=Ar&&"TextEvent"in window&&!ga,v1=Ar&&(!jg||ga&&8<ga&&11>=ga),qy=" ",Yy=!1;function x1(e,t){switch(e){case"keyup":return fO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function gO(e,t){switch(e){case"compositionend":return b1(t);case"keypress":return t.which!==32?null:(Yy=!0,qy);case"textInput":return e=t.data,e===qy&&Yy?null:e;default:return null}}function mO(e,t){if(Ms)return e==="compositionend"||!jg&&x1(e,t)?(e=y1(),zc=Tg=ri=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v1&&t.locale!=="ko"?null:t.data;default:return null}}var yO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yO[e.type]:t==="textarea"}function w1(e,t,n,r){Jw(r),t=yu(t,"onChange"),0<t.length&&(n=new Dg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ma=null,Ba=null;function vO(e){j1(e,0)}function cd(e){var t=Ls(e);if(Vw(t))return e}function xO(e,t){if(e==="change")return t}var _1=!1;if(Ar){var hh;if(Ar){var fh="oninput"in document;if(!fh){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),fh=typeof Ky.oninput=="function"}hh=fh}else hh=!1;_1=hh&&(!document.documentMode||9<document.documentMode)}function Qy(){ma&&(ma.detachEvent("onpropertychange",k1),Ba=ma=null)}function k1(e){if(e.propertyName==="value"&&cd(Ba)){var t=[];w1(t,Ba,e,Sg(e)),n1(vO,t)}}function bO(e,t,n){e==="focusin"?(Qy(),ma=t,Ba=n,ma.attachEvent("onpropertychange",k1)):e==="focusout"&&Qy()}function wO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cd(Ba)}function _O(e,t){if(e==="click")return cd(t)}function kO(e,t){if(e==="input"||e==="change")return cd(t)}function SO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xn=typeof Object.is=="function"?Object.is:SO;function Ua(e,t){if(Xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bf.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Xy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jy(e,t){var n=Xy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xy(n)}}function S1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C1(){for(var e=window,t=uu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uu(e.document)}return t}function Mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CO(e){var t=C1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&S1(n.ownerDocument.documentElement,n)){if(r!==null&&Mg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Jy(n,s);var o=Jy(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EO=Ar&&"documentMode"in document&&11>=document.documentMode,Is=null,zf=null,ya=null,$f=!1;function Zy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||Is==null||Is!==uu(r)||(r=Is,"selectionStart"in r&&Mg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&Ua(ya,r)||(ya=r,r=yu(zf,"onSelect"),0<r.length&&(t=new Dg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Is)))}function Jl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var As={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},ph={},E1={};Ar&&(E1=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function ud(e){if(ph[e])return ph[e];if(!As[e])return e;var t=As[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in E1)return ph[e]=t[n];return e}var O1=ud("animationend"),P1=ud("animationiteration"),T1=ud("animationstart"),D1=ud("transitionend"),R1=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(e,t){R1.set(e,t),fs(t,[e])}for(var gh=0;gh<ev.length;gh++){var mh=ev[gh],OO=mh.toLowerCase(),PO=mh[0].toUpperCase()+mh.slice(1);Ei(OO,"on"+PO)}Ei(O1,"onAnimationEnd");Ei(P1,"onAnimationIteration");Ei(T1,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(D1,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function tv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,OE(r,t,void 0,e),e.currentTarget=null}function j1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;tv(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;tv(i,a,c),s=l}}}if(hu)throw e=Af,hu=!1,Af=null,e}function $e(e,t){var n=t[Vf];n===void 0&&(n=t[Vf]=new Set);var r=e+"__bubble";n.has(r)||(M1(t,e,2,!1),n.add(r))}function yh(e,t,n){var r=0;t&&(r|=4),M1(n,e,r,t)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[Zl]){e[Zl]=!0,$w.forEach(function(n){n!=="selectionchange"&&(TO.has(n)||yh(n,!1,e),yh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zl]||(t[Zl]=!0,yh("selectionchange",!1,t))}}function M1(e,t,n,r){switch(m1(t)){case 1:var i=WE;break;case 4:i=HE;break;default:i=Pg}n=i.bind(null,t,n,e),i=void 0,!If||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}n1(function(){var c=s,u=Sg(n),d=[];e:{var h=R1.get(e);if(h!==void 0){var f=Dg,g=e;switch(e){case"keypress":if($c(n)===0)break e;case"keydown":case"keyup":f=sO;break;case"focusin":g="focus",f=dh;break;case"focusout":g="blur",f=dh;break;case"beforeblur":case"afterblur":f=dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=YE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=lO;break;case O1:case P1:case T1:f=QE;break;case D1:f=uO;break;case"scroll":f=VE;break;case"wheel":f=hO;break;case"copy":case"cut":case"paste":f=JE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Vy}var y=(t&4)!==0,x=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,m!==null&&(k=Na(v,m),k!=null&&y.push(Ha(v,k,b)))),x)break;v=v.return}0<y.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==jf&&(g=n.relatedTarget||n.fromElement)&&(Ki(g)||g[Lr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?Ki(g):null,g!==null&&(x=ps(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(y=Wy,k="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Vy,k="onPointerLeave",m="onPointerEnter",v="pointer"),x=f==null?h:Ls(f),b=g==null?h:Ls(g),h=new y(k,v+"leave",f,n,u),h.target=x,h.relatedTarget=b,k=null,Ki(u)===c&&(y=new y(m,v+"enter",g,n,u),y.target=b,y.relatedTarget=x,k=y),x=k,f&&g)t:{for(y=f,m=g,v=0,b=y;b;b=ws(b))v++;for(b=0,k=m;k;k=ws(k))b++;for(;0<v-b;)y=ws(y),v--;for(;0<b-v;)m=ws(m),b--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=ws(y),m=ws(m)}y=null}else y=null;f!==null&&nv(d,h,f,y,!1),g!==null&&x!==null&&nv(d,x,g,y,!0)}}e:{if(h=c?Ls(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=xO;else if(Gy(h))if(_1)S=kO;else{S=wO;var _=bO}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=_O);if(S&&(S=S(e,c))){w1(d,S,n,u);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Of(h,"number",h.value)}switch(_=c?Ls(c):window,e){case"focusin":(Gy(_)||_.contentEditable==="true")&&(Is=_,zf=c,ya=null);break;case"focusout":ya=zf=Is=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Zy(d,n,u);break;case"selectionchange":if(EO)break;case"keydown":case"keyup":Zy(d,n,u)}var O;if(jg)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ms?x1(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(v1&&n.locale!=="ko"&&(Ms||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ms&&(O=y1()):(ri=u,Tg="value"in ri?ri.value:ri.textContent,Ms=!0)),_=yu(c,T),0<_.length&&(T=new Hy(T,e,null,n,u),d.push({event:T,listeners:_}),O?T.data=O:(O=b1(n),O!==null&&(T.data=O)))),(O=pO?gO(e,n):mO(e,n))&&(c=yu(c,"onBeforeInput"),0<c.length&&(u=new Hy("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=O))}j1(d,t)})}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Na(e,n),s!=null&&r.unshift(Ha(e,s,i)),s=Na(e,t),s!=null&&r.push(Ha(e,s,i))),e=e.return}return r}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Na(n,s),l!=null&&o.unshift(Ha(n,l,a))):i||(l=Na(n,s),l!=null&&o.push(Ha(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var DO=/\r\n?/g,RO=/\u0000|\uFFFD/g;function rv(e){return(typeof e=="string"?e:""+e).replace(DO,`
`).replace(RO,"")}function ec(e,t,n){if(t=rv(t),rv(e)!==t&&n)throw Error(V(425))}function vu(){}var Bf=null,Uf=null;function Wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,jO=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,MO=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(e){return iv.resolve(null).then(e).catch(IO)}:Hf;function IO(e){setTimeout(function(){throw e})}function xh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$a(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$a(t)}function fi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wo=Math.random().toString(36).slice(2),hr="__reactFiber$"+wo,Va="__reactProps$"+wo,Lr="__reactContainer$"+wo,Vf="__reactEvents$"+wo,AO="__reactListeners$"+wo,LO="__reactHandles$"+wo;function Ki(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lr]||n[hr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sv(e);e!==null;){if(n=e[hr])return n;e=sv(e)}return t}e=n,n=e.parentNode}return null}function wl(e){return e=e[hr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function dd(e){return e[Va]||null}var qf=[],Ns=-1;function Oi(e){return{current:e}}function Be(e){0>Ns||(e.current=qf[Ns],qf[Ns]=null,Ns--)}function Fe(e,t){Ns++,qf[Ns]=e.current,e.current=t}var wi={},Bt=Oi(wi),ln=Oi(!1),is=wi;function oo(e,t){var n=e.type.contextTypes;if(!n)return wi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cn(e){return e=e.childContextTypes,e!=null}function xu(){Be(ln),Be(Bt)}function ov(e,t,n){if(Bt.current!==wi)throw Error(V(168));Fe(Bt,t),Fe(ln,n)}function I1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,bE(e)||"Unknown",i));return Ze({},n,r)}function bu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wi,is=Bt.current,Fe(Bt,e),Fe(ln,ln.current),!0}function av(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=I1(e,t,is),r.__reactInternalMemoizedMergedChildContext=e,Be(ln),Be(Bt),Fe(Bt,e)):Be(ln),Fe(ln,n)}var Er=null,hd=!1,bh=!1;function A1(e){Er===null?Er=[e]:Er.push(e)}function NO(e){hd=!0,A1(e)}function Pi(){if(!bh&&Er!==null){bh=!0;var e=0,t=Pe;try{var n=Er;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Er=null,hd=!1}catch(i){throw Er!==null&&(Er=Er.slice(e+1)),o1(Cg,Pi),i}finally{Pe=t,bh=!1}}return null}var Fs=[],zs=0,wu=null,_u=0,Dn=[],Rn=0,ss=null,Pr=1,Tr="";function Bi(e,t){Fs[zs++]=_u,Fs[zs++]=wu,wu=e,_u=t}function L1(e,t,n){Dn[Rn++]=Pr,Dn[Rn++]=Tr,Dn[Rn++]=ss,ss=e;var r=Pr;e=Tr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pr=1<<32-Yn(t)+i|n<<i|r,Tr=s+e}else Pr=1<<s|n<<i|r,Tr=e}function Ig(e){e.return!==null&&(Bi(e,1),L1(e,1,0))}function Ag(e){for(;e===wu;)wu=Fs[--zs],Fs[zs]=null,_u=Fs[--zs],Fs[zs]=null;for(;e===ss;)ss=Dn[--Rn],Dn[Rn]=null,Tr=Dn[--Rn],Dn[Rn]=null,Pr=Dn[--Rn],Dn[Rn]=null}var xn=null,vn=null,Ve=!1,Vn=null;function N1(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,vn=fi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ss!==null?{id:Pr,overflow:Tr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xn=e,vn=null,!0):!1;default:return!1}}function Yf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gf(e){if(Ve){var t=vn;if(t){var n=t;if(!lv(e,t)){if(Yf(e))throw Error(V(418));t=fi(n.nextSibling);var r=xn;t&&lv(e,t)?N1(r,n):(e.flags=e.flags&-4097|2,Ve=!1,xn=e)}}else{if(Yf(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ve=!1,xn=e}}}function cv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function tc(e){if(e!==xn)return!1;if(!Ve)return cv(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wf(e.type,e.memoizedProps)),t&&(t=vn)){if(Yf(e))throw F1(),Error(V(418));for(;t;)N1(e,t),t=fi(t.nextSibling)}if(cv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=fi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=xn?fi(e.stateNode.nextSibling):null;return!0}function F1(){for(var e=vn;e;)e=fi(e.nextSibling)}function ao(){vn=xn=null,Ve=!1}function Lg(e){Vn===null?Vn=[e]:Vn.push(e)}var FO=zr.ReactCurrentBatchConfig;function zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function nc(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uv(e){var t=e._init;return t(e._payload)}function z1(e){function t(m,v){if(e){var b=m.deletions;b===null?(m.deletions=[v],m.flags|=16):b.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=yi(m,v),m.index=0,m.sibling=null,m}function s(m,v,b){return m.index=b,e?(b=m.alternate,b!==null?(b=b.index,b<v?(m.flags|=2,v):b):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,b,k){return v===null||v.tag!==6?(v=Oh(b,m.mode,k),v.return=m,v):(v=i(v,b),v.return=m,v)}function l(m,v,b,k){var S=b.type;return S===js?u(m,v,b.props.children,k,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&uv(S)===v.type)?(k=i(v,b.props),k.ref=zo(m,v,b),k.return=m,k):(k=Yc(b.type,b.key,b.props,null,m.mode,k),k.ref=zo(m,v,b),k.return=m,k)}function c(m,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Ph(b,m.mode,k),v.return=m,v):(v=i(v,b.children||[]),v.return=m,v)}function u(m,v,b,k,S){return v===null||v.tag!==7?(v=es(b,m.mode,k,S),v.return=m,v):(v=i(v,b),v.return=m,v)}function d(m,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Oh(""+v,m.mode,b),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vl:return b=Yc(v.type,v.key,v.props,null,m.mode,b),b.ref=zo(m,null,v),b.return=m,b;case Rs:return v=Ph(v,m.mode,b),v.return=m,v;case Kr:var k=v._init;return d(m,k(v._payload),b)}if(na(v)||Io(v))return v=es(v,m.mode,b,null),v.return=m,v;nc(m,v)}return null}function h(m,v,b,k){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(m,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vl:return b.key===S?l(m,v,b,k):null;case Rs:return b.key===S?c(m,v,b,k):null;case Kr:return S=b._init,h(m,v,S(b._payload),k)}if(na(b)||Io(b))return S!==null?null:u(m,v,b,k,null);nc(m,b)}return null}function f(m,v,b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(b)||null,a(v,m,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vl:return m=m.get(k.key===null?b:k.key)||null,l(v,m,k,S);case Rs:return m=m.get(k.key===null?b:k.key)||null,c(v,m,k,S);case Kr:var _=k._init;return f(m,v,b,_(k._payload),S)}if(na(k)||Io(k))return m=m.get(b)||null,u(v,m,k,S,null);nc(v,k)}return null}function g(m,v,b,k){for(var S=null,_=null,O=v,T=v=0,M=null;O!==null&&T<b.length;T++){O.index>T?(M=O,O=null):M=O.sibling;var E=h(m,O,b[T],k);if(E===null){O===null&&(O=M);break}e&&O&&E.alternate===null&&t(m,O),v=s(E,v,T),_===null?S=E:_.sibling=E,_=E,O=M}if(T===b.length)return n(m,O),Ve&&Bi(m,T),S;if(O===null){for(;T<b.length;T++)O=d(m,b[T],k),O!==null&&(v=s(O,v,T),_===null?S=O:_.sibling=O,_=O);return Ve&&Bi(m,T),S}for(O=r(m,O);T<b.length;T++)M=f(O,m,T,b[T],k),M!==null&&(e&&M.alternate!==null&&O.delete(M.key===null?T:M.key),v=s(M,v,T),_===null?S=M:_.sibling=M,_=M);return e&&O.forEach(function(I){return t(m,I)}),Ve&&Bi(m,T),S}function y(m,v,b,k){var S=Io(b);if(typeof S!="function")throw Error(V(150));if(b=S.call(b),b==null)throw Error(V(151));for(var _=S=null,O=v,T=v=0,M=null,E=b.next();O!==null&&!E.done;T++,E=b.next()){O.index>T?(M=O,O=null):M=O.sibling;var I=h(m,O,E.value,k);if(I===null){O===null&&(O=M);break}e&&O&&I.alternate===null&&t(m,O),v=s(I,v,T),_===null?S=I:_.sibling=I,_=I,O=M}if(E.done)return n(m,O),Ve&&Bi(m,T),S;if(O===null){for(;!E.done;T++,E=b.next())E=d(m,E.value,k),E!==null&&(v=s(E,v,T),_===null?S=E:_.sibling=E,_=E);return Ve&&Bi(m,T),S}for(O=r(m,O);!E.done;T++,E=b.next())E=f(O,m,T,E.value,k),E!==null&&(e&&E.alternate!==null&&O.delete(E.key===null?T:E.key),v=s(E,v,T),_===null?S=E:_.sibling=E,_=E);return e&&O.forEach(function(A){return t(m,A)}),Ve&&Bi(m,T),S}function x(m,v,b,k){if(typeof b=="object"&&b!==null&&b.type===js&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vl:e:{for(var S=b.key,_=v;_!==null;){if(_.key===S){if(S=b.type,S===js){if(_.tag===7){n(m,_.sibling),v=i(_,b.props.children),v.return=m,m=v;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&uv(S)===_.type){n(m,_.sibling),v=i(_,b.props),v.ref=zo(m,_,b),v.return=m,m=v;break e}n(m,_);break}else t(m,_);_=_.sibling}b.type===js?(v=es(b.props.children,m.mode,k,b.key),v.return=m,m=v):(k=Yc(b.type,b.key,b.props,null,m.mode,k),k.ref=zo(m,v,b),k.return=m,m=k)}return o(m);case Rs:e:{for(_=b.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(m,v.sibling),v=i(v,b.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Ph(b,m.mode,k),v.return=m,m=v}return o(m);case Kr:return _=b._init,x(m,v,_(b._payload),k)}if(na(b))return g(m,v,b,k);if(Io(b))return y(m,v,b,k);nc(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,b),v.return=m,m=v):(n(m,v),v=Oh(b,m.mode,k),v.return=m,m=v),o(m)):n(m,v)}return x}var lo=z1(!0),$1=z1(!1),ku=Oi(null),Su=null,$s=null,Ng=null;function Fg(){Ng=$s=Su=null}function zg(e){var t=ku.current;Be(ku),e._currentValue=t}function Kf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Js(e,t){Su=e,Ng=$s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(Ng!==e)if(e={context:e,memoizedValue:t,next:null},$s===null){if(Su===null)throw Error(V(308));$s=e,Su.dependencies={lanes:0,firstContext:e}}else $s=$s.next=e;return t}var Qi=null;function $g(e){Qi===null?Qi=[e]:Qi.push(e)}function B1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$g(t)):(n.next=i.next,i.next=n),t.interleaved=n,Nr(e,r)}function Nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qr=!1;function Bg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Nr(e,n)}return i=r.interleaved,i===null?(t.next=t,$g(r)):(t.next=i.next,i.next=t),r.interleaved=t,Nr(e,n)}function Bc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eg(e,n)}}function dv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cu(e,t,n,r){var i=e.updateQueue;Qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(h=t,f=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Ze({},d,h);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);as|=o,e.lanes=o,e.memoizedState=d}}function hv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var _l={},gr=Oi(_l),qa=Oi(_l),Ya=Oi(_l);function Xi(e){if(e===_l)throw Error(V(174));return e}function Ug(e,t){switch(Fe(Ya,t),Fe(qa,e),Fe(gr,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tf(t,e)}Be(gr),Fe(gr,t)}function co(){Be(gr),Be(qa),Be(Ya)}function W1(e){Xi(Ya.current);var t=Xi(gr.current),n=Tf(t,e.type);t!==n&&(Fe(qa,e),Fe(gr,n))}function Wg(e){qa.current===e&&(Be(gr),Be(qa))}var Qe=Oi(0);function Eu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wh=[];function Hg(){for(var e=0;e<wh.length;e++)wh[e]._workInProgressVersionPrimary=null;wh.length=0}var Uc=zr.ReactCurrentDispatcher,_h=zr.ReactCurrentBatchConfig,os=0,Je=null,yt=null,kt=null,Ou=!1,va=!1,Ga=0,zO=0;function At(){throw Error(V(321))}function Vg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function qg(e,t,n,r,i,s){if(os=s,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uc.current=e===null||e.memoizedState===null?WO:HO,e=n(r,i),va){s=0;do{if(va=!1,Ga=0,25<=s)throw Error(V(301));s+=1,kt=yt=null,t.updateQueue=null,Uc.current=VO,e=n(r,i)}while(va)}if(Uc.current=Pu,t=yt!==null&&yt.next!==null,os=0,kt=yt=Je=null,Ou=!1,t)throw Error(V(300));return e}function Yg(){var e=Ga!==0;return Ga=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Je.memoizedState=kt=e:kt=kt.next=e,kt}function Ln(){if(yt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=kt===null?Je.memoizedState:kt.next;if(t!==null)kt=t,yt=e;else{if(e===null)throw Error(V(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?Je.memoizedState=kt=e:kt=kt.next=e}return kt}function Ka(e,t){return typeof t=="function"?t(e):t}function kh(e){var t=Ln(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((os&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Je.lanes|=u,as|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Xn(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Je.lanes|=s,as|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sh(e){var t=Ln(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Xn(s,t.memoizedState)||(an=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function H1(){}function V1(e,t){var n=Je,r=Ln(),i=t(),s=!Xn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,Gg(G1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Qa(9,Y1.bind(null,n,r,i,t),void 0,null),Ot===null)throw Error(V(349));os&30||q1(n,t,i)}return i}function q1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Y1(e,t,n,r){t.value=n,t.getSnapshot=r,K1(t)&&Q1(e)}function G1(e,t,n){return n(function(){K1(t)&&Q1(e)})}function K1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch{return!0}}function Q1(e){var t=Nr(e,1);t!==null&&Gn(t,e,1,-1)}function fv(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t.queue=e,e=e.dispatch=UO.bind(null,Je,e),[t.memoizedState,e]}function Qa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function X1(){return Ln().memoizedState}function Wc(e,t,n,r){var i=cr();Je.flags|=e,i.memoizedState=Qa(1|t,n,void 0,r===void 0?null:r)}function fd(e,t,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&Vg(r,o.deps)){i.memoizedState=Qa(t,n,s,r);return}}Je.flags|=e,i.memoizedState=Qa(1|t,n,s,r)}function pv(e,t){return Wc(8390656,8,e,t)}function Gg(e,t){return fd(2048,8,e,t)}function J1(e,t){return fd(4,2,e,t)}function Z1(e,t){return fd(4,4,e,t)}function e_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t_(e,t,n){return n=n!=null?n.concat([e]):null,fd(4,4,e_.bind(null,t,e),n)}function Kg(){}function n_(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function r_(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i_(e,t,n){return os&21?(Xn(n,t)||(n=c1(),Je.lanes|=n,as|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=n)}function $O(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=_h.transition;_h.transition={};try{e(!1),t()}finally{Pe=n,_h.transition=r}}function s_(){return Ln().memoizedState}function BO(e,t,n){var r=mi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o_(e))a_(t,n);else if(n=B1(e,t,n,r),n!==null){var i=Yt();Gn(n,e,r,i),l_(n,t,r)}}function UO(e,t,n){var r=mi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o_(e))a_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o)){var l=t.interleaved;l===null?(i.next=i,$g(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=B1(e,t,i,r),n!==null&&(i=Yt(),Gn(n,e,r,i),l_(n,t,r))}}function o_(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function a_(e,t){va=Ou=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function l_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eg(e,n)}}var Pu={readContext:An,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},WO={readContext:An,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:pv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wc(4194308,4,e_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wc(4,2,e,t)},useMemo:function(e,t){var n=cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=BO.bind(null,Je,e),[r.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:fv,useDebugValue:Kg,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=fv(!1),t=e[0];return e=$O.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Je,i=cr();if(Ve){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Ot===null)throw Error(V(349));os&30||q1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,pv(G1.bind(null,r,s,e),[e]),r.flags|=2048,Qa(9,Y1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=cr(),t=Ot.identifierPrefix;if(Ve){var n=Tr,r=Pr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ga++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HO={readContext:An,useCallback:n_,useContext:An,useEffect:Gg,useImperativeHandle:t_,useInsertionEffect:J1,useLayoutEffect:Z1,useMemo:r_,useReducer:kh,useRef:X1,useState:function(){return kh(Ka)},useDebugValue:Kg,useDeferredValue:function(e){var t=Ln();return i_(t,yt.memoizedState,e)},useTransition:function(){var e=kh(Ka)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:H1,useSyncExternalStore:V1,useId:s_,unstable_isNewReconciler:!1},VO={readContext:An,useCallback:n_,useContext:An,useEffect:Gg,useImperativeHandle:t_,useInsertionEffect:J1,useLayoutEffect:Z1,useMemo:r_,useReducer:Sh,useRef:X1,useState:function(){return Sh(Ka)},useDebugValue:Kg,useDeferredValue:function(e){var t=Ln();return yt===null?t.memoizedState=e:i_(t,yt.memoizedState,e)},useTransition:function(){var e=Sh(Ka)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:H1,useSyncExternalStore:V1,useId:s_,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pd={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yt(),i=mi(e),s=Mr(r,i);s.payload=t,n!=null&&(s.callback=n),t=pi(e,s,i),t!==null&&(Gn(t,e,i,r),Bc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yt(),i=mi(e),s=Mr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=pi(e,s,i),t!==null&&(Gn(t,e,i,r),Bc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),r=mi(e),i=Mr(n,r);i.tag=2,t!=null&&(i.callback=t),t=pi(e,i,r),t!==null&&(Gn(t,e,r,n),Bc(t,e,r))}};function gv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ua(n,r)||!Ua(i,s):!0}function c_(e,t,n){var r=!1,i=wi,s=t.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=cn(t)?is:Bt.current,r=t.contextTypes,s=(r=r!=null)?oo(e,i):wi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function mv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pd.enqueueReplaceState(t,t.state,null)}function Xf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=cn(t)?is:Bt.current,i.context=oo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&pd.enqueueReplaceState(i,i.state,null),Cu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do n+=xE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ch(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qO=typeof WeakMap=="function"?WeakMap:Map;function u_(e,t,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Du||(Du=!0,lp=r),Jf(e,t)},n}function d_(e,t,n){n=Mr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Jf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jf(e,t),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function yv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qO;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=oP.bind(null,e,t,n),t.then(e,e))}function vv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mr(-1,1),t.tag=2,pi(n,t,1))),n.lanes|=1),e)}var YO=zr.ReactCurrentOwner,an=!1;function Vt(e,t,n,r){t.child=e===null?$1(t,null,n,r):lo(t,e.child,n,r)}function bv(e,t,n,r,i){n=n.render;var s=t.ref;return Js(t,i),r=qg(e,t,n,r,s,i),n=Yg(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fr(e,t,i)):(Ve&&n&&Ig(t),t.flags|=1,Vt(e,t,r,i),t.child)}function wv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!rm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,h_(e,t,s,r,i)):(e=Yc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ua,n(o,r)&&e.ref===t.ref)return Fr(e,t,i)}return t.flags|=1,e=yi(s,r),e.ref=t.ref,e.return=t,t.child=e}function h_(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ua(s,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,Fr(e,t,i)}return Zf(e,t,n,r,i)}function f_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Us,mn),mn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Us,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(Us,mn),mn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fe(Us,mn),mn|=r;return Vt(e,t,i,n),t.child}function p_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zf(e,t,n,r,i){var s=cn(n)?is:Bt.current;return s=oo(t,s),Js(t,i),n=qg(e,t,n,r,s,i),r=Yg(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fr(e,t,i)):(Ve&&r&&Ig(t),t.flags|=1,Vt(e,t,n,i),t.child)}function _v(e,t,n,r,i){if(cn(n)){var s=!0;bu(t)}else s=!1;if(Js(t,i),t.stateNode===null)Hc(e,t),c_(t,n,r),Xf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=cn(n)?is:Bt.current,c=oo(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&mv(t,o,r,c),Qr=!1;var h=t.memoizedState;o.state=h,Cu(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ln.current||Qr?(typeof u=="function"&&(Qf(t,n,u,r),l=t.memoizedState),(a=Qr||gv(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,U1(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Un(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=cn(n)?is:Bt.current,l=oo(t,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&mv(t,o,r,l),Qr=!1,h=t.memoizedState,o.state=h,Cu(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||ln.current||Qr?(typeof f=="function"&&(Qf(t,n,f,r),g=t.memoizedState),(c=Qr||gv(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ep(e,t,n,r,s,i)}function ep(e,t,n,r,i,s){p_(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&av(t,n,!1),Fr(e,t,s);r=t.stateNode,YO.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=lo(t,e.child,null,s),t.child=lo(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=r.state,i&&av(t,n,!0),t.child}function g_(e){var t=e.stateNode;t.pendingContext?ov(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ov(e,t.context,!1),Ug(e,t.containerInfo)}function kv(e,t,n,r,i){return ao(),Lg(i),t.flags|=256,Vt(e,t,n,r),t.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(e){return{baseLanes:e,cachePool:null,transitions:null}}function m_(e,t,n){var r=t.pendingProps,i=Qe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Qe,i&1),e===null)return Gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yd(o,r,0,null),e=es(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=np(n),t.memoizedState=tp,e):Qg(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GO(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=yi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yi(a,s):(s=es(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=tp,r}return s=e.child,e=s.sibling,r=yi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qg(e,t){return t=yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rc(e,t,n,r){return r!==null&&Lg(r),lo(t,e.child,null,n),e=Qg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GO(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ch(Error(V(422))),rc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=yd({mode:"visible",children:r.children},i,0,null),s=es(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&lo(t,e.child,null,o),t.child.memoizedState=np(o),t.memoizedState=tp,s);if(!(t.mode&1))return rc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=Ch(s,r,void 0),rc(e,t,o,r)}if(a=(o&e.childLanes)!==0,an||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nr(e,i),Gn(r,e,i,-1))}return nm(),r=Ch(Error(V(421))),rc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=aP.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,vn=fi(i.nextSibling),xn=t,Ve=!0,Vn=null,e!==null&&(Dn[Rn++]=Pr,Dn[Rn++]=Tr,Dn[Rn++]=ss,Pr=e.id,Tr=e.overflow,ss=t),t=Qg(t,r.children),t.flags|=4096,t)}function Sv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kf(e.return,t,n)}function Eh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function y_(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sv(e,n,t);else if(e.tag===19)Sv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Eu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Eh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Eu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Eh(t,!0,n,null,s);break;case"together":Eh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=yi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KO(e,t,n){switch(t.tag){case 3:g_(t),ao();break;case 5:W1(t);break;case 1:cn(t.type)&&bu(t);break;case 4:Ug(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fe(ku,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?m_(e,t,n):(Fe(Qe,Qe.current&1),e=Fr(e,t,n),e!==null?e.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,f_(e,t,n)}return Fr(e,t,n)}var v_,rp,x_,b_;v_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rp=function(){};x_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xi(gr.current);var s=null;switch(n){case"input":i=Cf(e,i),r=Cf(e,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Pf(e,i),r=Pf(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vu)}Df(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Aa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$e("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};b_=function(e,t,n,r){n!==r&&(t.flags|=4)};function $o(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QO(e,t,n){var r=t.pendingProps;switch(Ag(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return cn(t.type)&&xu(),Lt(t),null;case 3:return r=t.stateNode,co(),Be(ln),Be(Bt),Hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(tc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(dp(Vn),Vn=null))),rp(e,t),Lt(t),null;case 5:Wg(t);var i=Xi(Ya.current);if(n=t.type,e!==null&&t.stateNode!=null)x_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Lt(t),null}if(e=Xi(gr.current),tc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hr]=t,r[Va]=s,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<ia.length;i++)$e(ia[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":My(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":Ay(r,s),$e("invalid",r)}Df(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ec(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ec(r.textContent,a,e),i=["children",""+a]):Aa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":ql(r),Iy(r,s,!0);break;case"textarea":ql(r),Ly(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[hr]=t,e[Va]=r,v_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Rf(n,r),n){case"dialog":$e("cancel",e),$e("close",e),i=r;break;case"iframe":case"object":case"embed":$e("load",e),i=r;break;case"video":case"audio":for(i=0;i<ia.length;i++)$e(ia[i],e);i=r;break;case"source":$e("error",e),i=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),i=r;break;case"details":$e("toggle",e),i=r;break;case"input":My(e,r),i=Cf(e,r),$e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),$e("invalid",e);break;case"textarea":Ay(e,r),i=Pf(e,r),$e("invalid",e);break;default:i=r}Df(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Xw(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&La(e,l):typeof l=="number"&&La(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Aa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$e("scroll",e):l!=null&&bg(e,s,l,o))}switch(n){case"input":ql(e),Iy(e,r,!1);break;case"textarea":ql(e),Ly(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Gs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)b_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Xi(Ya.current),Xi(gr.current),tc(t)){if(r=t.stateNode,n=t.memoizedProps,r[hr]=t,(s=r.nodeValue!==n)&&(e=xn,e!==null))switch(e.tag){case 3:ec(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=t,t.stateNode=r}return Lt(t),null;case 13:if(Be(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&vn!==null&&t.mode&1&&!(t.flags&128))F1(),ao(),t.flags|=98560,s=!1;else if(s=tc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[hr]=t}else ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),s=!1}else Vn!==null&&(dp(Vn),Vn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?xt===0&&(xt=3):nm())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return co(),rp(e,t),e===null&&Wa(t.stateNode.containerInfo),Lt(t),null;case 10:return zg(t.type._context),Lt(t),null;case 17:return cn(t.type)&&xu(),Lt(t),null;case 19:if(Be(Qe),s=t.memoizedState,s===null)return Lt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)$o(s,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eu(e),o!==null){for(t.flags|=128,$o(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&at()>ho&&(t.flags|=128,r=!0,$o(s,!1),t.lanes=4194304)}else{if(!r)if(e=Eu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return Lt(t),null}else 2*at()-s.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,r=!0,$o(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),t):(Lt(t),null);case 22:case 23:return tm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function XO(e,t){switch(Ag(t),t.tag){case 1:return cn(t.type)&&xu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return co(),Be(ln),Be(Bt),Hg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wg(t),null;case 13:if(Be(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Qe),null;case 4:return co(),null;case 10:return zg(t.type._context),null;case 22:case 23:return tm(),null;case 24:return null;default:return null}}var ic=!1,Ft=!1,JO=typeof WeakSet=="function"?WeakSet:Set,J=null;function Bs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function ip(e,t,n){try{n()}catch(r){rt(e,t,r)}}var Cv=!1;function ZO(e,t){if(Bf=gu,e=C1(),Mg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:e,selectionRange:n},gu=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Un(t.type,y),x);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(k){rt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=Cv,Cv=!1,g}function xa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ip(t,n,s)}i=i.next}while(i!==r)}}function gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function w_(e){var t=e.alternate;t!==null&&(e.alternate=null,w_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hr],delete t[Va],delete t[Vf],delete t[AO],delete t[LO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function __(e){return e.tag===5||e.tag===3||e.tag===4}function Ev(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||__(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function op(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vu));else if(r!==4&&(e=e.child,e!==null))for(op(e,t,n),e=e.sibling;e!==null;)op(e,t,n),e=e.sibling}function ap(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ap(e,t,n),e=e.sibling;e!==null;)ap(e,t,n),e=e.sibling}var Dt=null,Wn=!1;function Wr(e,t,n){for(n=n.child;n!==null;)k_(e,t,n),n=n.sibling}function k_(e,t,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(ad,n)}catch{}switch(n.tag){case 5:Ft||Bs(n,t);case 6:var r=Dt,i=Wn;Dt=null,Wr(e,t,n),Dt=r,Wn=i,Dt!==null&&(Wn?(e=Dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Wn?(e=Dt,n=n.stateNode,e.nodeType===8?xh(e.parentNode,n):e.nodeType===1&&xh(e,n),$a(e)):xh(Dt,n.stateNode));break;case 4:r=Dt,i=Wn,Dt=n.stateNode.containerInfo,Wn=!0,Wr(e,t,n),Dt=r,Wn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ip(n,t,o),i=i.next}while(i!==r)}Wr(e,t,n);break;case 1:if(!Ft&&(Bs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,t,a)}Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,Wr(e,t,n),Ft=r):Wr(e,t,n);break;default:Wr(e,t,n)}}function Ov(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new JO),t.forEach(function(r){var i=lP.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,Wn=!1;break e;case 3:Dt=a.stateNode.containerInfo,Wn=!0;break e;case 4:Dt=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Dt===null)throw Error(V(160));k_(s,o,i),Dt=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S_(t,e),t=t.sibling}function S_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(t,e),sr(e),r&4){try{xa(3,e,e.return),gd(3,e)}catch(y){rt(e,e.return,y)}try{xa(5,e,e.return)}catch(y){rt(e,e.return,y)}}break;case 1:Bn(t,e),sr(e),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Bn(t,e),sr(e),r&512&&n!==null&&Bs(n,n.return),e.flags&32){var i=e.stateNode;try{La(i,"")}catch(y){rt(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qw(i,s),Rf(a,o);var c=Rf(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Xw(i,d):u==="dangerouslySetInnerHTML"?Kw(i,d):u==="children"?La(i,d):bg(i,u,d,c)}switch(a){case"input":Ef(i,s);break;case"textarea":Yw(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Gs(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Gs(i,!!s.multiple,s.defaultValue,!0):Gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Va]=s}catch(y){rt(e,e.return,y)}}break;case 6:if(Bn(t,e),sr(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){rt(e,e.return,y)}}break;case 3:if(Bn(t,e),sr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$a(t.containerInfo)}catch(y){rt(e,e.return,y)}break;case 4:Bn(t,e),sr(e);break;case 13:Bn(t,e),sr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zg=at())),r&4&&Ov(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(c=Ft)||u,Bn(t,e),Ft=c):Bn(t,e),sr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(J=e,u=e.child;u!==null;){for(d=J=u;J!==null;){switch(h=J,f=h.child,h.tag){case 0:case 11:case 14:case 15:xa(4,h,h.return);break;case 1:Bs(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:Bs(h,h.return);break;case 22:if(h.memoizedState!==null){Tv(d);continue}}f!==null?(f.return=h,J=f):Tv(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qw("display",o))}catch(y){rt(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){rt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(t,e),sr(e),r&4&&Ov(e);break;case 21:break;default:Bn(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(__(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(La(i,""),r.flags&=-33);var s=Ev(e);ap(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ev(e);op(e,a,o);break;default:throw Error(V(161))}}catch(l){rt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eP(e,t,n){J=e,C_(e)}function C_(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ic;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=ic;var c=Ft;if(ic=o,(Ft=l)&&!c)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?Dv(i):l!==null?(l.return=o,J=l):Dv(i);for(;s!==null;)J=s,C_(s),s=s.sibling;J=i,ic=a,Ft=c}Pv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):Pv(e)}}function Pv(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||gd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Un(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&hv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$a(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ft||t.flags&512&&sp(t)}catch(h){rt(t,t.return,h)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Tv(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Dv(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gd(4,t)}catch(l){rt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){rt(t,i,l)}}var s=t.return;try{sp(t)}catch(l){rt(t,s,l)}break;case 5:var o=t.return;try{sp(t)}catch(l){rt(t,o,l)}}}catch(l){rt(t,t.return,l)}if(t===e){J=null;break}var a=t.sibling;if(a!==null){a.return=t.return,J=a;break}J=t.return}}var tP=Math.ceil,Tu=zr.ReactCurrentDispatcher,Xg=zr.ReactCurrentOwner,In=zr.ReactCurrentBatchConfig,we=0,Ot=null,gt=null,jt=0,mn=0,Us=Oi(0),xt=0,Xa=null,as=0,md=0,Jg=0,ba=null,nn=null,Zg=0,ho=1/0,Sr=null,Du=!1,lp=null,gi=null,sc=!1,ii=null,Ru=0,wa=0,cp=null,Vc=-1,qc=0;function Yt(){return we&6?at():Vc!==-1?Vc:Vc=at()}function mi(e){return e.mode&1?we&2&&jt!==0?jt&-jt:FO.transition!==null?(qc===0&&(qc=c1()),qc):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:m1(e.type)),e):1}function Gn(e,t,n,r){if(50<wa)throw wa=0,cp=null,Error(V(185));xl(e,n,r),(!(we&2)||e!==Ot)&&(e===Ot&&(!(we&2)&&(md|=n),xt===4&&ti(e,jt)),un(e,r),n===1&&we===0&&!(t.mode&1)&&(ho=at()+500,hd&&Pi()))}function un(e,t){var n=e.callbackNode;FE(e,t);var r=pu(e,e===Ot?jt:0);if(r===0)n!==null&&zy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zy(n),t===1)e.tag===0?NO(Rv.bind(null,e)):A1(Rv.bind(null,e)),MO(function(){!(we&6)&&Pi()}),n=null;else{switch(u1(r)){case 1:n=Cg;break;case 4:n=a1;break;case 16:n=fu;break;case 536870912:n=l1;break;default:n=fu}n=M_(n,E_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function E_(e,t){if(Vc=-1,qc=0,we&6)throw Error(V(327));var n=e.callbackNode;if(Zs()&&e.callbackNode!==n)return null;var r=pu(e,e===Ot?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ju(e,r);else{t=r;var i=we;we|=2;var s=P_();(Ot!==e||jt!==t)&&(Sr=null,ho=at()+500,Zi(e,t));do try{iP();break}catch(a){O_(e,a)}while(!0);Fg(),Tu.current=s,we=i,gt!==null?t=0:(Ot=null,jt=0,t=xt)}if(t!==0){if(t===2&&(i=Lf(e),i!==0&&(r=i,t=up(e,i))),t===1)throw n=Xa,Zi(e,0),ti(e,r),un(e,at()),n;if(t===6)ti(e,r);else{if(i=e.current.alternate,!(r&30)&&!nP(i)&&(t=ju(e,r),t===2&&(s=Lf(e),s!==0&&(r=s,t=up(e,s))),t===1))throw n=Xa,Zi(e,0),ti(e,r),un(e,at()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Ui(e,nn,Sr);break;case 3:if(ti(e,r),(r&130023424)===r&&(t=Zg+500-at(),10<t)){if(pu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hf(Ui.bind(null,e,nn,Sr),t);break}Ui(e,nn,Sr);break;case 4:if(ti(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tP(r/1960))-r,10<r){e.timeoutHandle=Hf(Ui.bind(null,e,nn,Sr),r);break}Ui(e,nn,Sr);break;case 5:Ui(e,nn,Sr);break;default:throw Error(V(329))}}}return un(e,at()),e.callbackNode===n?E_.bind(null,e):null}function up(e,t){var n=ba;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=ju(e,t),e!==2&&(t=nn,nn=n,t!==null&&dp(t)),e}function dp(e){nn===null?nn=e:nn.push.apply(nn,e)}function nP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ti(e,t){for(t&=~Jg,t&=~md,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yn(t),r=1<<n;e[n]=-1,t&=~r}}function Rv(e){if(we&6)throw Error(V(327));Zs();var t=pu(e,0);if(!(t&1))return un(e,at()),null;var n=ju(e,t);if(e.tag!==0&&n===2){var r=Lf(e);r!==0&&(t=r,n=up(e,r))}if(n===1)throw n=Xa,Zi(e,0),ti(e,t),un(e,at()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ui(e,nn,Sr),un(e,at()),null}function em(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(ho=at()+500,hd&&Pi())}}function ls(e){ii!==null&&ii.tag===0&&!(we&6)&&Zs();var t=we;we|=1;var n=In.transition,r=Pe;try{if(In.transition=null,Pe=1,e)return e()}finally{Pe=r,In.transition=n,we=t,!(we&6)&&Pi()}}function tm(){mn=Us.current,Be(Us)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jO(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xu();break;case 3:co(),Be(ln),Be(Bt),Hg();break;case 5:Wg(r);break;case 4:co();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:zg(r.type._context);break;case 22:case 23:tm()}n=n.return}if(Ot=e,gt=e=yi(e.current,null),jt=mn=t,xt=0,Xa=null,Jg=md=as=0,nn=ba=null,Qi!==null){for(t=0;t<Qi.length;t++)if(n=Qi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qi=null}return e}function O_(e,t){do{var n=gt;try{if(Fg(),Uc.current=Pu,Ou){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ou=!1}if(os=0,kt=yt=Je=null,va=!1,Ga=0,Xg.current=null,n===null||n.return===null){xt=1,Xa=t,gt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=vv(o);if(f!==null){f.flags&=-257,xv(f,o,a,s,t),f.mode&1&&yv(s,c,t),t=f,l=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){yv(s,c,t),nm();break e}l=Error(V(426))}}else if(Ve&&a.mode&1){var x=vv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),xv(x,o,a,s,t),Lg(uo(l,a));break e}}s=l=uo(l,a),xt!==4&&(xt=2),ba===null?ba=[s]:ba.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=u_(s,l,t);dv(s,m);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gi===null||!gi.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=d_(s,a,t);dv(s,k);break e}}s=s.return}while(s!==null)}D_(n)}catch(S){t=S,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function P_(){var e=Tu.current;return Tu.current=Pu,e===null?Pu:e}function nm(){(xt===0||xt===3||xt===2)&&(xt=4),Ot===null||!(as&268435455)&&!(md&268435455)||ti(Ot,jt)}function ju(e,t){var n=we;we|=2;var r=P_();(Ot!==e||jt!==t)&&(Sr=null,Zi(e,t));do try{rP();break}catch(i){O_(e,i)}while(!0);if(Fg(),we=n,Tu.current=r,gt!==null)throw Error(V(261));return Ot=null,jt=0,xt}function rP(){for(;gt!==null;)T_(gt)}function iP(){for(;gt!==null&&!TE();)T_(gt)}function T_(e){var t=j_(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?D_(e):gt=t,Xg.current=null}function D_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=XO(n,t),n!==null){n.flags&=32767,gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,gt=null;return}}else if(n=QO(n,t,mn),n!==null){gt=n;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);xt===0&&(xt=5)}function Ui(e,t,n){var r=Pe,i=In.transition;try{In.transition=null,Pe=1,sP(e,t,n,r)}finally{In.transition=i,Pe=r}return null}function sP(e,t,n,r){do Zs();while(ii!==null);if(we&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(zE(e,s),e===Ot&&(gt=Ot=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,M_(fu,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var o=Pe;Pe=1;var a=we;we|=4,Xg.current=null,ZO(e,n),S_(n,e),CO(Uf),gu=!!Bf,Uf=Bf=null,e.current=n,eP(n),DE(),we=a,Pe=o,In.transition=s}else e.current=n;if(sc&&(sc=!1,ii=e,Ru=i),s=e.pendingLanes,s===0&&(gi=null),ME(n.stateNode),un(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,e=lp,lp=null,e;return Ru&1&&e.tag!==0&&Zs(),s=e.pendingLanes,s&1?e===cp?wa++:(wa=0,cp=e):wa=0,Pi(),null}function Zs(){if(ii!==null){var e=u1(Ru),t=In.transition,n=Pe;try{if(In.transition=null,Pe=16>e?16:e,ii===null)var r=!1;else{if(e=ii,ii=null,Ru=0,we&6)throw Error(V(331));var i=we;for(we|=4,J=e.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:xa(8,u,s)}var d=u.child;if(d!==null)d.return=u,J=d;else for(;J!==null;){u=J;var h=u.sibling,f=u.return;if(w_(u),u===c){J=null;break}if(h!==null){h.return=f,J=h;break}J=f}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xa(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,J=m;break e}J=s.return}}var v=e.current;for(J=v;J!==null;){o=J;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,J=b;else e:for(o=v;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gd(9,a)}}catch(S){rt(a,a.return,S)}if(a===o){J=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,J=k;break e}J=a.return}}if(we=i,Pi(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(ad,e)}catch{}r=!0}return r}finally{Pe=n,In.transition=t}}return!1}function jv(e,t,n){t=uo(n,t),t=u_(e,t,1),e=pi(e,t,1),t=Yt(),e!==null&&(xl(e,1,t),un(e,t))}function rt(e,t,n){if(e.tag===3)jv(e,e,n);else for(;t!==null;){if(t.tag===3){jv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){e=uo(n,e),e=d_(t,e,1),t=pi(t,e,1),e=Yt(),t!==null&&(xl(t,1,e),un(t,e));break}}t=t.return}}function oP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&n,Ot===e&&(jt&n)===n&&(xt===4||xt===3&&(jt&130023424)===jt&&500>at()-Zg?Zi(e,0):Jg|=n),un(e,t)}function R_(e,t){t===0&&(e.mode&1?(t=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):t=1);var n=Yt();e=Nr(e,t),e!==null&&(xl(e,t,n),un(e,n))}function aP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),R_(e,n)}function lP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),R_(e,n)}var j_;j_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)an=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return an=!1,KO(e,t,n);an=!!(e.flags&131072)}else an=!1,Ve&&t.flags&1048576&&L1(t,_u,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hc(e,t),e=t.pendingProps;var i=oo(t,Bt.current);Js(t,n),i=qg(null,t,r,e,i,n);var s=Yg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(s=!0,bu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bg(t),i.updater=pd,t.stateNode=i,i._reactInternals=t,Xf(t,r,e,n),t=ep(null,t,r,!0,s,n)):(t.tag=0,Ve&&s&&Ig(t),Vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=uP(r),e=Un(r,e),i){case 0:t=Zf(null,t,r,e,n);break e;case 1:t=_v(null,t,r,e,n);break e;case 11:t=bv(null,t,r,e,n);break e;case 14:t=wv(null,t,r,Un(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),Zf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),_v(e,t,r,i,n);case 3:e:{if(g_(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,U1(e,t),Cu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=uo(Error(V(423)),t),t=kv(e,t,r,n,i);break e}else if(r!==i){i=uo(Error(V(424)),t),t=kv(e,t,r,n,i);break e}else for(vn=fi(t.stateNode.containerInfo.firstChild),xn=t,Ve=!0,Vn=null,n=$1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===i){t=Fr(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return W1(t),e===null&&Gf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Wf(r,i)?o=null:s!==null&&Wf(r,s)&&(t.flags|=32),p_(e,t),Vt(e,t,o,n),t.child;case 6:return e===null&&Gf(t),null;case 13:return m_(e,t,n);case 4:return Ug(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lo(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),bv(e,t,r,i,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Fe(ku,r._currentValue),r._currentValue=o,s!==null)if(Xn(s.value,o)){if(s.children===i.children&&!ln.current){t=Fr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Js(t,n),i=An(i),r=r(i),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,i=Un(r,t.pendingProps),i=Un(r.type,i),wv(e,t,r,i,n);case 15:return h_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),Hc(e,t),t.tag=1,cn(r)?(e=!0,bu(t)):e=!1,Js(t,n),c_(t,r,i),Xf(t,r,i,n),ep(null,t,r,!0,e,n);case 19:return y_(e,t,n);case 22:return f_(e,t,n)}throw Error(V(156,t.tag))};function M_(e,t){return o1(e,t)}function cP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new cP(e,t,n,r)}function rm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uP(e){if(typeof e=="function")return rm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_g)return 11;if(e===kg)return 14}return 2}function yi(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yc(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")rm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case js:return es(n.children,i,s,t);case wg:o=8,i|=8;break;case wf:return e=Mn(12,n,t,i|2),e.elementType=wf,e.lanes=s,e;case _f:return e=Mn(13,n,t,i),e.elementType=_f,e.lanes=s,e;case kf:return e=Mn(19,n,t,i),e.elementType=kf,e.lanes=s,e;case Ww:return yd(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bw:o=10;break e;case Uw:o=9;break e;case _g:o=11;break e;case kg:o=14;break e;case Kr:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Mn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function es(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function yd(e,t,n,r){return e=Mn(22,e,r,t),e.elementType=Ww,e.lanes=n,e.stateNode={isHidden:!1},e}function Oh(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function Ph(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dP(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function im(e,t,n,r,i,s,o,a,l){return e=new dP(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bg(s),e}function hP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function I_(e){if(!e)return wi;e=e._reactInternals;e:{if(ps(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(cn(n))return I1(e,n,t)}return t}function A_(e,t,n,r,i,s,o,a,l){return e=im(n,r,!0,e,i,s,o,a,l),e.context=I_(null),n=e.current,r=Yt(),i=mi(n),s=Mr(r,i),s.callback=t??null,pi(n,s,i),e.current.lanes=i,xl(e,i,r),un(e,r),e}function vd(e,t,n,r){var i=t.current,s=Yt(),o=mi(i);return n=I_(n),t.context===null?t.context=n:t.pendingContext=n,t=Mr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pi(i,t,o),e!==null&&(Gn(e,i,o,s),Bc(e,i,o)),o}function Mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sm(e,t){Mv(e,t),(e=e.alternate)&&Mv(e,t)}function fP(){return null}var L_=typeof reportError=="function"?reportError:function(e){console.error(e)};function om(e){this._internalRoot=e}xd.prototype.render=om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));vd(e,t,null,null)};xd.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ls(function(){vd(null,e,null,null)}),t[Lr]=null}};function xd(e){this._internalRoot=e}xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=f1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ei.length&&t!==0&&t<ei[n].priority;n++);ei.splice(n,0,e),n===0&&g1(e)}};function am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function pP(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Mu(o);s.call(c)}}var o=A_(t,r,e,0,null,!1,!1,"",Iv);return e._reactRootContainer=o,e[Lr]=o.current,Wa(e.nodeType===8?e.parentNode:e),ls(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Mu(l);a.call(c)}}var l=im(e,0,!1,null,null,!1,!1,"",Iv);return e._reactRootContainer=l,e[Lr]=l.current,Wa(e.nodeType===8?e.parentNode:e),ls(function(){vd(t,l,n,r)}),l}function wd(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mu(o);a.call(l)}}vd(t,o,e,i)}else o=pP(n,t,e,i,r);return Mu(o)}d1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ra(t.pendingLanes);n!==0&&(Eg(t,n|1),un(t,at()),!(we&6)&&(ho=at()+500,Pi()))}break;case 13:ls(function(){var r=Nr(e,1);if(r!==null){var i=Yt();Gn(r,e,1,i)}}),sm(e,1)}};Og=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var n=Yt();Gn(t,e,134217728,n)}sm(e,134217728)}};h1=function(e){if(e.tag===13){var t=mi(e),n=Nr(e,t);if(n!==null){var r=Yt();Gn(n,e,t,r)}sm(e,t)}};f1=function(){return Pe};p1=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Mf=function(e,t,n){switch(t){case"input":if(Ef(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=dd(r);if(!i)throw Error(V(90));Vw(r),Ef(r,i)}}}break;case"textarea":Yw(e,n);break;case"select":t=n.value,t!=null&&Gs(e,!!n.multiple,t,!1)}};e1=em;t1=ls;var gP={usingClientEntryPoint:!1,Events:[wl,Ls,dd,Jw,Zw,em]},Bo={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mP={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i1(e),e===null?null:e.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||fP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ad=oc.inject(mP),pr=oc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gP;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(t))throw Error(V(200));return hP(e,t,null,n)};_n.createRoot=function(e,t){if(!am(e))throw Error(V(299));var n=!1,r="",i=L_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=im(e,1,!1,null,null,n,!1,r,i),e[Lr]=t.current,Wa(e.nodeType===8?e.parentNode:e),new om(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=i1(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return ls(e)};_n.hydrate=function(e,t,n){if(!bd(t))throw Error(V(200));return wd(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!am(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=L_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=A_(t,null,e,1,n??null,i,!1,s,o),e[Lr]=t.current,Wa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xd(t)};_n.render=function(e,t,n){if(!bd(t))throw Error(V(200));return wd(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!bd(e))throw Error(V(40));return e._reactRootContainer?(ls(function(){wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};_n.unstable_batchedUpdates=em;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bd(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return wd(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(e){console.error(e)}}N_(),Nw.exports=_n;var Ws=Nw.exports,F_,Av=Ws;F_=Av.createRoot,Av.hydrateRoot;var lm={};Object.defineProperty(lm,"__esModule",{value:!0});lm.parse=kP;lm.serialize=SP;const yP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,vP=/^[\u0021-\u003A\u003C-\u007E]*$/,xP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,bP=/^[\u0020-\u003A\u003D-\u007E]*$/,wP=Object.prototype.toString,_P=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function kP(e,t){const n=new _P,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||CP;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const a=e.indexOf(";",s),l=a===-1?r:a;if(o>l){s=e.lastIndexOf(";",o-1)+1;continue}const c=Lv(e,s,o),u=Nv(e,o,c),d=e.slice(c,u);if(n[d]===void 0){let h=Lv(e,o+1,l),f=Nv(e,l,h);const g=i(e.slice(h,f));n[d]=g}s=l+1}while(s<r);return n}function Lv(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Nv(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function SP(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!yP.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!vP.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!xP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!bP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!EP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function CP(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function EP(e){return wP.call(e)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fv="popstate";function OP(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return hp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ja(i)}return TP(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PP(){return Math.random().toString(36).substring(2,10)}function zv(e,t){return{usr:e.state,key:e.key,idx:t}}function hp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_o(t):t,state:n,key:t&&t.key||r||PP()}}function Ja({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function TP(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let x=u(),m=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:m})}function h(x,m){a="PUSH";let v=hp(y.location,x,m);c=u()+1;let b=zv(v,c),k=y.createHref(v);try{o.pushState(b,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}s&&l&&l({action:a,location:y.location,delta:1})}function f(x,m){a="REPLACE";let v=hp(y.location,x,m);c=u();let b=zv(v,c),k=y.createHref(v);o.replaceState(b,"",k),s&&l&&l({action:a,location:y.location,delta:0})}function g(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:Ja(x);return v=v.replace(/ $/,"%20"),Ge(m,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,m)}let y={get action(){return a},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fv,d),l=x,()=>{i.removeEventListener(Fv,d),l=null}},createHref(x){return t(i,x)},createURL:g,encodeLocation(x){let m=g(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(x){return o.go(x)}};return y}function z_(e,t,n="/"){return DP(e,t,n,!1)}function DP(e,t,n,r){let i=typeof t=="string"?_o(t):t,s=_i(i.pathname||"/",n);if(s==null)return null;let o=$_(e);RP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=UP(s);a=$P(o[l],c,r)}return a}function $_(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Ir([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ge(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),$_(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:FP(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of B_(s.path))i(s,o,l)}),t}function B_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=B_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function RP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jP=/^:[\w-]+$/,MP=3,IP=2,AP=1,LP=10,NP=-2,$v=e=>e==="*";function FP(e,t){let n=e.split("/"),r=n.length;return n.some($v)&&(r+=NP),t&&(r+=IP),n.filter(i=>!$v(i)).reduce((i,s)=>i+(jP.test(s)?MP:s===""?AP:LP),r)}function zP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function $P(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=Iu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Iu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ir([s,d.pathname]),pathnameBase:qP(Ir([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ir([s,d.pathnameBase]))}return o}function Iu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=BP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const f=a[h];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function BP(e,t=!1,n=!0){$r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function UP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $r(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function WP(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?_o(e):e;return{pathname:n?n.startsWith("/")?n:HP(n,t):t,search:YP(r),hash:GP(i)}}function HP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Th(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cm(e){let t=VP(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function um(e,t,n,r=!1){let i;typeof e=="string"?i=_o(e):(i={...e},Ge(!i.pathname||!i.pathname.includes("?"),Th("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),Th("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),Th("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=WP(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Ir=e=>e.join("/").replace(/\/\/+/g,"/"),qP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var U_=["POST","PUT","PATCH","DELETE"];new Set(U_);var QP=["GET",...U_];new Set(QP);var ko=w.createContext(null);ko.displayName="DataRouter";var _d=w.createContext(null);_d.displayName="DataRouterState";var W_=w.createContext({isTransitioning:!1});W_.displayName="ViewTransition";var XP=w.createContext(new Map);XP.displayName="Fetchers";var JP=w.createContext(null);JP.displayName="Await";var er=w.createContext(null);er.displayName="Navigation";var kl=w.createContext(null);kl.displayName="Location";var tr=w.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var dm=w.createContext(null);dm.displayName="RouteError";function ZP(e,{relative:t}={}){Ge(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(er),{hash:i,pathname:s,search:o}=Sl(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Ir([n,s])),r.createHref({pathname:a,search:o,hash:i})}function So(){return w.useContext(kl)!=null}function nr(){return Ge(So(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(kl).location}var H_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V_(e){w.useContext(er).static||w.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=w.useContext(tr);return e?hT():eT()}function eT(){Ge(So(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(ko),{basename:t,navigator:n}=w.useContext(er),{matches:r}=w.useContext(tr),{pathname:i}=nr(),s=JSON.stringify(cm(r)),o=w.useRef(!1);return V_(()=>{o.current=!0}),w.useCallback((l,c={})=>{if($r(o.current,H_),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=um(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ir([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,s,i,e])}w.createContext(null);function hm(){let{matches:e}=w.useContext(tr),t=e[e.length-1];return t?t.params:{}}function Sl(e,{relative:t}={}){let{matches:n}=w.useContext(tr),{pathname:r}=nr(),i=JSON.stringify(cm(n));return w.useMemo(()=>um(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function tT(e,t){return q_(e,t)}function q_(e,t,n,r){var y;Ge(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(er),{matches:s}=w.useContext(tr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=nr(),u;if(t){let x=typeof t=="string"?_o(t):t;Ge(l==="/"||((y=x.pathname)==null?void 0:y.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${x.pathname}" was given in the \`location\` prop.`),u=x}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let f=z_(e,{pathname:h}),g=oT(f&&f.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ir([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ir([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&g?w.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...u},navigationType:"POP"}},g):g}function nT(){let e=dT(),t=KP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}var rT=w.createElement(nT,null),iT=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(tr.Provider,{value:this.props.routeContext},w.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sT({routeContext:e,match:t,children:n}){let r=w.useContext(ko);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(tr.Provider,{value:e},n)}function oT(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Ge(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,h=!1,f=null,g=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||rT,o&&(a<0&&u===0?(fT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,u+1)),x=()=>{let m;return d?m=f:h?m=g:c.route.Component?m=w.createElement(c.route.Component,null):c.route.element?m=c.route.element:m=l,w.createElement(sT,{match:c,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:m})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?w.createElement(iT,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}function fm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(e){let t=w.useContext(ko);return Ge(t,fm(e)),t}function lT(e){let t=w.useContext(_d);return Ge(t,fm(e)),t}function cT(e){let t=w.useContext(tr);return Ge(t,fm(e)),t}function pm(e){let t=cT(e),n=t.matches[t.matches.length-1];return Ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function uT(){return pm("useRouteId")}function dT(){var r;let e=w.useContext(dm),t=lT("useRouteError"),n=pm("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function hT(){let{router:e}=aT("useNavigate"),t=pm("useNavigate"),n=w.useRef(!1);return V_(()=>{n.current=!0}),w.useCallback(async(i,s={})=>{$r(n.current,H_),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Bv={};function fT(e,t,n){Bv[e]||(Bv[e]=!0,$r(!1,n))}w.memo(pT);function pT({routes:e,future:t,state:n}){return q_(e,void 0,n,t)}function Ji({to:e,replace:t,state:n,relative:r}){Ge(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(er);$r(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(tr),{pathname:o}=nr(),a=Qt(),l=um(e,cm(s),o,r==="path"),c=JSON.stringify(l);return w.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function pt(e){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gT({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ge(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=_o(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,f=w.useMemo(()=>{let g=_i(l,o);return g==null?null:{location:{pathname:g,search:c,hash:u,state:d,key:h},navigationType:r}},[o,l,c,u,d,h,r]);return $r(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:w.createElement(er.Provider,{value:a},w.createElement(kl.Provider,{children:t,value:f}))}function Y_({children:e,location:t}){return tT(fp(e),t)}function fp(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,fp(r.props.children,s));return}Ge(r.type===pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fp(r.props.children,s)),n.push(o)}),n}var Gc="get",Kc="application/x-www-form-urlencoded";function kd(e){return e!=null&&typeof e.tagName=="string"}function mT(e){return kd(e)&&e.tagName.toLowerCase()==="button"}function yT(e){return kd(e)&&e.tagName.toLowerCase()==="form"}function vT(e){return kd(e)&&e.tagName.toLowerCase()==="input"}function xT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bT(e,t){return e.button===0&&(!t||t==="_self")&&!xT(e)}var ac=null;function wT(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var _T=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dh(e){return e!=null&&!_T.has(e)?($r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):e}function kT(e,t){let n,r,i,s,o;if(yT(e)){let a=e.getAttribute("action");r=a?_i(a,t):null,n=e.getAttribute("method")||Gc,i=Dh(e.getAttribute("enctype"))||Kc,s=new FormData(e)}else if(mT(e)||vT(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?_i(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Gc,i=Dh(e.getAttribute("formenctype"))||Dh(a.getAttribute("enctype"))||Kc,s=new FormData(a,e),!wT()){let{name:c,type:u,value:d}=e;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,d)}}else{if(kd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,r=null,i=Kc,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function gm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function ST(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ET(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await ST(s,n);return o.links?o.links():[]}return[]}));return DT(r.flat(1).filter(CT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Uv(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function OT(e,t){return PT(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function PT(e){return[...new Set(e)]}function TT(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function DT(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(TT(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function RT(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function jT(){let e=w.useContext(ko);return gm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MT(){let e=w.useContext(_d);return gm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mm=w.createContext(void 0);mm.displayName="FrameworkContext";function G_(){let e=w.useContext(mm);return gm(e,"You must render this element inside a <HydratedRouter> element"),e}function IT(e,t){let n=w.useContext(mm),[r,i]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=m=>{m.forEach(v=>{o(v.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),w.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let f=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,h,{}]:[s,h,{onFocus:Uo(a,f),onBlur:Uo(l,g),onMouseEnter:Uo(c,f),onMouseLeave:Uo(u,g),onTouchStart:Uo(d,f)}]:[!1,h,{}]}function Uo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function AT({page:e,...t}){let{router:n}=jT(),r=w.useMemo(()=>z_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(NT,{page:e,matches:r,...t}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function LT(e){let{manifest:t,routeModules:n}=G_(),[r,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return ET(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function NT({page:e,matches:t,...n}){let r=nr(),{manifest:i,routeModules:s}=G_(),{loaderData:o,matches:a}=MT(),l=w.useMemo(()=>Uv(e,t,a,i,r,"data"),[e,t,a,i,r]),c=w.useMemo(()=>Uv(e,t,a,i,r,"assets"),[e,t,a,i,r]),u=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let f=new Set,g=!1;if(t.forEach(x=>{var v;let m=i.routes[x.route.id];!m||!m.hasLoader||(!l.some(b=>b.route.id===x.route.id)&&x.route.id in o&&((v=s[x.route.id])!=null&&v.shouldRevalidate)||m.hasClientLoader?g=!0:f.add(x.route.id))}),f.size===0)return[];let y=RT(e);return g&&f.size>0&&y.searchParams.set("_routes",t.filter(x=>f.has(x.route.id)).map(x=>x.route.id).join(",")),[y.pathname+y.search]},[o,r,i,l,t,e,s]),d=w.useMemo(()=>OT(c,i),[c,i]),h=LT(c);return w.createElement(w.Fragment,null,u.map(f=>w.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...n})),d.map(f=>w.createElement("link",{key:f,rel:"modulepreload",href:f,...n})),h.map(({key:f,link:g})=>w.createElement("link",{key:f,...g})))}function FT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K_&&(window.__reactRouterVersion="7.0.1")}catch{}function zT({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=OP({window:n,v5Compat:!0}));let i=r.current,[s,o]=w.useState({action:i.action,location:i.location}),a=w.useCallback(l=>{w.startTransition(()=>o(l))},[o]);return w.useLayoutEffect(()=>i.listen(a),[i,a]),w.createElement(gT,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eo=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},f){let{basename:g}=w.useContext(er),y=typeof c=="string"&&Q_.test(c),x,m=!1;if(typeof c=="string"&&y&&(x=c,K_))try{let M=new URL(window.location.href),E=c.startsWith("//")?new URL(M.protocol+c):new URL(c),I=_i(E.pathname,g);E.origin===M.origin&&I!=null?c=I+E.search+E.hash:m=!0}catch{$r(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=ZP(c,{relative:i}),[b,k,S]=IT(r,h),_=UT(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function O(M){t&&t(M),M.defaultPrevented||_(M)}let T=w.createElement("a",{...h,...S,href:x||v,onClick:m||s?t:O,ref:FT(f,k),target:l,"data-discover":!y&&n==="render"?"true":void 0});return b&&!y?w.createElement(w.Fragment,null,T,w.createElement(AT,{page:v})):T});eo.displayName="Link";var Hs=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=Sl(o,{relative:c.relative}),h=nr(),f=w.useContext(_d),{navigator:g,basename:y}=w.useContext(er),x=f!=null&&YT(d)&&a===!0,m=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,v=h.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(v=v.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&y&&(b=_i(b,y)||b);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=v===m||!i&&v.startsWith(m)&&v.charAt(k)==="/",_=b!=null&&(b===m||!i&&b.startsWith(m)&&b.charAt(m.length)==="/"),O={isActive:S,isPending:_,isTransitioning:x},T=S?t:void 0,M;typeof r=="function"?M=r(O):M=[r,S?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(O):s;return w.createElement(eo,{...c,"aria-current":T,className:M,ref:u,style:E,to:o,viewTransition:a},typeof l=="function"?l(O):l)});Hs.displayName="NavLink";var $T=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Gc,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let g=VT(),y=qT(a,{relative:c}),x=o.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&Q_.test(a),v=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let k=b.nativeEvent.submitter,S=(k==null?void 0:k.getAttribute("formmethod"))||o;g(k||b.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return w.createElement("form",{ref:f,method:x,action:y,onSubmit:r?l:v,...h,"data-discover":!m&&e==="render"?"true":void 0})});$T.displayName="Form";function BT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X_(e){let t=w.useContext(ko);return Ge(t,BT(e)),t}function UT(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Qt(),l=nr(),c=Sl(e,{relative:s});return w.useCallback(u=>{if(bT(u,t)){u.preventDefault();let d=n!==void 0?n:Ja(l)===Ja(c);a(e,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var WT=0,HT=()=>`__${String(++WT)}__`;function VT(){let{router:e}=X_("useSubmit"),{basename:t}=w.useContext(er),n=uT();return w.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=kT(r,t);if(i.navigate===!1){let u=i.fetcherKey||HT();await e.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function qT(e,{relative:t}={}){let{basename:n}=w.useContext(er),r=w.useContext(tr);Ge(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Sl(e||".",{relative:t})},o=nr();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ir([n,s.pathname])),Ja(s)}function YT(e,t={}){let n=w.useContext(W_);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X_("useViewTransitionState"),i=Sl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=_i(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=_i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Iu(i.pathname,o)!=null||Iu(i.pathname,s)!=null}new TextEncoder;const GT="modulepreload",KT=function(e){return"/Time2Use/"+e},Wv={},fo=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=KT(l),l in Wv)return;Wv[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":GT,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},QT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fo(async()=>{const{default:r}=await Promise.resolve().then(()=>Co);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ym extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class XT extends ym{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class JT extends ym{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ZT extends ym{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pp||(pp={}));var eD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class tD{constructor(t,{headers:n={},customFetch:r,region:i=pp.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=QT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return eD(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new XT(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new JT(u);if(!u.ok)throw new ZT(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var rn={},vm={},Sd={},Cl={},Cd={},Ed={},nD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},po=nD();const rD=po.fetch,J_=po.fetch.bind(po),Z_=po.Headers,iD=po.Request,sD=po.Response,Co=Object.freeze(Object.defineProperty({__proto__:null,Headers:Z_,Request:iD,Response:sD,default:J_,fetch:rD},Symbol.toStringTag,{value:"Module"})),oD=VC(Co);var Od={};Object.defineProperty(Od,"__esModule",{value:!0});class aD extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Od.default=aD;var ek=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ed,"__esModule",{value:!0});const lD=ek(oD),cD=ek(Od);let uD=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=m:u=JSON.parse(m))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await s.text();try{c=JSON.parse(y),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,f="OK")}catch{s.status===404&&y===""?(h=204,f="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new cD.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};Ed.default=uD;var dD=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cd,"__esModule",{value:!0});const hD=dD(Ed);let fD=class extends hD.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cd.default=fD;var pD=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const gD=pD(Cd);let mD=class extends gD.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Cl.default=mD;var yD=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sd,"__esModule",{value:!0});const Wo=yD(Cl);let vD=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Wo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Wo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Wo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Wo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Wo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Sd.default=vD;var Pd={},Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.version=void 0;Td.version="0.0.0-automated";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.DEFAULT_HEADERS=void 0;const xD=Td;Pd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xD.version}`};var tk=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vm,"__esModule",{value:!0});const bD=tk(Sd),wD=tk(Cl),_D=Pd;let kD=class nk{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},_D.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new bD.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new wD.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};vm.default=kD;var Eo=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const rk=Eo(vm);rn.PostgrestClient=rk.default;const ik=Eo(Sd);rn.PostgrestQueryBuilder=ik.default;const sk=Eo(Cl);rn.PostgrestFilterBuilder=sk.default;const ok=Eo(Cd);rn.PostgrestTransformBuilder=ok.default;const ak=Eo(Ed);rn.PostgrestBuilder=ak.default;const lk=Eo(Od);rn.PostgrestError=lk.default;var SD=rn.default={PostgrestClient:rk.default,PostgrestQueryBuilder:ik.default,PostgrestFilterBuilder:sk.default,PostgrestTransformBuilder:ok.default,PostgrestBuilder:ak.default,PostgrestError:lk.default};const{PostgrestClient:CD,PostgrestQueryBuilder:wW,PostgrestFilterBuilder:_W,PostgrestTransformBuilder:kW,PostgrestBuilder:SW}=SD,ED="2.11.2",OD={"X-Client-Info":`realtime-js/${ED}`},PD="1.0.0",ck=1e4,TD=1e3;var to;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(to||(to={}));var pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pn||(pn={}));var Hn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hn||(Hn={}));var gp;(function(e){e.websocket="websocket"})(gp||(gp={}));var Yi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yi||(Yi={}));class DD{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class uk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ae||(Ae={}));const Hv=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=RD(o,e,t,i),s),{})},RD=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?dk(s,o):mp(o)},dk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return AD(t,n)}switch(e){case Ae.bool:return jD(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return MD(t);case Ae.json:case Ae.jsonb:return ID(t);case Ae.timestamp:return LD(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return mp(t);default:return mp(t)}},mp=e=>e,jD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},MD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ID=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>dk(t,a))}return e},LD=e=>typeof e=="string"?e.replace(" ","T"):e,hk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Rh{constructor(t,n,r={},i=ck){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vv||(Vv={}));class _a{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_a.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=_a.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_a.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(x=>x.presence_ref),f=d.map(x=>x.presence_ref),g=u.filter(x=>f.indexOf(x.presence_ref)<0),y=d.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(a[c]=g),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qv||(qv={}));var Yv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yv||(Yv={}));var Cr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Cr||(Cr={}));class xm{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rh(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new uk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new _a(this),this.broadcastEndpointURL=hk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Cr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Cr.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(Cr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let y=0;y<f;y++){const x=h[y],{filter:{event:m,schema:v,table:b,filter:k}}=x,S=u&&u[y];if(S&&S.event===m&&S.schema===v&&S.table===b&&S.filter===k)g.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(Cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Cr.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Rh(this,Hn.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rh(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Hn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,y,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(y=f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var g,y,x,m,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return k&&((y=n.ids)===null||y===void 0?void 0:y.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(v=(m=f==null?void 0:f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return k==="*"||k===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:x,commit_timestamp:m,type:v,errors:b}=g;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:m,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&xm.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hn.close,{},t)}_onError(t){this._on(Hn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Hv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Hv(t.columns,t.old_record)),n}}const ND=()=>{},FD=typeof WebSocket<"u",zD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $D{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=OD,this.params={},this.timeout=ck,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ND,this.conn=null,this.sendBuffer=[],this.serializer=new DD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>fo(async()=>{const{default:l}=await Promise.resolve().then(()=>Co);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${gp.websocket}`,this.httpEndpoint=hk(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(FD){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new BD(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),fo(async()=>{const{default:t}=await import("./browser-Cu8qIgof.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PD}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case to.connecting:return Yi.Connecting;case to.open:return Yi.Open;case to.closing:return Yi.Closing;default:return Yi.Closed}}isConnected(){return this.connectionState()===Yi.Open}channel(t,n={config:{}}){const r=new xm(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Hn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(TD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([zD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class BD{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=to.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class bm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UD extends bm{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yp extends bm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var WD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const fk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fo(async()=>{const{default:r}=await Promise.resolve().then(()=>Co);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},HD=()=>WD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fo(()=>Promise.resolve().then(()=>Co),void 0)).Response:Response}),vp=e=>{if(Array.isArray(e))return e.map(n=>vp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=vp(r)}),t};var gs=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const jh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VD=(e,t,n)=>gs(void 0,void 0,void 0,function*(){const r=yield HD();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new UD(jh(i),e.status||500))}).catch(i=>{t(new yp(jh(i),i))}):t(new yp(jh(e),e))}),qD=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function El(e,t,n,r,i,s){return gs(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,qD(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>VD(l,a,r))})})}function Au(e,t,n,r){return gs(this,void 0,void 0,function*(){return El(e,"GET",t,n,r)})}function Xr(e,t,n,r,i){return gs(this,void 0,void 0,function*(){return El(e,"POST",t,r,i,n)})}function YD(e,t,n,r,i){return gs(this,void 0,void 0,function*(){return El(e,"PUT",t,r,i,n)})}function GD(e,t,n,r){return gs(this,void 0,void 0,function*(){return El(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pk(e,t,n,r,i){return gs(this,void 0,void 0,function*(){return El(e,"DELETE",t,r,i,n)})}var Zt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const KD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QD{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=fk(i)}uploadOrUpdate(t,n,r,i){return Zt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Gv),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Gv.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(_t(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Zt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Xr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new bm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}update(t,n,r){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Zt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Xr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Zt(this,void 0,void 0,function*(){try{const i=yield Xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}download(t,n){return Zt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Au(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}info(t){return Zt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Au(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vp(r),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}exists(t){return Zt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield GD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_t(r)&&r instanceof yp){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield pk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}list(t,n,r){return Zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},KD),n),{prefix:t||""});return{data:yield Xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const XD="2.7.1",JD={"X-Client-Info":`storage-js/${XD}`};var _s=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class ZD{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},JD),n),this.fetch=fk(r)}listBuckets(){return _s(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}getBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return _s(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return _s(this,void 0,void 0,function*(){try{return{data:yield YD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}})}emptyBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield pk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}}class eR extends ZD{constructor(t,n={},r){super(t,n,r)}from(t){return new QD(this.url,this.headers,t,this.fetch)}}const tR="2.47.6";let sa="";typeof Deno<"u"?sa="deno":typeof document<"u"?sa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sa="react-native":sa="node";const nR={"X-Client-Info":`supabase-js-${sa}/${tR}`},rR={headers:nR},iR={schema:"public"},sR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oR={};var aR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const lR=e=>{let t;return e?t=e:typeof fetch>"u"?t=J_:t=fetch,(...n)=>t(...n)},cR=()=>typeof Headers>"u"?Z_:Headers,uR=(e,t,n)=>{const r=lR(n),i=cR();return(s,o)=>aR(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var dR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function hR(e){return e.replace(/\/$/,"")}function fR(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>dR(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const gk="2.67.0",pR="http://localhost:9999",gR="supabase.auth.token",mR={"X-Client-Info":`gotrue-js/${gk}`},Kv=10,xp="X-Supabase-Api-Version",mk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function yR(e){return Math.round(Date.now()/1e3)+e}function vR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ar=()=>typeof document<"u",Ai={tested:!1,writable:!1},ka=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ai.tested)return Ai.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ai.tested=!0,Ai.writable=!0}catch{Ai.tested=!0,Ai.writable=!1}return Ai.writable};function xR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const yk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fo(async()=>{const{default:r}=await Promise.resolve().then(()=>Co);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},bR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vk=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},lc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},cc=async(e,t)=>{await e.removeItem(t)};function wR(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class Dd{constructor(){this.promise=new Dd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Dd.promiseConstructor=Promise;function Qv(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(wR(r))}async function _R(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kR(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function SR(e){return("0"+e.toString(16)).substr(-2)}function CR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,SR).join("")}async function ER(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function OR(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function PR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ER(e);return OR(n)}async function ks(e,t,n=!1){const r=CR();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await vk(e,`${t}-code-verifier`,i);const s=await PR(r);return[s,r===s?"plain":"s256"]}const TR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DR(e){const t=e.headers.get(xp);if(!t||!t.match(TR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Rd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RR extends Rd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jR(e){return he(e)&&e.name==="AuthApiError"}class xk extends Rd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ms extends Rd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Yr extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MR(e){return he(e)&&e.name==="AuthSessionMissingError"}class Mh extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uc extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dc extends ms{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IR(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xv extends ms{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bp extends ms{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ih(e){return he(e)&&e.name==="AuthRetryableFetchError"}class Jv extends ms{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var AR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Wi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LR=[502,503,504];async function Zv(e){var t;if(!bR(e))throw new bp(Wi(e),0);if(LR.includes(e.status))throw new bp(Wi(e),e.status);let n;try{n=await e.json()}catch(s){throw new xk(Wi(s),s)}let r;const i=DR(e);if(i&&i.getTime()>=mk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jv(Wi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Yr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Jv(Wi(n),e.status,n.weak_password.reasons);throw new RR(Wi(n),e.status||500,r)}const NR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xe(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[xp]||(s[xp]=mk["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await FR(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function FR(e,t,n,r,i,s){const o=NR(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new bp(Wi(l),0)}if(a.ok||await Zv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Zv(l)}}function Gr(e){var t;let n=null;UR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=yR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function e0(e){const t=Gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zR(e){return{data:e,error:null}}function $R(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=AR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function BR(e){return e}function UR(e){return e.access_token&&e.refresh_token&&e.expires_in}var WR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class HR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ni})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=WR(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$R,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ni})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:BR});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(he(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ni})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ni})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ni})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}const VR={getItem:e=>ka()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ka()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ka()&&globalThis.localStorage.removeItem(e)}};function t0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function qR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ss={debug:!!(globalThis&&ka()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YR extends bk{}async function GR(e,t,n){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ss.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}qR();const KR={url:pR,storageKey:gR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ho=30*1e3,n0=3;async function r0(e,t,n){return await n()}class Za{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Za.nextInstanceID,Za.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new HR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=yk(i.fetch),this.lock=i.lock||r0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ar()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=GR:this.lock=r0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ka()?this.storage=VR:(this.memoryStorage={},this.storage=t0(this.memoryStorage)):(this.memoryStorage={},this.storage=t0(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{if(ar()&&this.detectSessionInUrl){const{data:n,error:r}=await this._getSessionFromURL();if(r){if(this._debug("#_initialize()","error detecting session from URL",r),IR(r)){const o=(t=r.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new xk("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:u,password:d,options:h}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ks(this.storage,this.storageKey)),s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Gr})}else if("phone"in t){const{phone:u,password:d,options:h}=t;s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gr})}else throw new uc("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:e0})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:e0})}else throw new uc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Mh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Gr});if(await cc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Mh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(he(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ks(this.storage,this.storageKey));const{error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new uc("You must provide either an email or phone number.")}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Gr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ks(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:zR})}catch(s){if(he(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Yr;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new uc("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ni}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yr}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ni})})}catch(n){if(he(n))return MR(n)&&(await this._removeSession(),await cc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Yr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ks(this.storage,this.storageKey));const{data:c,error:u}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ni});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Qv(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=Qv(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Yr;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(){try{if(!ar())throw new dc("No browser detected.");const t=xR(window.location.href);if(t.error||t.error_description||t.error_code)throw new dc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const n=this._isImplicitGrantFlow(t),r=await this._isPKCEFlow(t);if(!n&&!r)throw this.flowType==="implicit"?new dc("Not a valid implicit grant flow url."):this.flowType==="pkce"?new Xv("Not a valid PKCE flow url."):new Rd("Invalid flow type.");if(r){if(this._debug("#_initialize()","begin","is PKCE flow",r),!t.code)throw new Xv("No code detected.");const{data:b,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new dc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const g=f-d;g*1e3<=Ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:m}=await this._getUser(o);if(m)throw m;const v={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(t){if(he(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(t){return!!((t.access_token||t.error_description)&&this.flowType==="implicit")}async _isPKCEFlow(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n&&this.flowType==="pkce")}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(jR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await cc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=vR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ks(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(he(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ar()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(he(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await kR(async i=>(i>0&&await _R(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Ih(s)&&Date.now()+o-r<Ho})}catch(r){if(this._debug(n,"error",r),he(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ar()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await lc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+Kv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Kv}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ih(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dd;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Yr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),he(s)){const o={session:null,error:s};return Ih(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vk(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await cc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ho);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ho}ms, refresh threshold is ${n0} ticks`),i<=n0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await ks(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Za.nextInstanceID=0;const QR=Za;class XR extends QR{constructor(t){super(t)}}var JR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class ZR{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=hR(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:iR,realtime:oR,auth:Object.assign(Object.assign({},sR),{storageKey:l}),global:rR},u=fR(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=uR(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new CD(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new tD(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return JR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XR({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(t){return new $D(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ej=(e,t,n)=>new ZR(e,t,n),tj="https://wryzdgcrrejrwfqsdaog.supabase.co",nj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndyeXpkZ2NycmVqcndmcXNkYW9nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NjgzMDQsImV4cCI6MjA0OTM0NDMwNH0.p0dezgq_lSZ_NZhSqwMNyGf919X9vMtoHkGNgqTGDrw",ne=ej(tj,nj,{auth:{persistSession:!0,autoRefreshToken:!0}}),rj=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),o=Qt(),a=async l=>{l.preventDefault(),s(!0);try{const{data:c,error:u}=await ne.auth.signInWithPassword({email:e,password:n});if(u)throw u;alert(`Welcome back, ${c.user.email}`),o("/dashboard")}catch(c){console.error("Login failed:",c.message),alert(`Login failed: ${c.message}`)}finally{s(!1)}};return p.jsxs("div",{className:"container",children:[p.jsx("h1",{className:"header",children:"Login"}),p.jsxs("form",{onSubmit:a,children:[p.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:l=>t(l.target.value),required:!0}),p.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:l=>r(l.target.value),required:!0}),p.jsx("button",{type:"submit",className:"login-button",disabled:i,children:i?"Logging in...":"Login"})]}),p.jsxs("p",{className:"footer",children:["Dont have an account?"," ",p.jsx("button",{className:"signup-link",onClick:()=>o("/signup"),children:"Sign Up"})]})]})},ij=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),o=Qt(),a=async l=>{l.preventDefault(),s(!0);try{const{data:c,error:u}=await ne.auth.signUp({email:e,password:n,options:{data:{role:"user"}}});if(u)throw u;alert("Account created! Please verify your email."),o("/login")}catch(c){console.error("Signup failed:",c.message),alert(`Signup failed: ${c.message}`)}finally{s(!1)}};return p.jsxs("div",{className:"signup-container",children:[p.jsx("h1",{className:"signup-header",children:"Sign Up"}),p.jsxs("form",{onSubmit:a,children:[p.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:l=>t(l.target.value),required:!0}),p.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:l=>r(l.target.value),required:!0}),p.jsx("button",{type:"submit",className:"signup-button",disabled:i,children:i?"Signing Up...":"Sign Up"})]}),p.jsxs("p",{children:["Already have an account?"," ",p.jsx("button",{className:"login-link",onClick:()=>o("/login"),children:"Log in here"})]})]})},Vo=({children:e})=>{const[t,n]=w.useState(null);return w.useEffect(()=>{(async()=>{const{data:i,error:s}=await ne.auth.getSession();s||!i.session?n(!1):n(!0)})()},[]),t===null?p.jsx("div",{children:"Loading..."}):t?e:p.jsx(Ji,{to:"/login"})},sj="/Time2Use/assets/Time2Use-logo-CrJGXTXK.png";var wk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i0=Xe.createContext&&Xe.createContext(wk),oj=["attr","size","title"];function aj(e,t){if(e==null)return{};var n=lj(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lj(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}function s0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s0(Object(n),!0).forEach(function(r){cj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cj(e,t,n){return t=uj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uj(e){var t=dj(e,"string");return typeof t=="symbol"?t:t+""}function dj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _k(e){return e&&e.map((t,n)=>Xe.createElement(t.tag,Nu({key:n},t.attr),_k(t.child)))}function st(e){return t=>Xe.createElement(hj,Lu({attr:Nu({},e.attr)},t),_k(e.child))}function hj(e){var t=n=>{var{attr:r,size:i,title:s}=e,o=aj(e,oj),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Xe.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Nu(Nu({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Xe.createElement("title",null,s),e.children)};return i0!==void 0?Xe.createElement(i0.Consumer,null,n=>t(n)):t(wk)}function o0(e){return st({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"},child:[]}]})(e)}function fj(e){return st({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function pj(e){return st({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function gj(e){return st({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(e)}function mj(e){return st({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(e)}function a0(e){return st({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function kk(e){return st({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function yj(e){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function vj(e){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function xj(e){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function bj(e){return st({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function wj(e){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function hc(e){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function _j(e){return st({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function Sk(e){return st({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function kj(e){return st({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function Sj(e){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(e)}function Cj(e){return st({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Ej(e){return st({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function wm(e){return st({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Oj(e){return st({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(e)}const wp=[{title:"Dashboard",link:"/dashboard",icon:p.jsx(Sk,{})},{title:"Inventory",link:"/inventory",icon:p.jsx(kk,{})},{title:"Scan QR",link:"/scan",icon:p.jsx(_j,{})},{title:"Recipe",link:"/recipes",icon:p.jsx(mj,{})},{title:"Profile",link:"/profile",icon:p.jsx(wm,{})}],Pj=()=>p.jsxs("nav",{children:[p.jsxs(eo,{to:"/",className:"link",children:[p.jsx("img",{src:sj,alt:"Time2Use Logo",className:"logo-icon"}),"Time2Use"]}),p.jsx("div",{className:"menu-items",children:wp.map((e,t)=>p.jsx(Hs,{className:({isActive:n})=>n?"link active":"link",to:e.link,children:e.title},t))}),p.jsx("div",{className:"login-button-mobile-hidden",children:p.jsx("div",{className:"icons",children:p.jsx("a",{href:"https://github.com/JackyChung2003/CAT304-G30",target:"_blank",rel:"noreferrer",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"github-icon icon-tabler icon-tabler-brand-github",width:"30",height:"30",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"#000",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"})]})})})})]});function Tj(e){return st({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 7V5a2 2 0 0 1 2-2h2"},child:[]},{tag:"path",attr:{d:"M17 3h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M21 17v2a2 2 0 0 1-2 2h-2"},child:[]},{tag:"path",attr:{d:"M7 21H5a2 2 0 0 1-2-2v-2"},child:[]}]})(e)}const Dj=()=>{const e=nr();return p.jsx("div",{className:"bottom-nav-container",children:p.jsxs("div",{className:"bottom-nav-wrapper",children:[wp.slice(0,3).map((t,n)=>p.jsx(eo,{to:t.link,className:`bottom-nav-links ${e.pathname===t.link?"active":""}`,children:p.jsx("div",{className:"nav-item",children:p.jsx("span",{className:"nav-icon",children:t.icon})})},n)),p.jsx("div",{className:"scan-icon-container",children:p.jsx("div",{className:"scan-icon-wrapper",children:p.jsx(eo,{to:"/scan",className:"scan-icon-link",children:p.jsx(Tj,{className:"scan-icon"})})})}),wp.slice(3,5).map((t,n)=>p.jsx(eo,{to:t.link,className:`bottom-nav-links ${e.pathname===t.link?"active":""}`,children:p.jsx("div",{className:"nav-item",children:p.jsx("span",{className:"nav-icon",children:t.icon})})},n+3))]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ol(e){return e+.5|0}const si=(e,t,n)=>Math.max(Math.min(e,n),t);function oa(e){return si(Ol(e*2.55),0,255)}function vi(e){return si(Ol(e*255),0,255)}function Or(e){return si(Ol(e/2.55)/100,0,1)}function l0(e){return si(Ol(e*100),0,100)}const Pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_p=[..."0123456789ABCDEF"],Rj=e=>_p[e&15],jj=e=>_p[(e&240)>>4]+_p[e&15],fc=e=>(e&240)>>4===(e&15),Mj=e=>fc(e.r)&&fc(e.g)&&fc(e.b)&&fc(e.a);function Ij(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Pn[e[1]]*17,g:255&Pn[e[2]]*17,b:255&Pn[e[3]]*17,a:t===5?Pn[e[4]]*17:255}:(t===7||t===9)&&(n={r:Pn[e[1]]<<4|Pn[e[2]],g:Pn[e[3]]<<4|Pn[e[4]],b:Pn[e[5]]<<4|Pn[e[6]],a:t===9?Pn[e[7]]<<4|Pn[e[8]]:255})),n}const Aj=(e,t)=>e<255?t(e):"";function Lj(e){var t=Mj(e)?Rj:jj;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Aj(e.a,t):void 0}const Nj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ck(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Fj(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function zj(e,t,n){const r=Ck(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function $j(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function _m(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=$j(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function km(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(vi)}function Sm(e,t,n){return km(Ck,e,t,n)}function Bj(e,t,n){return km(zj,e,t,n)}function Uj(e,t,n){return km(Fj,e,t,n)}function Ek(e){return(e%360+360)%360}function Wj(e){const t=Nj.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?oa(+t[5]):vi(+t[5]));const i=Ek(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=Bj(i,s,o):t[1]==="hsv"?r=Uj(i,s,o):r=Sm(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function Hj(e,t){var n=_m(e);n[0]=Ek(n[0]+t),n=Sm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Vj(e){if(!e)return;const t=_m(e),n=t[0],r=l0(t[1]),i=l0(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Or(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const c0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},u0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qj(){const e={},t=Object.keys(u0),n=Object.keys(c0);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,c0[s]);s=parseInt(u0[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let pc;function Yj(e){pc||(pc=qj(),pc.transparent=[0,0,0,0]);const t=pc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Gj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Kj(e){const t=Gj.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?oa(o):si(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?oa(r):si(r,0,255)),i=255&(t[4]?oa(i):si(i,0,255)),s=255&(t[6]?oa(s):si(s,0,255)),{r,g:i,b:s,a:n}}}function Qj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Or(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ah=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Cs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Xj(e,t,n){const r=Cs(Or(e.r)),i=Cs(Or(e.g)),s=Cs(Or(e.b));return{r:vi(Ah(r+n*(Cs(Or(t.r))-r))),g:vi(Ah(i+n*(Cs(Or(t.g))-i))),b:vi(Ah(s+n*(Cs(Or(t.b))-s))),a:e.a+n*(t.a-e.a)}}function gc(e,t,n){if(e){let r=_m(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Sm(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ok(e,t){return e&&Object.assign(t||{},e)}function d0(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vi(e[3]))):(t=Ok(e,{r:0,g:0,b:0,a:1}),t.a=vi(t.a)),t}function Jj(e){return e.charAt(0)==="r"?Kj(e):Wj(e)}class el{constructor(t){if(t instanceof el)return t;const n=typeof t;let r;n==="object"?r=d0(t):n==="string"&&(r=Ij(t)||Yj(t)||Jj(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Ok(this._rgb);return t&&(t.a=Or(t.a)),t}set rgb(t){this._rgb=d0(t)}rgbString(){return this._valid?Qj(this._rgb):void 0}hexString(){return this._valid?Lj(this._rgb):void 0}hslString(){return this._valid?Vj(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=Xj(this._rgb,t._rgb,n)),this}clone(){return new el(this.rgb)}alpha(t){return this._rgb.a=vi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ol(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return gc(this._rgb,2,t),this}darken(t){return gc(this._rgb,2,-t),this}saturate(t){return gc(this._rgb,1,t),this}desaturate(t){return gc(this._rgb,1,-t),this}rotate(t){return Hj(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function wr(){}const Zj=(()=>{let e=0;return()=>e++})();function _e(e){return e==null}function qe(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ve(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function it(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function gn(e,t){return it(e)?e:t}function de(e,t){return typeof e>"u"?t:e}const eM=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Pk=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ne(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Oe(e,t,n,r){let i,s,o;if(qe(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(ve(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function Fu(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function zu(e){if(qe(e))return e.map(zu);if(ve(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=zu(e[n[i]]);return t}return e}function Tk(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function tM(e,t,n,r){if(!Tk(e))return;const i=t[e],s=n[e];ve(i)&&ve(s)?tl(i,s,r):t[e]=zu(s)}function tl(e,t,n){const r=qe(t)?t:[t],i=r.length;if(!ve(e))return e;n=n||{};const s=n.merger||tM;let o;for(let a=0;a<i;++a){if(o=r[a],!ve(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],e,o,n)}return e}function Sa(e,t){return tl(e,t,{merger:nM})}function nM(e,t,n){if(!Tk(e))return;const r=t[e],i=n[e];ve(r)&&ve(i)?Sa(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=zu(i))}const h0={"":e=>e,x:e=>e.x,y:e=>e.y};function rM(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function iM(e){const t=rM(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function ki(e,t){return(h0[t]||(h0[t]=iM(t)))(e)}function Cm(e){return e.charAt(0).toUpperCase()+e.slice(1)}const nl=e=>typeof e<"u",Si=e=>typeof e=="function",f0=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function sM(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const We=Math.PI,Ue=2*We,oM=Ue+We,$u=Number.POSITIVE_INFINITY,aM=We/180,lt=We/2,Li=We/4,p0=We*2/3,oi=Math.log10,mr=Math.sign;function Ca(e,t,n){return Math.abs(e-t)<n}function g0(e){const t=Math.round(e);e=Ca(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(oi(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function lM(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function go(e){return!isNaN(parseFloat(e))&&isFinite(e)}function cM(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Dk(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function qn(e){return e*(We/180)}function Em(e){return e*(180/We)}function m0(e){if(!it(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Rk(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*We&&(s+=Ue),{angle:s,distance:i}}function kp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function uM(e,t){return(e-t+oM)%Ue-We}function yn(e){return(e%Ue+Ue)%Ue}function rl(e,t,n,r){const i=yn(e),s=yn(t),o=yn(n),a=yn(s-i),l=yn(o-i),c=yn(i-s),u=yn(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Et(e,t,n){return Math.max(t,Math.min(n,e))}function dM(e){return Et(e,-32768,32767)}function Dr(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Om(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Rr=(e,t,n,r)=>Om(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),hM=(e,t,n)=>Om(e,n,r=>e[r][t]>=n);function fM(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const jk=["push","pop","shift","splice","unshift"];function pM(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),jk.forEach(n=>{const r="_onData"+Cm(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function y0(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(jk.forEach(s=>{delete e[s]}),delete e._chartjs)}function Mk(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ik=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Ak(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Ik.call(window,()=>{r=!1,e.apply(t,n)}))}}function gM(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Pm=e=>e==="start"?"left":e==="end"?"right":"center",Nt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,mM=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function Lk(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(i=Et(Math.min(Rr(a,l,c).lo,n?r:Rr(t,l,o.getPixelForValue(c)).lo),0,r-1)),h?s=Et(Math.max(Rr(a,o.axis,u,!0).hi+1,n?0:Rr(t,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function Nk(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const mc=e=>e===0||e===1,v0=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ue/n)),x0=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ue/n)+1,Ea={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*lt)+1,easeOutSine:e=>Math.sin(e*lt),easeInOutSine:e=>-.5*(Math.cos(We*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>mc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>mc(e)?e:v0(e,.075,.3),easeOutElastic:e=>mc(e)?e:x0(e,.075,.3),easeInOutElastic(e){return mc(e)?e:e<.5?.5*v0(e*2,.1125,.45):.5+.5*x0(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ea.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ea.easeInBounce(e*2)*.5:Ea.easeOutBounce(e*2-1)*.5+.5};function Tm(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function b0(e){return Tm(e)?e:new el(e)}function Lh(e){return Tm(e)?e:new el(e).saturate(.5).darken(.1).hexString()}const yM=["x","y","borderWidth","radius","tension"],vM=["color","borderColor","backgroundColor"];function xM(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:vM},numbers:{type:"number",properties:yM}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function bM(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const w0=new Map;function wM(e,t){t=t||{};const n=e+JSON.stringify(t);let r=w0.get(n);return r||(r=new Intl.NumberFormat(e,t),w0.set(n,r)),r}function Pl(e,t,n){return wM(t,n).format(e)}const Fk={values(e){return qe(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=_M(e,n)}const o=oi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Pl(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(oi(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Fk.numeric.call(this,e,t,n):""}};function _M(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var jd={formatters:Fk};function kM(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const cs=Object.create(null),Sp=Object.create(null);function Oa(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Nh(e,t,n){return typeof t=="string"?tl(Oa(e,t),n):tl(Oa(e,""),t)}class SM{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Lh(i.backgroundColor),this.hoverBorderColor=(r,i)=>Lh(i.borderColor),this.hoverColor=(r,i)=>Lh(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Nh(this,t,n)}get(t){return Oa(this,t)}describe(t,n){return Nh(Sp,t,n)}override(t,n){return Nh(cs,t,n)}route(t,n,r,i){const s=Oa(this,t),o=Oa(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ve(l)?Object.assign({},c,l):de(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Ye=new SM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xM,bM,kM]);function CM(e){return!e||_e(e.size)||_e(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Bu(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function EM(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!qe(d))o=Bu(e,i,s,o,d);else if(qe(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!qe(h)&&(o=Bu(e,i,s,o,h));e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function Ni(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function _0(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Cp(e,t,n,r){zk(e,t,n,r,null)}function zk(e,t,n,r,i){let s,o,a,l,c,u,d,h;const f=t.pointStyle,g=t.rotation,y=t.radius;let x=(g||0)*aM;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(x),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,y,0,0,Ue):e.arc(n,r,y,0,Ue),e.closePath();break;case"triangle":u=i?i/2:y,e.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*y),x+=p0,e.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*y),x+=p0,e.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*y),e.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(x+Li)*l,d=Math.cos(x+Li)*(i?i/2-c:l),a=Math.sin(x+Li)*l,h=Math.sin(x+Li)*(i?i/2-c:l),e.arc(n-d,r-a,c,x-We,x-lt),e.arc(n+h,r-o,c,x-lt,x),e.arc(n+d,r+a,c,x,x+lt),e.arc(n-h,r+o,c,x+lt,x+We),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}x+=Li;case"rectRot":d=Math.cos(x)*(i?i/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(i?i/2:y),e.moveTo(n-d,r-a),e.lineTo(n+h,r-o),e.lineTo(n+d,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":x+=Li;case"cross":d=Math.cos(x)*(i?i/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(i?i/2:y),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":d=Math.cos(x)*(i?i/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(i?i/2:y),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),x+=Li,d=Math.cos(x)*(i?i/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,h=Math.sin(x)*(i?i/2:y),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(x)*y,a=Math.sin(x)*y,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(x)*(i?i/2:y),r+Math.sin(x)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function jr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Md(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Id(e){e.restore()}function OM(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function PM(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function TM(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),_e(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function DM(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function RM(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function us(e,t,n,r,i,s={}){const o=qe(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,TM(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&RM(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),_e(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),DM(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function il(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*We,We,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,We,lt,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,lt,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-lt,!0),e.lineTo(n+o.topLeft,r)}const jM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,MM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IM(e,t){const n=(""+e).match(jM);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const AM=e=>+e||0;function Dm(e,t){const n={},r=ve(t),i=r?Object.keys(t):t,s=ve(e)?r?o=>de(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=AM(s(o));return n}function $k(e){return Dm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ts(e){return Dm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ut(e){const t=$k(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function bt(e,t){e=e||{},t=t||Ye.font;let n=de(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=de(e.style,t.style);r&&!(""+r).match(MM)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:de(e.family,t.family),lineHeight:IM(de(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:de(e.weight,t.weight),string:""};return i.string=CM(i),i}function aa(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function LM(e,t,n){const{min:r,max:i}=e,s=Pk(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ti(e,t){return Object.assign(Object.create(e),t)}function Rm(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=Hk("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Rm([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Uk(a,l,()=>HM(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return S0(a).includes(l)},ownKeys(a){return S0(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function mo(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Bk(e,r),setContext:s=>mo(e,s,n,r),override:s=>mo(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Uk(s,o,()=>FM(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function Bk(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Si(n)?n:()=>n,isIndexable:Si(r)?r:()=>r}}const NM=(e,t)=>e?e+Cm(t):t,jm=(e,t)=>ve(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Uk(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function FM(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return Si(a)&&o.isScriptable(t)&&(a=zM(t,a,e,n)),qe(a)&&a.length&&(a=$M(t,a,e,o.isIndexable)),jm(t,a)&&(a=mo(a,i,s&&s[t],o)),a}function zM(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),jm(e,l)&&(l=Mm(i._scopes,i,e,l)),l}function $M(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(ve(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=Mm(c,i,e,u);t.push(mo(d,s,o&&o[e],a))}}return t}function Wk(e,t,n){return Si(e)?e(t,n):e}const BM=(e,t)=>e===!0?t:typeof e=="string"?ki(t,e):void 0;function UM(e,t,n,r,i){for(const s of t){const o=BM(n,s);if(o){e.add(o);const a=Wk(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Mm(e,t,n,r){const i=t._rootScopes,s=Wk(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=k0(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=k0(a,o,s,l,r),l===null)?!1:Rm(Array.from(a),[""],i,s,()=>WM(t,n,r))}function k0(e,t,n,r,i){for(;n;)n=UM(e,t,n,r,i);return n}function WM(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return qe(i)&&ve(n)?n:i||{}}function HM(e,t,n,r){let i;for(const s of t)if(i=Hk(NM(s,e),n),typeof i<"u")return jm(e,i)?Mm(n,r,e,i):i}function Hk(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function S0(e){let t=e._keys;return t||(t=e._keys=VM(e._scopes)),t}function VM(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function Vk(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=t[c],o[a]={r:i.parse(ki(u,s),c)};return o}const qM=Number.EPSILON||1e-14,yo=(e,t)=>t<e.length&&!e[t].skip&&e[t],qk=e=>e==="x"?"y":"x";function YM(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=kp(s,i),l=kp(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function GM(e,t,n){const r=e.length;let i,s,o,a,l,c=yo(e,0);for(let u=0;u<r-1;++u)if(l=c,c=yo(e,u+1),!(!l||!c)){if(Ca(t[u],0,qM)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=s*o*t[u])}}function KM(e,t,n="x"){const r=qk(n),i=e.length;let s,o,a,l=yo(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=yo(e,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*t[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*t[c])}}function QM(e,t="x"){const n=qk(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=yo(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=yo(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?mr(i[o-1])!==mr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}GM(e,i,s),KM(e,s,t)}function yc(e,t,n){return Math.max(Math.min(e,n),t)}function XM(e,t){let n,r,i,s,o,a=jr(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&jr(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=yc(i.cp1x,t.left,t.right),i.cp1y=yc(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=yc(i.cp2x,t.left,t.right),i.cp2y=yc(i.cp2y,t.top,t.bottom)))}function JM(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")QM(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=YM(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&XM(e,n)}function Im(){return typeof window<"u"&&typeof document<"u"}function Am(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Uu(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Ad=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function ZM(e,t){return Ad(e).getPropertyValue(t)}const eI=["top","right","bottom","left"];function ns(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=eI[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const tI=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function nI(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(tI(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Hi(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Ad(n),s=i.boxSizing==="border-box",o=ns(i,"padding"),a=ns(i,"border","width"),{x:l,y:c,box:u}=nI(e,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:g}=t;return s&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/g*n.height/r)}}function rI(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&Am(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Ad(s),l=ns(a,"border","width"),c=ns(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Uu(a.maxWidth,s,"clientWidth"),i=Uu(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||$u,maxHeight:i||$u}}const vc=e=>Math.round(e*10)/10;function iI(e,t,n,r){const i=Ad(e),s=ns(i,"margin"),o=Uu(i.maxWidth,e,"clientWidth")||$u,a=Uu(i.maxHeight,e,"clientHeight")||$u,l=rI(e,t,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=ns(i,"border","width"),f=ns(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=vc(Math.min(c,o,l.maxWidth)),u=vc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=vc(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=vc(Math.floor(u*r))),{width:c,height:u}}function C0(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const sI=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Im()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function E0(e,t){const n=ZM(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Vi(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function oI(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function aI(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Vi(e,i,n),a=Vi(i,s,n),l=Vi(s,t,n),c=Vi(o,a,n),u=Vi(a,l,n);return Vi(c,u,n)}const lI=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},cI=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function no(e,t,n){return e?lI(t,n):cI()}function Yk(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Gk(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Kk(e){return e==="angle"?{between:rl,compare:uM,normalize:yn}:{between:Dr,compare:(t,n)=>t-n,normalize:t=>t}}function O0({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function uI(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=Kk(r),l=t.length;let{start:c,end:u,loop:d}=e,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(t[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function Qk(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=Kk(r),{start:u,end:d,loop:h,style:f}=uI(e,t,n),g=[];let y=!1,x=null,m,v,b;const k=()=>l(i,b,m)&&a(i,b)!==0,S=()=>a(s,m)===0||l(s,b,m),_=()=>y||k(),O=()=>!y||S();for(let T=u,M=u;T<=d;++T)v=t[T%o],!v.skip&&(m=c(v[r]),m!==b&&(y=l(m,i,s),x===null&&_()&&(x=a(m,i)===0?T:M),x!==null&&O()&&(g.push(O0({start:x,end:T,loop:h,count:o,style:f})),x=null),M=T,b=m));return x!==null&&g.push(O0({start:x,end:d,loop:h,count:o,style:f})),g}function Xk(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Qk(r[i],e.points,t);s.length&&n.push(...s)}return n}function dI(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function hI(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function fI(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=dI(n,i,s,r);if(r===!0)return P0(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return P0(e,hI(n,o,l,c),n,t)}function P0(e,t,n,r){return!r||!r.setContext||!n?t:pI(e,t,n,r)}function pI(e,t,n,r){const i=e._chart.getContext(),s=T0(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,d=t[0].start,h=d;function f(g,y,x,m){const v=a?-1:1;if(g!==y){for(g+=l;n[g%l].skip;)g-=v;for(;n[y%l].skip;)y+=v;g%l!==y%l&&(c.push({start:g%l,end:y%l,loop:x,style:m}),u=m,d=y%l)}}for(const g of t){d=a?d:g.start;let y=n[d%l],x;for(h=d+1;h<=g.end;h++){const m=n[h%l];x=T0(r.setContext(Ti(i,{type:"segment",p0:y,p1:m,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),gI(x,u)&&f(d,h-1,g.loop,u),y=m,u=x}d<h-1&&f(d,h-1,g.loop,u)}return c}function T0(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function gI(e,t){if(!t)return!1;const n=[],r=function(i,s){return Tm(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class mI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ik.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var _r=new mI;const D0="transparent",yI={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=b0(e||D0),i=r.valid&&b0(t||D0);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class vI{constructor(t,n,r,i){const s=n[r];i=aa([t.to,i,s,t.from]);const o=aa([t.from,s,i]);this._active=!0,this._fn=t.fn||yI[t.type||typeof o],this._easing=Ea[t.easing]||Ea.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=aa([t.to,n,i,t.from]),this._from=aa([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class Jk{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ve(t))return;const n=Object.keys(Ye.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!ve(s))return;const o={};for(const a of n)o[a]=s[a];(qe(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=bI(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&xI(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[c];let d=s[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){t[c]=u;continue}s[c]=d=new vI(h,t,c,u),i.push(d)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return _r.add(this._chart,r),!0}}function xI(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function bI(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function R0(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function wI(e,t,n){if(n===!1)return!1;const r=R0(e,n),i=R0(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function _I(e){let t,n,r,i;return ve(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function Zk(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function j0(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=e.values[l],it(c)&&(s||t===0||mr(t)===mr(c))&&(t+=c)}return!u&&!r.all?0:t}function kI(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:e[u]};return a}function Fh(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function SI(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function CI(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function EI(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function M0(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function I0(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=SI(s,o,r),d=t.length;let h;for(let f=0;f<d;++f){const g=t[f],{[l]:y,[c]:x}=g,m=g._stacks||(g._stacks={});h=m[c]=EI(i,u,y),h[a]=x,h._top=M0(h,o,!0,r.type),h._bottom=M0(h,o,!1,r.type);const v=h._visualValues||(h._visualValues={});v[a]=x}}function zh(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function OI(e,t){return Ti(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function PI(e,t,n){return Ti(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function qo(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const $h=e=>e==="reset"||e==="none",A0=(e,t)=>t?e:Object.assign({},e),TI=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Zk(n,!0),values:null};class Kn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&qo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,h,f,g)=>d==="x"?h:d==="r"?g:f,s=n.xAxisID=de(r.xAxisID,zh(t,"x")),o=n.yAxisID=de(r.yAxisID,zh(t,"y")),a=n.rAxisID=de(r.rAxisID,zh(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&y0(this._data,this),t._stacked&&qo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(ve(n)){const i=this._cachedMeta;this._data=kI(n,i)}else if(r!==n){if(r){y0(r,this);const i=this._cachedMeta;qo(i),i._parsed=[]}n&&Object.isExtensible(n)&&pM(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Fh(n.vScale,n),n.stack!==r.stack&&(i=!0,qo(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(I0(this,n._parsed),n._stacked=Fh(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],u,d,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{qe(i[t])?h=this.parseArrayData(r,i,t,n):ve(i[t])?h=this.parseObjectData(r,i,t,n):h=this.parsePrimitiveData(r,i,t,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+t]=d=h[u],l&&(f()&&(l=!1),c=d);r._sorted=l}o&&I0(this,h)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let h,f,g;for(h=0,f=i;h<f;++h)g=h+r,d[h]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+r,f=n[h],c[u]={x:s.parse(ki(f,a),h),y:o.parse(ki(f,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:Zk(i,!0),values:n._stacks[t.axis]._visualValues};return j0(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=j0(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=TI(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=CI(a);let h,f;function g(){f=i[h];const y=f[a.axis];return!it(f[t.axis])||u>y||d<y}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],it(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=_I(de(this.options.clip,wI(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=PI(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=OI(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&nl(r);if(a)return A0(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Ye.elements[t]),g=()=>this.getContext(r,i,n),y=c.resolveNamedOptions(h,f,g,d);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(A0(y,l))),y}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(t,r,n))}const c=new Jk(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||$h(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){$h(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!$h(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&qo(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}K(Kn,"defaults",{}),K(Kn,"datasetElementType",null),K(Kn,"dataElementType",null);function DI(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Mk(r.sort((i,s)=>i-s))}return e._cache.$bar}function RI(e){const t=e.iScale,n=DI(t,e.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(nl(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function jI(e,t,n,r){const i=n.barThickness;let s,o;return _e(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function MI(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function II(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function eS(e,t,n,r){return qe(e)?II(e,t,n,r):t[n.axis]=n.parse(e,r),t}function L0(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=t[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(eS(h,d,s,c));return l}function Bh(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function AI(e,t,n){return e!==0?mr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function LI(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function NI(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=LI(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[N0(u,o,a,l)]=!0,i=c)),s[N0(i,o,a,l)]=!0,e.borderSkipped=s}function N0(e,t,n,r){return r?(e=FI(e,t,n),e=F0(e,n,t)):e=F0(e,t,n),e}function FI(e,t,n){return e===t?n:e===n?t:e}function F0(e,t,n){return e==="start"?t:e==="end"?n:e}function zI(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Qc extends Kn{parsePrimitiveData(t,n,r,i){return L0(t,n,r,i)}parseArrayData(t,n,r,i){return L0(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,g,y;for(h=r,f=r+i;h<f;++h)y=n[h],g={},g[s.axis]=s.parse(ki(y,c),h),d.push(eS(ki(y,u),g,o,h));return d}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=Bh(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const g=this.getParsed(f),y=s||_e(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),x=this._calculateBarIndexPixels(f,u),m=(g._stacks||{})[a.axis],v={horizontal:c,base:y.base,enableBorderRadius:!m||Bh(g._custom)||o===m._top||o===m._bottom,x:c?y.head:x.center,y:c?x.center:y.head,height:c?x.size:Math.abs(y.size),width:c?Math.abs(y.size):x.size};h&&(v.options=d||this.resolveDataElementOptions(f,t[f].active?"active":i));const b=v.options||t[f].options;NI(v,b,m,o),zI(v,b,u.ratio),this.updateElement(t[f],f,v,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(f=>f[r.axis]===l),h=d&&d[u.vScale.axis];if(_e(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||RI(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,u=Bh(c);let d=l[n.axis],h=0,f=r?this.applyStack(n,l,r):d,g,y;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&mr(d)!==mr(c.barEnd)&&(h=0),h+=d);const x=!_e(s)&&!u?s:h;let m=n.getPixelForValue(x);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(h+f):g=m,y=g-m,Math.abs(y)<o){y=AI(y,n,a)*o,d===a&&(m-=y/2);const v=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),k=Math.min(v,b),S=Math.max(v,b);m=Math.max(Math.min(m,S),k),g=m+y,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const v=mr(y)*n.getLineWidthForValue(a)/2;m+=v,y-=v}return{size:y,base:m,head:g,center:g+y/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=de(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(t):n.stackCount,u=i.barThickness==="flex"?MI(t,n,i,c):jI(t,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}K(Qc,"id","bar"),K(Qc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),K(Qc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Xc extends Kn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,i){const s=super.parsePrimitiveData(t,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,n,r,i){const s=super.parseArrayData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=de(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,n,r,i){const s=super.parseObjectData(t,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=de(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,d=a.axis;for(let h=n;h<n+r;h++){const f=t[h],g=!s&&this.getParsed(h),y={},x=y[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),m=y[d]=s?a.getBasePixel():a.getPixelForValue(g[d]);y.skip=isNaN(x)||isNaN(m),c&&(y.options=l||this.resolveDataElementOptions(h,f.active?"active":i),s&&(y.options.radius=0)),this.updateElement(f,h,y,i)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=de(r&&r._custom,s),i}}K(Xc,"id","bubble"),K(Xc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),K(Xc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function $I(e,t,n){let r=1,i=1,s=0,o=0;if(t<Ue){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(b,k,S)=>rl(b,a,l,!0)?1:Math.max(k,k*n,S,S*n),g=(b,k,S)=>rl(b,a,l,!0)?-1:Math.min(k,k*n,S,S*n),y=f(0,c,d),x=f(lt,u,h),m=g(We,c,d),v=g(We+lt,u,h);r=(y-m)/2,i=(x-v)/2,s=-(y+m)/2,o=-(x+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class ai extends Kn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(ve(r[t])){const{key:l="value"}=this._parsing;s=c=>+ki(r[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return qn(this.options.rotation-90)}_getCircumference(){return qn(this.options.circumference)}_getRotationExtents(){let t=Ue,n=-Ue;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(eM(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:y}=$I(d,u,l),x=(r.width-o)/h,m=(r.height-o)/f,v=Math.max(Math.min(x,m)/2,0),b=Pk(this.options.radius,v),k=Math.max(b*l,0),S=(b-k)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=y*b,i.total=this.calculateTotal(),this.outerRadius=b-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/Ue)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,i);let m=this._getRotation(),v;for(v=0;v<n;++v)m+=this._circumference(v,s);for(v=n;v<n+r;++v){const b=this._circumference(v,s),k=t[v],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:m,endAngle:m+b,circumference:b,outerRadius:g,innerRadius:f};x&&(S.options=y||this.resolveDataElementOptions(v,k.active?"active":i)),m+=b,this.updateElement(k,v,S,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ue*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Pl(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(de(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}K(ai,"id","doughnut"),K(ai,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),K(ai,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),K(ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Jc extends Kn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Lk(n,i,o);this._drawStart=a,this._drawCount=l,Nk(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=o.axis,f=a.axis,{spanGaps:g,segment:y}=this.options,x=go(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||i==="none",v=n+r,b=t.length;let k=n>0&&this.getParsed(n-1);for(let S=0;S<b;++S){const _=t[S],O=m?_:{};if(S<n||S>=v){O.skip=!0;continue}const T=this.getParsed(S),M=_e(T[f]),E=O[h]=o.getPixelForValue(T[h],S),I=O[f]=s||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[f],S);O.skip=isNaN(E)||isNaN(I)||M,O.stop=S>0&&Math.abs(T[h]-k[h])>x,y&&(O.parsed=T,O.raw=c.data[S]),d&&(O.options=u||this.resolveDataElementOptions(S,_.active?"active":i)),m||this.updateElement(_,S,O,i),k=T}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}K(Jc,"id","line"),K(Jc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),K(Jc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Pa extends Kn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Pl(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,n,r,i){return Vk.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*We;let f=h,g;const y=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,i,y);for(g=n;g<n+r;g++){const x=t[g];let m=f,v=f+this._computeAngle(g,i,y),b=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=v,s&&(l.animateScale&&(b=0),l.animateRotate&&(m=v=h));const k={x:u,y:d,innerRadius:0,outerRadius:b,startAngle:m,endAngle:v,options:this.resolveDataElementOptions(g,x.active?"active":i)};this.updateElement(x,g,k,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?qn(this.resolveDataElementOptions(t,n).angle||r):0}}K(Pa,"id","polarArea"),K(Pa,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),K(Pa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Wu extends ai{}K(Wu,"id","pie"),K(Wu,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Zc extends Kn{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return Vk.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:u.x,h=o?s.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,i)}}}K(Zc,"id","radar"),K(Zc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),K(Zc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class eu extends Kn{getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=Lk(n,r,i);if(this._drawStart=s,this._drawCount=o,Nk(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),f=o.axis,g=a.axis,{spanGaps:y,segment:x}=this.options,m=go(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none";let b=n>0&&this.getParsed(n-1);for(let k=n;k<n+r;++k){const S=t[k],_=this.getParsed(k),O=v?S:{},T=_e(_[g]),M=O[f]=o.getPixelForValue(_[f],k),E=O[g]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,_,l):_[g],k);O.skip=isNaN(M)||isNaN(E)||T,O.stop=k>0&&Math.abs(_[f]-b[f])>m,x&&(O.parsed=_,O.raw=c.data[k]),h&&(O.options=d||this.resolveDataElementOptions(k,S.active?"active":i)),v||this.updateElement(S,k,O,i),b=_}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}K(eu,"id","scatter"),K(eu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),K(eu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var BI=Object.freeze({__proto__:null,BarController:Qc,BubbleController:Xc,DoughnutController:ai,LineController:Jc,PieController:Wu,PolarAreaController:Pa,RadarController:Zc,ScatterController:eu});function Fi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lm{constructor(t){K(this,"options");this.options=t||{}}static override(t){Object.assign(Lm.prototype,t)}init(){}formats(){return Fi()}parse(){return Fi()}format(){return Fi()}add(){return Fi()}diff(){return Fi()}startOf(){return Fi()}endOf(){return Fi()}}var UI={_date:Lm};function WI(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?hM:Rr;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const d=l(s,t,n-u),h=l(s,t,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function Tl(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:h}=WI(s[a],t,o,i);for(let f=d;f<=h;++f){const g=u[f];g.skip||r(g,c,f)}}}function HI(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Uh(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Tl(e,n,t,function(a,l,c){!i&&!jr(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function VI(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Rk(o,{x:t.x,y:t.y});rl(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Tl(e,n,t,s),i}function qI(e,t,n,r,i,s){let o=[];const a=HI(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(t.x,t.y,i);if(r&&!f)return;const g=u.getCenterPoint(i);if(!(!!s||e.isPointInArea(g))&&!f)return;const x=a(t,g);x<l?(o=[{element:u,datasetIndex:d,index:h}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:h})}return Tl(e,n,t,c),o}function Wh(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?VI(e,t,n,i):qI(e,t,n,r,i,s)}function z0(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Tl(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var YI={evaluateInteractionItems:Tl,modes:{index(e,t,n,r){const i=Hi(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Uh(e,i,s,r,o):Wh(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,r){const i=Hi(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Uh(e,i,s,r,o):Wh(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,r){const i=Hi(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Uh(e,i,s,r,o)},nearest(e,t,n,r){const i=Hi(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Wh(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=Hi(t,e);return z0(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Hi(t,e);return z0(e,i,"y",n.intersect,r)}}};const tS=["left","top","right","bottom"];function Yo(e,t){return e.filter(n=>n.pos===t)}function $0(e,t){return e.filter(n=>tS.indexOf(n.pos)===-1&&n.box.axis===t)}function Go(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function GI(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function KI(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!tS.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function QI(e,t){const n=KI(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&t.availableHeight)}return n}function XI(e){const t=GI(e),n=Go(t.filter(c=>c.box.fullSize),!0),r=Go(Yo(t,"left"),!0),i=Go(Yo(t,"right")),s=Go(Yo(t,"top"),!0),o=Go(Yo(t,"bottom")),a=$0(t,"x"),l=$0(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Yo(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function B0(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function nS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function JI(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!ve(i)){n.size&&(e[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,e[i]+=n.size}s.getPadding&&nS(o,s.getPadding());const a=Math.max(0,t.outerWidth-B0(o,e,"left","right")),l=Math.max(0,t.outerHeight-B0(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function ZI(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function eA(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function la(e,t,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,eA(a.horizontal,t));const{same:d,other:h}=JI(t,n,a,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&la(i,t,n,r)||u}function xc(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function U0(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,h=c.size||l.height;nl(c.start)&&(o=c.start),l.fullSize?xc(l,i.left,o,n.outerWidth-i.right-i.left,h):xc(l,t.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*u,h=c.size||l.width;nl(c.start)&&(s=c.start),l.fullSize?xc(l,s,i.top,h,n.outerHeight-i.bottom-i.top):xc(l,s,t.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}t.x=s,t.y=o}var zt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Ut(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=XI(e.boxes),l=a.vertical,c=a.horizontal;Oe(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);nS(h,Ut(r));const f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),g=QI(l.concat(c),d);la(a.fullSize,f,d,g),la(l,f,d,g),la(c,f,d,g)&&la(l,f,d,g),ZI(f),U0(a.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,U0(a.rightAndBottom,f,d,g),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Oe(a.chartArea,y=>{const x=y.box;Object.assign(x,e.chartArea),x.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class rS{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class tA extends rS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const tu="$chartjs",nA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},W0=e=>e===null||e==="";function rA(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[tu]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",W0(i)){const s=E0(e,"width");s!==void 0&&(e.width=s)}if(W0(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=E0(e,"height");s!==void 0&&(e.height=s)}return e}const iS=sI?{passive:!0}:!1;function iA(e,t,n){e&&e.addEventListener(t,n,iS)}function sA(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,iS)}function oA(e,t){const n=nA[e.type]||e.type,{x:r,y:i}=Hi(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Hu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function aA(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Hu(a.addedNodes,r),o=o&&!Hu(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function lA(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Hu(a.removedNodes,r),o=o&&!Hu(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const sl=new Map;let H0=0;function sS(){const e=window.devicePixelRatio;e!==H0&&(H0=e,sl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function cA(e,t){sl.size||window.addEventListener("resize",sS),sl.set(e,t)}function uA(e){sl.delete(e),sl.size||window.removeEventListener("resize",sS)}function dA(e,t,n){const r=e.canvas,i=r&&Am(r);if(!i)return;const s=Ak((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),cA(e,s),o}function Hh(e,t,n){n&&n.disconnect(),t==="resize"&&uA(e)}function hA(e,t,n){const r=e.canvas,i=Ak(s=>{e.ctx!==null&&n(oA(s,e))},e);return iA(r,t,i),i}class fA extends rS{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(rA(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[tu])return!1;const r=n[tu].initial;["height","width"].forEach(s=>{const o=r[s];_e(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[tu],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:aA,detach:lA,resize:dA}[n]||hA;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Hh,detach:Hh,resize:Hh}[n]||sA)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return iI(t,n,r,i)}isAttached(t){const n=t&&Am(t);return!!(n&&n.isConnected)}}function pA(e){return!Im()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?tA:fA}class Jn{constructor(){K(this,"x");K(this,"y");K(this,"active",!1);K(this,"options");K(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return go(this.x)&&go(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}K(Jn,"defaults",{}),K(Jn,"defaultRoutes");function gA(e,t){const n=e.options.ticks,r=mA(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?vA(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return xA(t,c,s,o/i),c;const u=yA(s,t,i);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(bc(t,c,u,_e(f)?0:a-f,a),d=0,h=o-1;d<h;d++)bc(t,c,u,s[d],s[d+1]);return bc(t,c,u,l,_e(f)?t.length:l+f),c}return bc(t,c,u),c}function mA(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function yA(e,t,n){const r=bA(e),i=t.length/n;if(!r)return Math.max(i,1);const s=lM(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function vA(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function xA(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function bc(e,t,n,r,i){const s=de(r,0),o=Math.min(de(i,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(s+a*n))}function bA(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const wA=e=>e==="left"?"right":e==="right"?"left":e,V0=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,q0=(e,t)=>Math.min(t||e,e);function Y0(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function _A(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function kA(e,t){Oe(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Ko(e){return e.drawTicks?e.tickLength:0}function G0(e,t){if(!e.display)return 0;const n=bt(e.font,t),r=Ut(e.padding);return(qe(e.text)?e.text.length:1)*n.lineHeight+r.height}function SA(e,t){return Ti(e,{scale:t,type:"scale"})}function CA(e,t,n){return Ti(e,{tick:n,index:t,type:"tick"})}function EA(e,t,n){let r=Pm(e);return(n&&t!=="right"||!n&&t==="right")&&(r=wA(r)),r}function OA(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,h,f,g;const y=o-i,x=a-s;if(e.isHorizontal()){if(f=Nt(r,s,a),ve(n)){const m=Object.keys(n)[0],v=n[m];g=u[m].getPixelForValue(v)+y-t}else n==="center"?g=(c.bottom+c.top)/2+y-t:g=V0(e,n,t);h=a-s}else{if(ve(n)){const m=Object.keys(n)[0],v=n[m];f=u[m].getPixelForValue(v)-x+t}else n==="center"?f=(c.left+c.right)/2-x+t:f=V0(e,n,t);g=Nt(r,o,i),d=n==="left"?-lt:lt}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}class ys extends Jn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=gn(t,Number.POSITIVE_INFINITY),n=gn(n,Number.NEGATIVE_INFINITY),r=gn(r,Number.POSITIVE_INFINITY),i=gn(i,Number.NEGATIVE_INFINITY),{min:gn(t,r),max:gn(n,i),minDefined:it(t),maxDefined:it(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:gn(n,gn(r,n)),max:gn(r,gn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ne(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LM(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Y0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=gA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ne(this.options.afterUpdate,[this])}beforeSetDimensions(){Ne(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ne(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ne(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ne(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=Ne(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){Ne(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ne(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=q0(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Et(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(t.offset?.5:1)),l=this.maxHeight-Ko(t.grid)-n.padding-G0(t.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=Em(Math.min(Math.asin(Et((u.highest.height+6)/a,-1,1)),Math.asin(Et(l/c,-1,1))-Math.asin(Et(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ne(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ne(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=G0(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=Ko(s)+l):(t.height=this.maxHeight,t.width=Ko(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,g=qn(this.labelRotation),y=Math.cos(g),x=Math.sin(g);if(a){const m=r.mirror?0:x*d.width+y*h.height;t.height=Math.min(this.maxHeight,t.height+m+f)}else{const m=r.mirror?0:y*d.width+x*h.height;t.width=Math.min(this.maxWidth,t.width+m+f)}this._calculatePadding(c,u,x,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*t.width,f=r*n.height):(h=r*t.height,f=i*n.width):s==="start"?f=n.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=t.height/2;s==="start"?(u=0,d=t.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ne(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)_e(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Y0(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/q0(n,r));let c=0,u=0,d,h,f,g,y,x,m,v,b,k,S;for(d=0;d<n;d+=l){if(g=t[d].label,y=this._resolveTickFontOptions(d),i.font=x=y.string,m=s[x]=s[x]||{data:{},gc:[]},v=y.lineHeight,b=k=0,!_e(g)&&!qe(g))b=Bu(i,m.data,m.gc,b,g),k=v;else if(qe(g))for(h=0,f=g.length;h<f;++h)S=g[h],!_e(S)&&!qe(S)&&(b=Bu(i,m.data,m.gc,b,S),k+=v);o.push(b),a.push(k),c=Math.max(b,c),u=Math.max(k,u)}kA(s,n);const _=o.indexOf(c),O=a.indexOf(u),T=M=>({width:o[M]||0,height:a[M]||0});return{first:T(0),last:T(n-1),widest:T(_),highest:T(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return dM(this._alignToPixels?Ni(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=CA(this.getContext(),t,r))}return this.$context||(this.$context=SA(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=qn(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Ko(s),f=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,x=y/2,m=function(j){return Ni(r,j,y)};let v,b,k,S,_,O,T,M,E,I,A,W;if(o==="top")v=m(this.bottom),O=this.bottom-h,M=v-x,I=m(t.top)+x,W=t.bottom;else if(o==="bottom")v=m(this.top),I=t.top,W=m(t.bottom)-x,O=v+x,M=this.top+h;else if(o==="left")v=m(this.right),_=this.right-h,T=v-x,E=m(t.left)+x,A=t.right;else if(o==="right")v=m(this.left),E=t.left,A=m(t.right)-x,_=v+x,T=this.left+h;else if(n==="x"){if(o==="center")v=m((t.top+t.bottom)/2+.5);else if(ve(o)){const j=Object.keys(o)[0],F=o[j];v=m(this.chart.scales[j].getPixelForValue(F))}I=t.top,W=t.bottom,O=v+x,M=O+h}else if(n==="y"){if(o==="center")v=m((t.left+t.right)/2);else if(ve(o)){const j=Object.keys(o)[0],F=o[j];v=m(this.chart.scales[j].getPixelForValue(F))}_=v-x,T=_-h,E=t.left,A=t.right}const Y=de(i.ticks.maxTicksLimit,d),U=Math.max(1,Math.ceil(d/Y));for(b=0;b<d;b+=U){const j=this.getContext(b),F=s.setContext(j),D=a.setContext(j),L=F.lineWidth,C=F.color,X=D.dash||[],G=D.dashOffset,P=F.tickWidth,ee=F.tickColor,se=F.tickBorderDash||[],te=F.tickBorderDashOffset;k=_A(this,b,l),k!==void 0&&(S=Ni(r,k,L),c?_=T=E=A=S:O=M=I=W=S,f.push({tx1:_,ty1:O,tx2:T,ty2:M,x1:E,y1:I,x2:A,y2:W,width:L,color:C,borderDash:X,borderDashOffset:G,tickWidth:P,tickColor:ee,tickBorderDash:se,tickBorderDashOffset:te}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=Ko(r.grid),f=h+u,g=d?-u:f,y=-qn(this.labelRotation),x=[];let m,v,b,k,S,_,O,T,M,E,I,A,W="middle";if(i==="top")_=this.bottom-g,O=this._getXAxisLabelAlignment();else if(i==="bottom")_=this.top+g,O=this._getXAxisLabelAlignment();else if(i==="left"){const U=this._getYAxisLabelAlignment(h);O=U.textAlign,S=U.x}else if(i==="right"){const U=this._getYAxisLabelAlignment(h);O=U.textAlign,S=U.x}else if(n==="x"){if(i==="center")_=(t.top+t.bottom)/2+f;else if(ve(i)){const U=Object.keys(i)[0],j=i[U];_=this.chart.scales[U].getPixelForValue(j)+f}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(t.left+t.right)/2-f;else if(ve(i)){const U=Object.keys(i)[0],j=i[U];S=this.chart.scales[U].getPixelForValue(j)}O=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));const Y=this._getLabelSizes();for(m=0,v=a.length;m<v;++m){b=a[m],k=b.label;const U=s.setContext(this.getContext(m));T=this.getPixelForTick(m)+s.labelOffset,M=this._resolveTickFontOptions(m),E=M.lineHeight,I=qe(k)?k.length:1;const j=I/2,F=U.color,D=U.textStrokeColor,L=U.textStrokeWidth;let C=O;o?(S=T,O==="inner"&&(m===v-1?C=this.options.reverse?"left":"right":m===0?C=this.options.reverse?"right":"left":C="center"),i==="top"?c==="near"||y!==0?A=-I*E+E/2:c==="center"?A=-Y.highest.height/2-j*E+E:A=-Y.highest.height+E/2:c==="near"||y!==0?A=E/2:c==="center"?A=Y.highest.height/2-j*E:A=Y.highest.height-I*E,d&&(A*=-1),y!==0&&!U.showLabelBackdrop&&(S+=E/2*Math.sin(y))):(_=T,A=(1-I)*E/2);let X;if(U.showLabelBackdrop){const G=Ut(U.backdropPadding),P=Y.heights[m],ee=Y.widths[m];let se=A-G.top,te=0-G.left;switch(W){case"middle":se-=P/2;break;case"bottom":se-=P;break}switch(O){case"center":te-=ee/2;break;case"right":te-=ee;break;case"inner":m===v-1?te-=ee:m>0&&(te-=ee/2);break}X={left:te,top:se,width:ee+G.width,height:P+G.height,color:U.backdropColor}}x.push({label:k,font:M,textOffset:A,options:{rotation:y,color:F,strokeColor:D,strokeWidth:L,textAlign:C,textBaseline:W,translation:[S,_],backdrop:X}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-qn(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Ni(t,this.left,o)-o/2,u=Ni(t,this.right,a)+a/2,d=h=l):(d=Ni(t,this.top,o)-o/2,h=Ni(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Md(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;us(r,c,0,u,l,a)}i&&Id(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=bt(r.font),o=Ut(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ve(n)?(l+=o.bottom,qe(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=OA(this,l,n,a);us(t,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:EA(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=de(t.grid&&t.grid.z,-1),i=de(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ys.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return bt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wc{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;DA(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,PA(t,o,r),this.override&&Ye.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Ye[i]&&(delete Ye[i][r],this.override&&delete cs[r])}}function PA(e,t,n){const r=tl(Object.create(null),[n?Ye.get(n):{},Ye.get(t),e.defaults]);Ye.set(t,r),e.defaultRoutes&&TA(t,e.defaultRoutes),e.descriptors&&Ye.describe(t,e.descriptors)}function TA(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Ye.route(s,i,l,a)})}function DA(e){return"id"in e&&"defaults"in e}class RA{constructor(){this.controllers=new wc(Kn,"datasets",!0),this.elements=new wc(Jn,"elements"),this.plugins=new wc(Object,"plugins"),this.scales=new wc(ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Oe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=Cm(t);Ne(r["before"+i],[],r),n[t](r),Ne(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var ur=new RA;class jA{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ne(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=de(r.options&&r.options.plugins,{}),s=MA(r);return i===!1&&!n?[]:AA(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function MA(e){const t={},n=[],r=Object.keys(ur.plugins.items);for(let s=0;s<r.length;s++)n.push(ur.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function IA(e,t){return!t&&e===!1?null:e===!0?{}:e}function AA(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=IA(r[l],i);c!==null&&s.push({plugin:a,options:LA(e.config,{plugin:a,local:n[l]},c,o)})}return s}function LA(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ep(e,t){const n=Ye.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function NA(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function FA(e,t){return e===t?"_index_":"_value_"}function K0(e){if(e==="x"||e==="y"||e==="r")return e}function zA(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Op(e,...t){if(K0(e))return e;for(const n of t){const r=n.axis||zA(n.position)||e.length>1&&K0(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Q0(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function $A(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return Q0(e,"x",n[0])||Q0(e,"y",n[0])}return{}}function BA(e,t){const n=cs[e.type]||{scales:{}},r=t.scales||{},i=Ep(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Op(o,a,$A(o,e),Ye.scales[a.type]),c=FA(l,i),u=n.scales||{};s[o]=Sa(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Ep(a,t),u=(cs[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=NA(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),Sa(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Sa(a,[Ye.scales[a.type],Ye.scale])}),s}function oS(e){const t=e.options||(e.options={});t.plugins=de(t.plugins,{}),t.scales=BA(e,t)}function aS(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function UA(e){return e=e||{},e.data=aS(e.data),oS(e),e}const X0=new Map,lS=new Set;function _c(e,t){let n=X0.get(e);return n||(n=t(),X0.set(e,n),lS.add(n)),n}const Qo=(e,t,n)=>{const r=ki(t,n);r!==void 0&&e.add(r)};class WA{constructor(t){this._config=UA(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=aS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),oS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _c(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return _c(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return _c(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return _c(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(d=>Qo(l,t,d))),u.forEach(d=>Qo(l,i,d)),u.forEach(d=>Qo(l,cs[s]||{},d)),u.forEach(d=>Qo(l,Ye,d)),u.forEach(d=>Qo(l,Sp,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),lS.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,cs[n]||{},Ye.datasets[n]||{},{type:n},Ye,Sp]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=J0(this._resolverCache,t,i);let l=o;if(VA(o,n)){s.$shared=!1,r=Si(r)?r():r;const c=this.createResolver(t,r,a);l=mo(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=J0(this._resolverCache,t,r);return ve(n)?mo(s,n,void 0,i):s}}function J0(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Rm(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const HA=e=>ve(e)&&Object.getOwnPropertyNames(e).some(t=>Si(e[t]));function VA(e,t){const{isScriptable:n,isIndexable:r}=Bk(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(Si(a)||HA(a))||o&&qe(a))return!0}return!1}var qA="4.4.7";const YA=["top","bottom","left","right","chartArea"];function Z0(e,t){return e==="top"||e==="bottom"||YA.indexOf(e)===-1&&t==="x"}function ex(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function tx(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ne(n&&n.onComplete,[e],t)}function GA(e){const t=e.chart,n=t.options.animation;Ne(n&&n.onProgress,[e],t)}function cS(e){return Im()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const nu={},nx=e=>{const t=cS(e);return Object.values(nu).filter(n=>n.canvas===t).pop()};function KA(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function QA(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}function kc(e,t,n){return e.options.clip?e[n]:t[n]}function XA(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:kc(n,t,"left"),right:kc(n,t,"right"),top:kc(r,t,"top"),bottom:kc(r,t,"bottom")}:t}var qr;let Ld=(qr=class{static register(...t){ur.add(...t),rx()}static unregister(...t){ur.remove(...t),rx()}constructor(t,n){const r=this.config=new WA(n),i=cS(t),s=nx(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||pA(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Zj(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gM(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],nu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}_r.listen(this,"complete",tx),_r.listen(this,"progress",GA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return _e(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ur}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():C0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _0(this.canvas,this.ctx),this}stop(){return _r.stop(this),this}resize(t,n){_r.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,C0(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ne(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Oe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Op(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Oe(s,o=>{const a=o.options,l=a.id,c=Op(l,a),u=de(a.type,o.dtype);(a.position===void 0||Z0(a.position,c)!==Z0(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=ur.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,t)}),Oe(i,(o,a)=>{o||delete r[a]}),Oe(r,o=>{zt.configure(this,o,o.options),zt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(ex("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Ep(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=ur.getController(a),{datasetElementType:c,dataElementType:u}=Ye.datasets[a];Object.assign(l,{dataElementType:ur.getElement(u),datasetElementType:c&&ur.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Oe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Oe(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ex("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Oe(this.scales,t=>{zt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!f0(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;KA(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!f0(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zt.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Oe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Si(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_r.has(this)?this.attached&&!_r.running(this)&&_r.start(this):(this.draw(),tx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,i=!r.disabled,s=XA(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Md(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),t.controller.draw(),i&&Id(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return jr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=YI.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);nl(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),_r.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_0(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete nu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Oe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Oe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Oe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Fu(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=sM(t),c=QA(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Ne(s.onHover,[t,a,this],this),l&&Ne(s.onClick,[t,a,this],this));const u=!Fu(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},K(qr,"defaults",Ye),K(qr,"instances",nu),K(qr,"overrides",cs),K(qr,"registry",ur),K(qr,"version",qA),K(qr,"getChart",nx),qr);function rx(){return Oe(Ld.instances,e=>e._plugins.invalidate())}function JA(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),l>i?(c=i/l,e.arc(s,o,l,n+c,r-c,!0)):e.arc(s,o,i,n+lt,r-lt),e.closePath(),e.clip()}function ZA(e){return Dm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function e4(e,t,n,r){const i=ZA(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Et(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Et(i.innerStart,0,o),innerEnd:Et(i.innerEnd,0,o)}}function Es(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Vu(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const g=i-l;if(r){const U=u>0?u-r:0,j=d>0?d-r:0,F=(U+j)/2,D=F!==0?g*F/(F+r):g;f=(g-D)/2}const y=Math.max(.001,g*d-n/We)/d,x=(g-y)/2,m=l+x+f,v=i-x-f,{outerStart:b,outerEnd:k,innerStart:S,innerEnd:_}=e4(t,h,d,v-m),O=d-b,T=d-k,M=m+b/O,E=v-k/T,I=h+S,A=h+_,W=m+S/I,Y=v-_/A;if(e.beginPath(),s){const U=(M+E)/2;if(e.arc(o,a,d,M,U),e.arc(o,a,d,U,E),k>0){const L=Es(T,E,o,a);e.arc(L.x,L.y,k,E,v+lt)}const j=Es(A,v,o,a);if(e.lineTo(j.x,j.y),_>0){const L=Es(A,Y,o,a);e.arc(L.x,L.y,_,v+lt,Y+Math.PI)}const F=(v-_/h+(m+S/h))/2;if(e.arc(o,a,h,v-_/h,F,!0),e.arc(o,a,h,F,m+S/h,!0),S>0){const L=Es(I,W,o,a);e.arc(L.x,L.y,S,W+Math.PI,m-lt)}const D=Es(O,m,o,a);if(e.lineTo(D.x,D.y),b>0){const L=Es(O,M,o,a);e.arc(L.x,L.y,b,m-lt,M)}}else{e.moveTo(o,a);const U=Math.cos(M)*d+o,j=Math.sin(M)*d+a;e.lineTo(U,j);const F=Math.cos(E)*d+o,D=Math.sin(E)*d+a;e.lineTo(F,D)}e.closePath()}function t4(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){Vu(e,t,n,r,l,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%Ue||Ue))}return Vu(e,t,n,r,l,i),e.fill(),l}function n4(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,f?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(s){Vu(e,t,n,r,g,i);for(let y=0;y<s;++y)e.stroke();isNaN(a)||(g=o+(a%Ue||Ue))}f&&JA(e,t,g),s||(Vu(e,t,n,r,g,i),e.stroke())}class ca extends Jn{constructor(n){super();K(this,"circumference");K(this,"endAngle");K(this,"fullCircles");K(this,"innerRadius");K(this,"outerRadius");K(this,"pixelMargin");K(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=Rk(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=de(h,c-l),y=rl(o,l,c)&&l!==c,x=g>=Ue||y,m=Dr(a,u+f,d+f);return x&&m}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,h=(a+l+u+c)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ue?Math.floor(i/Ue):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(We,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,t4(n,this,u,o,a),n4(n,this,u,o,a),n.restore()}}K(ca,"id","arc"),K(ca,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),K(ca,"defaultRoutes",{backgroundColor:"backgroundColor"}),K(ca,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function uS(e,t,n=t){e.lineCap=de(n.borderCapStyle,t.borderCapStyle),e.setLineDash(de(n.borderDash,t.borderDash)),e.lineDashOffset=de(n.borderDashOffset,t.borderDashOffset),e.lineJoin=de(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=de(n.borderWidth,t.borderWidth),e.strokeStyle=de(n.borderColor,t.borderColor)}function r4(e,t,n){e.lineTo(n.x,n.y)}function i4(e){return e.stepped?OM:e.tension||e.cubicInterpolationMode==="monotone"?PM:r4}function dS(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function s4(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=dS(i,n,r),u=i4(s);let{move:d=!0,reverse:h}=r||{},f,g,y;for(f=0;f<=c;++f)g=i[(a+(h?c-f:f))%o],!g.skip&&(d?(e.moveTo(g.x,g.y),d=!1):u(e,y,g,h,s.stepped),y=g);return l&&(g=i[(a+(h?c:0))%o],u(e,y,g,h,s.stepped)),!!l}function o4(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=dS(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,f,g,y,x,m;const v=k=>(o+(c?a-k:k))%s,b=()=>{y!==x&&(e.lineTo(u,x),e.lineTo(u,y),e.lineTo(u,m))};for(l&&(f=i[v(0)],e.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[v(h)],f.skip)continue;const k=f.x,S=f.y,_=k|0;_===g?(S<y?y=S:S>x&&(x=S),u=(d*u+k)/++d):(b(),e.lineTo(k,S),g=_,d=0,y=x=S),m=S}b()}function Pp(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?o4:s4}function a4(e){return e.stepped?oI:e.tension||e.cubicInterpolationMode==="monotone"?aI:Vi}function l4(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),uS(e,t.options),e.stroke(i)}function c4(e,t,n,r){const{segments:i,options:s}=t,o=Pp(t);for(const a of i)uS(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const u4=typeof Path2D=="function";function d4(e,t,n,r){u4&&!t.options.segment?l4(e,t,n,r):c4(e,t,n,r)}class li extends Jn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;JM(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fI(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=Xk(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=a4(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=s[d],g=s[h];if(f===g){a.push(f);continue}const y=Math.abs((i-f[n])/(g[n]-f[n])),x=l(f,g,y,r.stepped);x[n]=t[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(t,n,r){return Pp(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Pp(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),d4(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}K(li,"id","line"),K(li,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),K(li,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),K(li,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ix(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class ru extends Jn{constructor(n){super();K(this,"parsed");K(this,"skip");K(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return ix(this,n,"x",r)}inYRange(n,r){return ix(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!jr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Cp(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}K(ru,"id","point"),K(ru,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),K(ru,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function hS(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=s/2,a=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function ci(e,t,n,r){return e?0:Et(t,n,r)}function h4(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=$k(r);return{t:ci(i.top,s.top,0,n),r:ci(i.right,s.right,0,t),b:ci(i.bottom,s.bottom,0,n),l:ci(i.left,s.left,0,t)}}function f4(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=ts(i),o=Math.min(t,n),a=e.borderSkipped,l=r||ve(i);return{topLeft:ci(!l||a.top||a.left,s.topLeft,0,o),topRight:ci(!l||a.top||a.right,s.topRight,0,o),bottomLeft:ci(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ci(!l||a.bottom||a.right,s.bottomRight,0,o)}}function p4(e){const t=hS(e),n=t.right-t.left,r=t.bottom-t.top,i=h4(e,n/2,r/2),s=f4(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Vh(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&hS(e,r);return a&&(i||Dr(t,a.left,a.right))&&(s||Dr(n,a.top,a.bottom))}function g4(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function m4(e,t){e.rect(t.x,t.y,t.w,t.h)}function qh(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class iu extends Jn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=p4(this),a=g4(o.radius)?il:m4;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,qh(o,n,s)),t.clip(),a(t,qh(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,qh(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return Vh(this,t,n,r)}inXRange(t,n){return Vh(this,t,null,n)}inYRange(t,n){return Vh(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}K(iu,"id","bar"),K(iu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),K(iu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var y4=Object.freeze({__proto__:null,ArcElement:ca,BarElement:iu,LineElement:li,PointElement:ru});const Tp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sx=Tp.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function fS(e){return Tp[e%Tp.length]}function pS(e){return sx[e%sx.length]}function v4(e,t){return e.borderColor=fS(t),e.backgroundColor=pS(t),++t}function x4(e,t){return e.backgroundColor=e.data.map(()=>fS(t++)),t}function b4(e,t){return e.backgroundColor=e.data.map(()=>pS(t++)),t}function w4(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof ai?t=x4(n,t):i instanceof Pa?t=b4(n,t):i&&(t=v4(n,t))}}function ox(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function _4(e){return e&&(e.borderColor||e.backgroundColor)}function k4(){return Ye.borderColor!=="rgba(0,0,0,0.1)"||Ye.backgroundColor!=="rgba(0,0,0,0.1)"}var S4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,o=ox(r)||_4(i)||s&&ox(s)||k4();if(!n.forceOverride&&o)return;const a=w4(e);r.forEach(a)}};function C4(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let u=t,d,h,f,g,y;for(o[l++]=e[u],d=0;d<s-2;d++){let x=0,m=0,v;const b=Math.floor((d+1)*a)+1+t,k=Math.min(Math.floor((d+2)*a)+1,n)+t,S=k-b;for(v=b;v<k;v++)x+=e[v].x,m+=e[v].y;x/=S,m/=S;const _=Math.floor(d*a)+1+t,O=Math.min(Math.floor((d+1)*a)+1,n)+t,{x:T,y:M}=e[u];for(f=g=-1,v=_;v<O;v++)g=.5*Math.abs((T-x)*(e[v].y-M)-(T-e[v].x)*(m-M)),g>f&&(f=g,h=e[v],y=v);o[l++]=h,u=y}return o[l++]=e[c],o}function E4(e,t,n,r){let i=0,s=0,o,a,l,c,u,d,h,f,g,y;const x=[],m=t+n-1,v=e[t].x,k=e[m].x-v;for(o=t;o<t+n;++o){a=e[o],l=(a.x-v)/k*r,c=a.y;const S=l|0;if(S===u)c<g?(g=c,d=o):c>y&&(y=c,h=o),i=(s*i+a.x)/++s;else{const _=o-1;if(!_e(d)&&!_e(h)){const O=Math.min(d,h),T=Math.max(d,h);O!==f&&O!==_&&x.push({...e[O],x:i}),T!==f&&T!==_&&x.push({...e[T],x:i})}o>0&&_!==f&&x.push(e[_]),x.push(a),u=S,s=0,g=y=c,d=h=f=o}}return x}function gS(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ax(e){e.data.datasets.forEach(t=>{gS(t)})}function O4(e,t){const n=t.length;let r=0,i;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Et(Rr(t,s.axis,o).lo,0,n-1)),c?i=Et(Rr(t,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var P4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){ax(e);return}const r=e.width;e.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(s),c=o||i.data;if(aa([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:h}=O4(l,c);const f=n.threshold||4*r;if(h<=f){gS(i);return}_e(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(n.algorithm){case"lttb":g=C4(c,d,h,r,n);break;case"min-max":g=E4(c,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(e){ax(e)}};function T4(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:l,end:c}=a;c=Nm(l,c,i);const u=Dp(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=Xk(t,u);for(const h of d){const f=Dp(n,s[h.start],s[h.end],h.loop),g=Qk(a,i,f);for(const y of g)o.push({source:y,target:h,start:{[n]:lx(u,f,"start",Math.max)},end:{[n]:lx(u,f,"end",Math.min)}})}}return o}function Dp(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=yn(i),s=yn(s)),{property:e,start:i,end:s}}function D4(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=Nm(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Nm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function lx(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function mS(e,t){let n=[],r=!1;return qe(e)?(r=!0,n=e):n=D4(e,t),n.length?new li({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function cx(e){return e&&e.fill!==!1}function R4(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!it(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function j4(e,t,n){const r=L4(e);if(ve(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return it(i)&&Math.floor(i)===i?M4(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function M4(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function I4(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ve(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function A4(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:ve(e)?r=e.value:r=t.getBaseValue(),r}function L4(e){const t=e.options,n=t.fill;let r=de(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function N4(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=F4(t,n);a.push(mS({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)z4(i,o[u],a)}return new li({points:i,options:{}})}function F4(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function z4(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=$4(s,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function $4(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],h=o[u.end][n];if(Dr(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:r}}class yS{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Ue},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function B4(e){const{chart:t,fill:n,line:r}=e;if(it(n))return U4(t,n);if(n==="stack")return N4(e);if(n==="shape")return!0;const i=W4(e);return i instanceof yS?i:mS(i,r)}function U4(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function W4(e){return(e.scale||{}).getPointPositionForValue?V4(e):H4(e)}function H4(e){const{scale:t={},fill:n}=e,r=I4(n,t);if(it(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function V4(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=A4(n,t,s),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new yS({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Yh(e,t,n){const r=B4(t),{line:i,scale:s,axis:o}=t,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};r&&i.points.length&&(Md(e,n),q4(e,{line:i,target:r,above:u,below:d,area:n,scale:s,axis:o}),Id(e))}function q4(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&s!==i&&(ux(e,r,o.top),dx(e,{line:n,target:r,color:i,scale:a,property:l}),e.restore(),e.save(),ux(e,r,o.bottom)),dx(e,{line:n,target:r,color:s,scale:a,property:l}),e.restore()}function ux(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],d=i[Nm(l,c,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function dx(e,t){const{line:n,target:r,property:i,color:s,scale:o}=t,a=T4(n,r,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=s}={}}=l,f=r!==!0;e.save(),e.fillStyle=h,Y4(e,o,f&&Dp(i,u,d)),e.beginPath();const g=!!n.pathSegment(e,l);let y;if(f){g?e.closePath():hx(e,r,d,i);const x=!!r.pathSegment(e,c,{move:g,reverse:!0});y=g&&x,y||hx(e,r,u,i)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function Y4(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(e.beginPath(),e.rect(o,r,a-o,i-r),e.clip())}function hx(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var G4={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof li&&(l={visible:e.isDatasetVisible(o),index:o,fill:j4(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=R4(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&Yh(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;cx(s)&&Yh(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!cx(r)||n.drawTime!=="beforeDatasetDraw"||Yh(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fx=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},K4=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class px extends Jn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ne(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=bt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=fx(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=t;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,y)=>{const x=r+n/2+s.measureText(g.text).width;(y===0||c[c.length-1]+x+2*a>o)&&(d+=u,c[c.length-(y>0?0:1)]=0,f+=u,h++),l[y]={left:0,top:f,row:h,width:x,height:i},c[c.length-1]+=x+a}),d}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let d=a,h=0,f=0,g=0,y=0;return this.legendItems.forEach((x,m)=>{const{itemWidth:v,itemHeight:b}=Q4(r,n,s,x,i);m>0&&f+b+2*a>u&&(d+=h+a,c.push({width:h,height:f}),g+=h+a,y++,h=f=0),l[m]={left:g,top:f,col:y,width:v,height:b},h=Math.max(h,v),f+=b+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=no(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Nt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Nt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Nt(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Nt(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Md(t,this),this._draw(),Id(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=Ye.color,l=no(t.rtl,this.left,this.width),c=bt(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:x}=fx(o,d),m=function(_,O,T){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;i.save();const M=de(T.lineWidth,1);if(i.fillStyle=de(T.fillStyle,a),i.lineCap=de(T.lineCap,"butt"),i.lineDashOffset=de(T.lineDashOffset,0),i.lineJoin=de(T.lineJoin,"miter"),i.lineWidth=M,i.strokeStyle=de(T.strokeStyle,a),i.setLineDash(de(T.lineDash,[])),o.usePointStyle){const E={radius:y*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:M},I=l.xPlus(_,g/2),A=O+h;zk(i,E,I,A,o.pointStyleWidth&&g)}else{const E=O+Math.max((d-y)/2,0),I=l.leftForLtr(_,g),A=ts(T.borderRadius);i.beginPath(),Object.values(A).some(W=>W!==0)?il(i,{x:I,y:E,w:g,h:y,radius:A}):i.rect(I,E,g,y),i.fill(),M!==0&&i.stroke()}i.restore()},v=function(_,O,T){us(i,T.text,_,O+x/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},b=this.isHorizontal(),k=this._computeTitleHeight();b?f={x:Nt(s,this.left+u,this.right-r[0]),y:this.top+u+k,line:0}:f={x:this.left+u,y:Nt(s,this.top+k+u,this.bottom-n[0].height),line:0},Yk(this.ctx,t.textDirection);const S=x+u;this.legendItems.forEach((_,O)=>{i.strokeStyle=_.fontColor,i.fillStyle=_.fontColor;const T=i.measureText(_.text).width,M=l.textAlign(_.textAlign||(_.textAlign=o.textAlign)),E=g+h+T;let I=f.x,A=f.y;l.setWidth(this.width),b?O>0&&I+E+u>this.right&&(A=f.y+=S,f.line++,I=f.x=Nt(s,this.left+u,this.right-r[f.line])):O>0&&A+S>this.bottom&&(I=f.x=I+n[f.line].width+u,f.line++,A=f.y=Nt(s,this.top+k+u,this.bottom-n[f.line].height));const W=l.x(I);if(m(W,A,_),I=mM(M,I+g+h,b?I+E:this.right,t.rtl),v(l.x(I),A,_),b)f.x+=E+u;else if(typeof _.text!="string"){const Y=c.lineHeight;f.y+=vS(_,Y)+u}else f.y+=S}),Gk(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=bt(n.font),i=Ut(n.padding);if(!n.display)return;const s=no(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Nt(t.align,d,this.right-h);else{const g=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);u=c+Nt(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=Nt(a,d,d+h);o.textAlign=s.textAlign(Pm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,us(o,n.text,f,u,r)}_computeTitleHeight(){const t=this.options.title,n=bt(t.font),r=Ut(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(Dr(t,this.left,this.right)&&Dr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Dr(t,i.left,i.left+i.width)&&Dr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!Z4(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=K4(i,r);i&&!s&&Ne(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&Ne(n.onHover,[t,r,this],this)}else r&&Ne(n.onClick,[t,r,this],this)}}function Q4(e,t,n,r,i){const s=X4(r,e,t,n),o=J4(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function X4(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function J4(e,t,n){let r=e;return typeof t.text!="string"&&(r=vS(t,n)),r}function vS(e,t){const n=e.text?e.text.length:0;return t*n}function Z4(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var eL={id:"legend",_element:px,start(e,t,n){const r=e.legend=new px({ctx:e.ctx,options:n,chart:e});zt.configure(e,r,n),zt.addBox(e,r)},stop(e){zt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;zt.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ut(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fm extends Jn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=qe(r.text)?r.text.length:1;this._padding=Ut(r.padding);const s=i*bt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Nt(a,r,s),d=n+t,c=s-r):(o.position==="left"?(u=r+t,d=Nt(a,i,n),l=We*-.5):(u=s-t,d=Nt(a,n,i),l=We*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=bt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);us(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Pm(n.align),textBaseline:"middle",translation:[o,a]})}}function tL(e,t){const n=new Fm({ctx:e.ctx,options:t,chart:e});zt.configure(e,n,t),zt.addBox(e,n),e.titleBlock=n}var nL={id:"title",_element:Fm,start(e,t,n){tL(e,n)},stop(e){const t=e.titleBlock;zt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;zt.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sc=new WeakMap;var rL={id:"subtitle",start(e,t,n){const r=new Fm({ctx:e.ctx,options:n,chart:e});zt.configure(e,r,n),zt.addBox(e,r),Sc.set(e,r)},stop(e){zt.removeBox(e,Sc.get(e)),Sc.delete(e)},beforeUpdate(e,t,n){const r=Sc.get(e);zt.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ua={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=kp(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function lr(e,t){return t&&(qe(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function kr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function iL(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function gx(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=bt(t.bodyFont),c=bt(t.titleFont),u=bt(t.footerFont),d=s.length,h=i.length,f=r.length,g=Ut(t.padding);let y=g.height,x=0,m=r.reduce((k,S)=>k+S.before.length+S.lines.length+S.after.length,0);if(m+=e.beforeBody.length+e.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),m){const k=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=f*k+(m-f)*l.lineHeight+(m-1)*t.bodySpacing}h&&(y+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(k){x=Math.max(x,n.measureText(k).width+v)};return n.save(),n.font=c.string,Oe(e.title,b),n.font=l.string,Oe(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,Oe(r,k=>{Oe(k.before,b),Oe(k.lines,b),Oe(k.after,b)}),v=0,n.font=u.string,Oe(e.footer,b),n.restore(),x+=g.width,{width:x,height:y}}function sL(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function oL(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function aL(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),oL(c,e,t,n)&&(c="center"),c}function mx(e,t,n){const r=n.yAlign||t.yAlign||sL(e,n);return{xAlign:n.xAlign||t.xAlign||aL(e,t,n,r),yAlign:r}}function lL(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function cL(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function yx(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=ts(o);let g=lL(t,a);const y=cL(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,h)+i:a==="right"&&(g+=Math.max(d,f)+i),{x:Et(g,0,r.width-t.width),y:Et(y,0,r.height-t.height)}}function Cc(e,t,n){const r=Ut(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function vx(e){return lr([],kr(e))}function uL(e,t,n){return Ti(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function xx(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const xS={beforeTitle:wr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:wr,beforeBody:wr,beforeLabel:wr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return _e(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:wr,afterBody:wr,beforeFooter:wr,footer:wr,afterFooter:wr};function en(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?xS[t].call(n,r):i}class Rp extends Jn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new Jk(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=en(r,"beforeTitle",this,t),s=en(r,"title",this,t),o=en(r,"afterTitle",this,t);let a=[];return a=lr(a,kr(i)),a=lr(a,kr(s)),a=lr(a,kr(o)),a}getBeforeBody(t,n){return vx(en(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Oe(t,s=>{const o={before:[],lines:[],after:[]},a=xx(r,s);lr(o.before,kr(en(a,"beforeLabel",this,s))),lr(o.lines,en(a,"label",this,s)),lr(o.after,kr(en(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return vx(en(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=en(r,"beforeFooter",this,t),s=en(r,"footer",this,t),o=en(r,"afterFooter",this,t);let a=[];return a=lr(a,kr(i)),a=lr(a,kr(s)),a=lr(a,kr(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(iL(this.chart,n[l]));return t.filter&&(a=a.filter((u,d,h)=>t.filter(u,d,h,r))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,r))),Oe(a,u=>{const d=xx(t.callbacks,u);i.push(en(d,"labelColor",this,u)),s.push(en(d,"labelPointStyle",this,u)),o.push(en(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=ua[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=gx(this,r),c=Object.assign({},a,l),u=mx(this.chart,r,c),d=yx(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ts(a),{x:h,y:f}=t,{width:g,height:y}=n;let x,m,v,b,k,S;return s==="center"?(k=f+y/2,i==="left"?(x=h,m=x-o,b=k+o,S=k-o):(x=h+g,m=x+o,b=k-o,S=k+o),v=x):(i==="left"?m=h+Math.max(l,u)+o:i==="right"?m=h+g-Math.max(c,d)-o:m=this.caretX,s==="top"?(b=f,k=b-o,x=m-o,v=m+o):(b=f+y,k=b+o,x=m+o,v=m-o),S=b),{x1:x,x2:m,x3:v,y1:b,y2:k,y3:S}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=no(r.rtl,this.x,this.width);for(t.x=Cc(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=bt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=bt(s.bodyFont),d=Cc(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(h,c)+c/2,m=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Cp(t,y,x,m),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Cp(t,y,x,m)}else{t.lineWidth=ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(h,c),x=i.leftForLtr(i.xPlus(h,1),c-2),m=ts(o.borderRadius);Object.values(m).some(v=>v!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,il(t,{x:y,y:g,w:c,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),il(t,{x,y:g+1,w:c-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,g,c,l),t.strokeRect(y,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(x,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=bt(r.bodyFont);let h=d.lineHeight,f=0;const g=no(r.rtl,this.x,this.width),y=function(T){n.fillText(T,g.x(t.x+f),t.y+h/2),t.y+=h+s},x=g.textAlign(o);let m,v,b,k,S,_,O;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,t.x=Cc(this,x,r),n.fillStyle=r.bodyColor,Oe(this.beforeBody,y),f=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,k=0,_=i.length;k<_;++k){for(m=i[k],v=this.labelTextColors[k],n.fillStyle=v,Oe(m.before,y),b=m.lines,a&&b.length&&(this._drawColorBox(n,t,k,g,r),h=Math.max(d.lineHeight,l)),S=0,O=b.length;S<O;++S)y(b[S]),h=d.lineHeight;Oe(m.after,y)}f=0,h=d.lineHeight,Oe(this.afterBody,y),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=no(r.rtl,this.x,this.width);for(t.x=Cc(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=bt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=ts(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=ua[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=gx(this,t),l=Object.assign({},o,this._size),c=mx(n,t,l),u=yx(t,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Ut(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),Yk(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Gk(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Fu(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!Fu(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=ua[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}K(Rp,"positioners",ua);var dL={id:"tooltip",_element:Rp,positioners:ua,afterInit(e,t,n){n&&(e.tooltip=new Rp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},hL=Object.freeze({__proto__:null,Colors:S4,Decimation:P4,Filler:G4,Legend:eL,SubTitle:rL,Title:nL,Tooltip:dL});const fL=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function pL(e,t,n,r){const i=e.indexOf(t);if(i===-1)return fL(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const gL=(e,t)=>e===null?null:Et(Math.round(e),0,t);function bx(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class jp extends ys{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(_e(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:pL(r,t,de(n,t),this._addedLabels),gL(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return bx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}K(jp,"id","category"),K(jp,"defaults",{ticks:{callback:bx}});function mL(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=e,f=s||1,g=u-1,{min:y,max:x}=t,m=!_e(o),v=!_e(a),b=!_e(c),k=(x-y)/(d+1);let S=g0((x-y)/g/f)*f,_,O,T,M;if(S<1e-14&&!m&&!v)return[{value:y},{value:x}];M=Math.ceil(x/S)-Math.floor(y/S),M>g&&(S=g0(M*S/g/f)*f),_e(l)||(_=Math.pow(10,l),S=Math.ceil(S*_)/_),i==="ticks"?(O=Math.floor(y/S)*S,T=Math.ceil(x/S)*S):(O=y,T=x),m&&v&&s&&cM((a-o)/s,S/1e3)?(M=Math.round(Math.min((a-o)/S,u)),S=(a-o)/M,O=o,T=a):b?(O=m?o:O,T=v?a:T,M=c-1,S=(T-O)/M):(M=(T-O)/S,Ca(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const E=Math.max(m0(S),m0(O));_=Math.pow(10,_e(l)?E:l),O=Math.round(O*_)/_,T=Math.round(T*_)/_;let I=0;for(m&&(h&&O!==o?(n.push({value:o}),O<o&&I++,Ca(Math.round((O+I*S)*_)/_,o,wx(o,k,e))&&I++):O<o&&I++);I<M;++I){const A=Math.round((O+I*S)*_)/_;if(v&&A>a)break;n.push({value:A})}return v&&h&&T!==a?n.length&&Ca(n[n.length-1].value,a,wx(a,k,e))?n[n.length-1].value=a:n.push({value:a}):(!v||T===a)&&n.push({value:T}),n}function wx(e,t,{horizontal:n,minRotation:r}){const i=qn(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class qu extends ys{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return _e(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=mr(i),c=mr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=mL(i,s);return t.bounds==="ticks"&&Dk(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Pl(t,this.chart.options.locale,this.options.ticks.format)}}class Mp extends qu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=it(t)?t:0,this.max=it(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=qn(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}K(Mp,"id","linear"),K(Mp,"defaults",{ticks:{callback:jd.formatters.numeric}});const ol=e=>Math.floor(oi(e)),zi=(e,t)=>Math.pow(10,ol(e)+t);function _x(e){return e/Math.pow(10,ol(e))===1}function kx(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function yL(e,t){const n=t-e;let r=ol(n);for(;kx(e,t,r)>10;)r++;for(;kx(e,t,r)<10;)r--;return Math.min(r,ol(e))}function vL(e,{min:t,max:n}){t=gn(e.min,t);const r=[],i=ol(t);let s=yL(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=gn(e.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<n;)r.push({value:h,major:_x(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;const f=gn(e.max,h);return r.push({value:f,major:_x(f),significand:d}),r}class Ip extends ys{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=qu.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return it(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=it(t)?Math.max(0,t):null,this.max=it(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!it(this._userMin)&&(this.min=t===zi(this.min,0)?zi(this.min,-1):zi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(zi(r,-1)),o(zi(i,1)))),r<=0&&s(zi(i,-1)),i<=0&&o(zi(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=vL(n,this);return t.bounds==="ticks"&&Dk(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Pl(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=oi(t),this._valueRange=oi(this.max)-oi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(oi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}K(Ip,"id","logarithmic"),K(Ip,"defaults",{ticks:{callback:jd.formatters.logarithmic,major:{enabled:!0}}});function Ap(e){const t=e.ticks;if(t.display&&e.display){const n=Ut(t.backdropPadding);return de(t.font&&t.font.size,Ye.font.size)+n.height}return 0}function xL(e,t,n){return n=qe(n)?n:[n],{w:EM(e,t.string,n),h:n.length*t.lineHeight}}function Sx(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function bL(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?We/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),d=bt(c.font),h=xL(e.ctx,d,e._pointLabels[l]);r[l]=h;const f=yn(e.getIndexAngle(l)+a),g=Math.round(Em(f)),y=Sx(g,u.x,h.w,0,180),x=Sx(g,u.y,h.h,90,270);wL(n,t,f,y,x)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=SL(e,r,i)}function wL(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function _L(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,r+i+o,s),c=Math.round(Em(yn(l.angle+lt))),u=OL(l.y,a.h,c),d=CL(c),h=EL(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function kL(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(jr({x:n,y:r},t)||jr({x:n,y:s},t)||jr({x:i,y:r},t)||jr({x:i,y:s},t))}function SL(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Ap(s)/2,additionalAngle:o?We/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const d=_L(e,u,l);r.push(d),a==="auto"&&(d.visible=kL(d,c),d.visible&&(c=d))}return r}function CL(e){return e===0||e===180?"center":e<180?"left":"right"}function EL(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function OL(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function PL(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!_e(a)){const l=ts(t.borderRadius),c=Ut(t.backdropPadding);e.fillStyle=a;const u=r-c.left,d=i-c.top,h=s-r+c.width,f=o-i+c.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),il(e,{x:u,y:d,w:h,h:f,radius:l}),e.fill()):e.fillRect(u,d,h,f)}}function TL(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));PL(n,o,s);const a=bt(o.font),{x:l,y:c,textAlign:u}=s;us(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function bS(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Ue);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function DL(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),bS(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function RL(e,t,n){return Ti(e,{label:n,index:t,type:"pointLabel"})}class da extends qu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ut(Ap(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=it(t)&&!isNaN(t)?t:0,this.max=it(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ap(this.options))}generateTickLabels(t){qu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=Ne(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?bL(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=Ue/(this._pointLabels.length||1),r=this.options.startAngle||0;return yn(t*n+qn(r))}getDistanceFromCenterForValue(t){if(_e(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(_e(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return RL(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-lt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),bS(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&TL(this,o),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),g=s.setContext(h);DL(this,f,l,o,g)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(t.lineWidth=h,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=bt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const d=Ut(c.backdropPadding);t.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}us(t,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}K(da,"id","radialLinear"),K(da,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),K(da,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),K(da,"descriptors",{angleLines:{_fallback:"grid"}});const Nd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sn=Object.keys(Nd);function Cx(e,t){return e-t}function Ex(e,t){if(_e(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),it(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(go(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Ox(e,t,n,r){const i=sn.length;for(let s=sn.indexOf(e);s<i-1;++s){const o=Nd[sn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return sn[s]}return sn[i-1]}function jL(e,t,n,r,i){for(let s=sn.length-1;s>=sn.indexOf(n);s--){const o=sn[s];if(Nd[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return sn[n?sn.indexOf(n):0]}function ML(e){for(let t=sn.indexOf(e)+1,n=sn.length;t<n;++t)if(Nd[sn[t]].common)return sn[t]}function Px(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Om(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function IL(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function Tx(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:IL(e,r,i,n)}class al extends ys{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new UI._date(t.adapters.date);i.init(n),Sa(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Ex(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=it(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=it(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=fM(i,s,o);return this._unit=n.unit||(r.autoSkip?Ox(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):jL(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ML(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),Tx(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Et(n,0,o),r=Et(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Ox(s.minUnit,n,r,this._getLabelCapacity(n)),a=de(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=go(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<r;h=+t.add(h,a,o),f++)Px(u,h,g);return(h===r||i.bounds==="ticks"||f===1)&&Px(u,h,g),Object.keys(u).sort(Cx).map(y=>+y)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ne(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=r[n],f=c&&d&&h&&h.major;return this._adapter.format(t,i||(f?d:u))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=qn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Tx(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(Ex(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Mk(t.sort(Cx))}}K(al,"id","time"),K(al,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ec(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Rr(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Rr(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class Lp extends al{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ec(n,this.min),this._tableRange=Ec(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ec(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Ec(this._table,r*this._tableRange+this._minPos,!0)}}K(Lp,"id","timeseries"),K(Lp,"defaults",al.defaults);var AL=Object.freeze({__proto__:null,CategoryScale:jp,LinearScale:Mp,LogarithmicScale:Ip,RadialLinearScale:da,TimeScale:al,TimeSeriesScale:Lp});const LL=[BI,y4,hL,AL],wS="label";function Dx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function NL(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function _S(e,t){e.labels=t}function kS(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wS;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function FL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wS;const n={labels:[],datasets:[]};return _S(n,e.labels),kS(n,e.datasets,t),n}function zL(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=e,f=w.useRef(null),g=w.useRef(),y=()=>{f.current&&(g.current=new Ld(f.current,{type:o,data:FL(a,s),options:l&&{...l},plugins:c}),Dx(t,g.current))},x=()=>{Dx(t,null),g.current&&(g.current.destroy(),g.current=null)};return w.useEffect(()=>{!i&&g.current&&l&&NL(g.current,l)},[i,l]),w.useEffect(()=>{!i&&g.current&&_S(g.current.config.data,a.labels)},[i,a.labels]),w.useEffect(()=>{!i&&g.current&&a.datasets&&kS(g.current.config.data,a.datasets,s)},[i,a.datasets]),w.useEffect(()=>{g.current&&(i?(x(),setTimeout(y)):g.current.update(d))},[i,l,a.labels,a.datasets,d]),w.useEffect(()=>{g.current&&(x(),setTimeout(y))},[o]),w.useEffect(()=>(y(),()=>x()),[]),Xe.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:r},h),u)}const $L=w.forwardRef(zL);function SS(e,t){return Ld.register(t),w.forwardRef((n,r)=>Xe.createElement($L,Object.assign({},n,{ref:r,type:e})))}const BL=SS("doughnut",ai),UL=SS("pie",Wu),WL=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!1),[o,a]=w.useState(!1);w.useEffect(()=>{(async()=>{var d;try{const{data:{user:h},error:f}=await ne.auth.getUser();if(f||!h){console.error("Error fetching user:",f==null?void 0:f.message);return}const{data:g,error:y}=await ne.from("profile").select("notification_day(day)").eq("user",h.id).single();if(y||!g){console.error("Error fetching profile:",y==null?void 0:y.message);return}const x=(d=g.notification_day)==null?void 0:d.day;if(!x){console.error("No notification day configured for this user.");return}const{data:m,error:v}=await ne.from("inventory").select("days_left, ingredients(name)").eq("user_id",h.id).lte("days_left",x).eq("condition_id",1);if(v){console.error("Error fetching inventory items:",v.message);return}const b=[],k=[];m.forEach(S=>{S.days_left<0?k.push(`Oops! Your ${S.ingredients.name} has expired.`):b.push(`Get Cooking! Your ${S.ingredients.name} is expiring soon.`)}),b.length>0&&(t(b),s(!0)),k.length>0&&(r(k),a(!0))}catch(h){console.error("Error fetching notification data:",h.message)}})()},[]);const l=()=>s(!1),c=()=>a(!1);return p.jsxs(p.Fragment,{children:[i&&p.jsx("div",{className:"notification-popup",children:p.jsxs("div",{className:"notification-content",children:[p.jsx("h3",{children:"Soon to Expire"}),p.jsx("div",{className:"notification-list",children:e.length===0?p.jsx("p",{children:"No ingredients are expiring soon."}):e.map((u,d)=>p.jsx("p",{children:u},d))}),p.jsx("button",{className:"close-button",onClick:l,children:"Close"})]})}),o&&p.jsx("div",{className:"notification-popup expired",children:p.jsxs("div",{className:"notification-content",children:[p.jsx("h3",{children:"Expired Items"}),p.jsx("div",{className:"notification-list",children:n.length===0?p.jsx("p",{children:"No expired items."}):n.map((u,d)=>p.jsx("p",{children:u},d))}),p.jsx("button",{className:"close-button",onClick:c,children:"Close"})]})})]})};Ld.register(...LL);const HL=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(""),[i,s]=w.useState([]),[o,a]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState({}),[h,f]=w.useState(!0),g=Qt();if(w.useEffect(()=>{(async()=>{var b;const{data:m,error:v}=await ne.auth.getSession();v?(console.error("Error fetching user session:",v.message),g("/login")):t(((b=m==null?void 0:m.session)==null?void 0:b.user)||null)})()},[g]),w.useEffect(()=>{e&&(async()=>{if(!e)return;const{data:m,error:v}=await ne.from("profile").select("username").eq("user",e.id).single();v?console.error("Error fetching username:",v.message):r((m==null?void 0:m.username)||"User")})()},[e]),w.useEffect(()=>{e&&(async()=>{if(e){f(!0);try{const{data:m,error:v}=await ne.from("inventory").select("ingredient_id, ingredients(name, ingredients_category(category_name))").eq("user_id",e.id).eq("condition_id",1);if(v)console.error("Error fetching inventory:",v.message);else{const M=m.reduce((E,I)=>{var W,Y;const A=((Y=(W=I.ingredients)==null?void 0:W.ingredients_category)==null?void 0:Y.category_name)||"Unknown";return E[A]=(E[A]||0)+1,E},{});s(Object.entries(M).map(([E,I])=>({category_name:E,total:I})))}const{data:b,error:k}=await ne.from("inventory").select("ingredients(nutritional_info)").eq("user_id",e.id).eq("condition_id",1);if(k)console.error("Error fetching nutritional info:",k.message);else{const M=b.reduce((E,I)=>{var A,W,Y;try{const U=typeof((A=I.ingredients)==null?void 0:A.nutritional_info)=="string"?JSON.parse(I.ingredients.nutritional_info):(W=I.ingredients)==null?void 0:W.nutritional_info;if(U&&typeof U=="object")for(const[j,F]of Object.entries(U)){const D=parseFloat(F);isNaN(D)||(E[j]=(E[j]||0)+D)}}catch(U){console.error("Error parsing nutritional_info:",(Y=I.ingredients)==null?void 0:Y.nutritional_info,U.message)}return E},{});d(M)}const{data:S,error:_}=await ne.from("inventory").select("days_left, ingredients(name)").eq("user_id",e==null?void 0:e.id).eq("condition_id",1).gt("days_left",0).lte("days_left",5);if(_)throw _;a(S.sort((M,E)=>E.days_left-M.days_left));const{data:O,error:T}=await ne.from("inventory").select("days_left, ingredients(name)").eq("user_id",e==null?void 0:e.id).eq("condition_id",1).lte("days_left",0);if(T)throw T;c(O.sort((M,E)=>M.days_left-E.days_left))}catch(m){console.error("Error fetching data:",m.message)}finally{f(!1)}}})()},[e]),h)return p.jsx("div",{children:"Loading..."});const y=i.length===0&&o.length===0&&l.length===0;return p.jsxs("div",{children:[p.jsx(WL,{}),p.jsxs("div",{className:"dashboard-container",children:[p.jsx("div",{className:"dashboard-header",children:n&&p.jsxs("h1",{children:["Welcome, ",n,"!"]})}),y?p.jsx("div",{className:"empty-state",children:p.jsx("p",{children:"To get started, scan a receipt to load your inventory and explore insights about your kitchen."})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"chart-container",children:[p.jsxs("div",{className:"chart-card",children:[p.jsx("h2",{children:"Total Ingredients in Your Inventory"}),p.jsx(UL,{data:{labels:i.map(x=>x.category_name),datasets:[{data:i.map(x=>x.total),backgroundColor:["#84e2ca","#caabd5","#fbdd94","#f58a78","#f2cec2"]}]}})]}),p.jsxs("div",{className:"chart-card",children:[p.jsx("h2",{className:"chart-title",children:"Nutritional Overview"}),p.jsx(BL,{data:{labels:Object.keys(u),datasets:[{label:"Nutritional Values",data:Object.values(u),backgroundColor:["#ffc98b","#e79796","#f5cec7","#b6dce7","#a5cf8c","#faae83"]}]},options:{plugins:{title:{display:!1}}}})]})]}),p.jsxs("div",{className:"table-container",children:[p.jsxs("div",{className:"table-card",children:[p.jsx("h2",{children:"Expiring Ingredients"}),p.jsxs("table",{className:"expiring-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Ingredient"}),p.jsx("th",{children:"Status"})]})}),p.jsx("tbody",{children:o.map((x,m)=>p.jsxs("tr",{children:[p.jsx("td",{children:x.ingredients.name}),p.jsx("td",{children:`${Math.abs(x.days_left)} days left`})]},m))})]})]}),p.jsxs("div",{className:"table-card",children:[p.jsx("h2",{children:"Expired Ingredients"}),p.jsxs("table",{className:"expiring-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Ingredient"}),p.jsx("th",{children:"Status"})]})}),p.jsx("tbody",{children:l.map((x,m)=>p.jsxs("tr",{children:[p.jsx("td",{children:x.ingredients.name}),p.jsx("td",{children:`Expired ${Math.abs(x.days_left)} days ago`})]},m))})]})]})]})]})]})]})},VL="Left",qL="Right",YL="Up",GL="Down",Vs={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Np={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Rx="mousemove",jx="mouseup",KL="touchend",QL="touchmove",XL="touchstart";function JL(e,t,n,r){return e>t?n>0?qL:VL:r>0?GL:YL}function Mx(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,i]}function ZL(e,t){const n=u=>{const d="touches"in u;d&&u.touches.length>1||e((h,f)=>{f.trackMouse&&!d&&(document.addEventListener(Rx,r),document.addEventListener(jx,o));const{clientX:g,clientY:y}=d?u.touches[0]:u,x=Mx([g,y],f.rotationAngle);return f.onTouchStartOrOnMouseDown&&f.onTouchStartOrOnMouseDown({event:u}),Object.assign(Object.assign(Object.assign({},h),Np),{initial:x.slice(),xy:x,start:u.timeStamp||0})})},r=u=>{e((d,h)=>{const f="touches"in u;if(f&&u.touches.length>1)return d;if(u.timeStamp-d.start>h.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:g,clientY:y}=f?u.touches[0]:u,[x,m]=Mx([g,y],h.rotationAngle),v=x-d.xy[0],b=m-d.xy[1],k=Math.abs(v),S=Math.abs(b),_=(u.timeStamp||0)-d.start,O=Math.sqrt(k*k+S*S)/(_||1),T=[v/(_||1),b/(_||1)],M=JL(k,S,v,b),E=typeof h.delta=="number"?h.delta:h.delta[M.toLowerCase()]||Vs.delta;if(k<E&&S<E&&!d.swiping)return d;const I={absX:k,absY:S,deltaX:v,deltaY:b,dir:M,event:u,first:d.first,initial:d.initial,velocity:O,vxvy:T};I.first&&h.onSwipeStart&&h.onSwipeStart(I),h.onSwiping&&h.onSwiping(I);let A=!1;return(h.onSwiping||h.onSwiped||h[`onSwiped${M}`])&&(A=!0),A&&h.preventScrollOnSwipe&&h.trackTouch&&u.cancelable&&u.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:I,swiping:!0})})},i=u=>{e((d,h)=>{let f;if(d.swiping&&d.eventData){if(u.timeStamp-d.start<h.swipeDuration){f=Object.assign(Object.assign({},d.eventData),{event:u}),h.onSwiped&&h.onSwiped(f);const g=h[`onSwiped${f.dir}`];g&&g(f)}}else h.onTap&&h.onTap({event:u});return h.onTouchEndOrOnMouseUp&&h.onTouchEndOrOnMouseUp({event:u}),Object.assign(Object.assign(Object.assign({},d),Np),{eventData:f})})},s=()=>{document.removeEventListener(Rx,r),document.removeEventListener(jx,o)},o=u=>{s(),i(u)},a=(u,d)=>{let h=()=>{};if(u&&u.addEventListener){const f=Object.assign(Object.assign({},Vs.touchEventOptions),d.touchEventOptions),g=[[XL,n,f],[QL,r,Object.assign(Object.assign({},f),d.preventScrollOnSwipe?{passive:!1}:{})],[KL,i,f]];g.forEach(([y,x,m])=>u.addEventListener(y,x,m)),h=()=>g.forEach(([y,x])=>u.removeEventListener(y,x))}return h},c={ref:u=>{u!==null&&e((d,h)=>{if(d.el===u)return d;const f={};return d.el&&d.el!==u&&d.cleanUpTouch&&(d.cleanUpTouch(),f.cleanUpTouch=void 0),h.trackTouch&&u&&(f.cleanUpTouch=a(u,h)),Object.assign(Object.assign(Object.assign({},d),{el:u}),f)})}};return t.trackMouse&&(c.onMouseDown=n),[c,a]}function eN(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function tN(e){const{trackMouse:t}=e,n=w.useRef(Object.assign({},Np)),r=w.useRef(Object.assign({},Vs)),i=w.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},Vs),e);let s;for(s in Vs)r.current[s]===void 0&&(r.current[s]=Vs[s]);const[o,a]=w.useMemo(()=>ZL(l=>n.current=l(n.current,r.current),{trackMouse:t}),[t]);return n.current=eN(n.current,r.current,i.current,a),o}const nN=async e=>{try{const{data:t,error:n}=await ne.from("inventory").select(`
        id:ingredient_id,
        daysLeft:days_left,
        quantity,
        quantity_unit_id,
        freshness_status_id,
        created_at,
        condition_id,
        ingredients (
          name,
          icon_path,
          nutritional_info,
          storage_tips,
          pred_shelf_life,
          ingredients_category (
            category_tag
          )
        ),
        freshness_status (
          status_color
        ),
        unit:unit (unit_tag),
        condition:condition (condition)
      `).eq("user_id",e);if(n)throw n;console.log("Fetched raw data from Supabase:",t);const r="https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/";return t.map(s=>{var c,u,d,h,f,g,y,x,m;const o=(u=(c=s.ingredients)==null?void 0:c.ingredients_category)==null?void 0:u.category_tag,a=((d=s.freshness_status)==null?void 0:d.status_color)||"green",l=(h=s.ingredients)!=null&&h.icon_path?`${r}${s.ingredients.icon_path}`:"";return{id:s.id,name:((f=s.ingredients)==null?void 0:f.name)||"Unknown",daysLeft:s.daysLeft,imageUrl:l,category:o,pred_shelf_life:((g=s.ingredients)==null?void 0:g.pred_shelf_life)||"No prediction available",quantity:s.quantity,quantity_unit:((y=s.unit)==null?void 0:y.unit_tag)||"unit",statusColor:a,nutritionalInfo:((x=s.ingredients)==null?void 0:x.nutritional_info)||"No information available",storageTips:((m=s.ingredients)==null?void 0:m.storage_tips)||"No tips available",condition_id:s.condition_id,created_at:s.created_at}})}catch(t){return console.error("Error fetching items:",t),[]}},zm=async(e,t)=>{try{const{data:n,error:r}=await ne.from("inventory").update({quantity:t,updated_at:new Date().toISOString()}).match({ingredient_id:e});if(r)throw r;console.log("Quantity and updated_at timestamp updated:",n)}catch(n){console.error("Error updating quantity:",n)}},rN=async(e,t)=>{try{console.log("Item before update:",e),console.log("Portion to deduct:",t);let n=e.quantity-t;return n=parseFloat(n.toFixed(2)),console.log("New quantity:",n),await zm(e.id,n),n}catch(n){throw console.error("Error handling portion click:",n),n}},iN=async(e,t,n)=>{const r=parseFloat(t);if(!isNaN(r)&&r>=0)try{await zm(e.id,r),n(i=>i.map(s=>s.id===e.id?{...s,quantity:r}:s))}catch(i){console.error("Error handling quantity change:",i)}},sN=async(e,t)=>{console.log("Attempting to update item condition..."),console.log("Item ID:",e),console.log("Condition ID:",t);try{const n=await ne.from("inventory").update({condition_id:t}).eq("ingredient_id",e).select("*",{count:"exact"});if(n.error)throw new Error(n.error.message);return{data:n.data,error:null,count:n.count}}catch(n){return console.error("Error updating condition:",n.message),{data:null,error:n.message,count:0}}},Oc={fetchItems:nN,updateQuantityInDatabase:zm,handlePortionClick:rN,handleQuantityChange:iN,updateItemCondition:sN},oN=()=>{const[e,t]=w.useState(null),n=Qt(),[r,i]=w.useState(!0),[s,o]=w.useState(""),[a,l]=w.useState(null),[c,u]=w.useState([]),[d,h]=w.useState({}),[f,g]=w.useState(null),[y,x]=w.useState(!1),[m,v]=w.useState({}),[b,k]=w.useState(null),[S,_]=w.useState(!1);if(w.useEffect(()=>{(async()=>{var X;i(!0);const{data:L,error:C}=await ne.auth.getSession();if(C)console.error("Error fetching user session:",C.message),n("/login");else{const G=((X=L==null?void 0:L.session)==null?void 0:X.user)||null;if(t(G),G){const P=await Oc.fetchItems(G.id);u(P)}}i(!1)})()},[n]),w.useEffect(()=>{b&&j()},[b]),r)return p.jsx("div",{children:"Loading..."});const O=c.filter(D=>D.condition_id===1).filter(D=>D.name.toLowerCase().includes(s.toLowerCase())).sort((D,L)=>f==="days_left"?(D.daysLeft||1/0)-(L.daysLeft||1/0):f==="category"?D.category.localeCompare(L.category):0),T=()=>{x(D=>!D)},M=D=>{g(D),x(!1)},E=D=>{h(L=>({...L,[D]:!L[D]}))},I=D=>{l(L=>L===D?null:D)},A=D=>{const L=parseFloat(m[D.id]||0);if(L>0&&L<=D.quantity){const C=D.quantity-L;Y(D,C),v({...m,[D.id]:""})}else alert("Please enter a valid amount within the range!")},W=async(D,L)=>{try{const C=await Oc.handlePortionClick(D,L);u(X=>X.map(G=>G.id===D.id?{...G,quantity:C}:G))}catch(C){console.error("Error handling portion click:",C)}},Y=async(D,L)=>{try{await Oc.handleQuantityChange(D,L,u)}catch(C){console.error("Error handling quantity change:",C)}},U=D=>{u(L=>L.filter(C=>C.id!==D))},j=async()=>{if(b&&!S){_(!0);const{id:D,action:L}=b,C=L==="discard"?3:2;try{const{data:X,error:G,count:P}=await Oc.updateItemCondition(D,C);if(G){console.error("Error updating item condition:",G);return}if(P===0){console.warn("No matching rows found to update.");return}U(D)}catch(X){console.error("Error during action confirmation:",X.message)}finally{_(!1),k(null)}}},F=(D,L)=>{k({id:D.id,action:L})};return p.jsxs("div",{className:"inventory-container",children:[p.jsx("input",{type:"text",placeholder:"Search for items...",className:"search-bar",value:s,onChange:D=>o(D.target.value)}),p.jsxs("div",{className:"tracker-header",children:[p.jsx("img",{src:"/image/filter-icon.png",alt:"Filter Icon",className:"filter-icon",onClick:T}),p.jsx("div",{className:"tracker-title",children:"Tracker"})]}),y&&p.jsxs("div",{className:"filter-menu",children:[p.jsx("button",{onClick:()=>M("days_left"),children:"Sort by Days Left"}),p.jsx("button",{onClick:()=>M("category"),children:"Sort by Food Category"})]}),O.length===0?p.jsx("div",{className:"empty-inventory-message",children:"Oops, your inventory is empty..."}):p.jsxs("div",{className:"item-sections",children:[p.jsxs("div",{className:"expired-section",children:[p.jsx("h2",{className:"section-title",children:"Expired Food"}),p.jsx("div",{className:"item-list",children:O.filter(D=>D.daysLeft!==null&&D.daysLeft<=0).map(D=>p.jsx(Ix,{item:D,setItems:u,handleClick:E,expandedItems:d,setExpandedItems:h,usedAmount:m,setUsedAmount:v,handleQuantityChange:Y,handlePortionClickWithState:W,handleDoneClick:A,activeDropdown:a,toggleDropdown:I,handleSwipeAction:F},D.id))})]}),p.jsxs("div",{className:"fresh-section",children:[p.jsx("h2",{className:"section-title",children:"Fresh & Good"}),p.jsx("div",{className:"item-list",children:O.filter(D=>D.daysLeft>0||D.daysLeft===null).map(D=>p.jsx(Ix,{item:D,setItems:u,handleClick:E,expandedItems:d,setExpandedItems:h,usedAmount:m,setUsedAmount:v,handleQuantityChange:Y,handlePortionClickWithState:W,handleDoneClick:A,activeDropdown:a,toggleDropdown:I,handleSwipeAction:F},D.id))})]})]})]})},Ix=({item:e,setItems:t,handleClick:n,expandedItems:r,setExpandedItems:i,usedAmount:s,setUsedAmount:o,handleQuantityChange:a,handlePortionClickWithState:l,handleDoneClick:c,activeDropdown:u,toggleDropdown:d,handleSwipeAction:h})=>{const[f,g]=w.useState(!1),[y,x]=w.useState(!1),m=tN({onSwipedLeft:()=>g(!0),onSwipedRight:()=>g(!1),preventDefaultTouchmoveEvent:!0,trackMouse:!0}),v=b=>{y||(x(!0),g(!1),h(e,b))};return p.jsxs("div",{className:"item-container",...m,children:[p.jsx("div",{className:"swipeable-item",style:{transform:f?"translateX(-50%)":"translateX(0)"}}),p.jsxs("div",{className:"item",children:[f&&p.jsxs("div",{className:"action-buttons",children:[p.jsx("button",{className:"used-button",onClick:()=>v("used"),children:"Used"}),p.jsx("button",{className:"discard-button",onClick:()=>v("discard"),children:"Discard"})]}),p.jsxs("div",{className:"left-section",children:[p.jsx("div",{className:`green-dot ${e.statusColor}`}),p.jsx("div",{className:"circle-image",children:p.jsx("img",{src:e.imageUrl,alt:e.name})}),p.jsxs("div",{className:"text-section",children:[p.jsx("div",{className:"item-name",children:e.name}),p.jsx("div",{className:e.daysLeft==null?"item-days shelf-life":"item-days",children:e.daysLeft!=null?`${e.daysLeft}d left`:null}),e.daysLeft==null&&p.jsx("div",{className:`item-days shelf-life ${r[e.id]?"full-text":""}`,onClick:()=>n(e.id),children:r[e.id]?e.pred_shelf_life:`${e.pred_shelf_life.slice(0,20)}...`})]})]}),p.jsxs("div",{className:"right-section",children:[p.jsxs("span",{className:"item-quantity",children:[e.quantity," ",e.quantity_unit]}),p.jsx("span",{className:"tag",children:e.category}),p.jsx("span",{className:"dropdown-icon",onClick:()=>d(e.id),children:"▼"})]})]}),u===e.id&&p.jsxs("div",{className:"dropdown-box",children:[p.jsxs("div",{className:"date-purchased",children:[p.jsx("img",{src:"/image/date-icon.png",alt:"Calendar Icon",className:"date-icon"}),"Date Purchased: ",new Date(e.created_at).toISOString().split("T")[0]]}),["unit","pcs","can","box"].includes(e.quantity_unit)?p.jsxs("div",{className:"unit-controls",children:[p.jsx("button",{onClick:()=>l(e,-1),className:"quantity-button",children:"-"}),p.jsx("div",{className:"quantity-container",children:p.jsx("div",{className:"quantity-box",children:e.quantity})}),p.jsx("button",{onClick:()=>l(e,1),className:"quantity-button",children:"+"})]}):p.jsxs("div",{className:"portion-section",children:[p.jsxs("div",{className:"quantity-container",children:[p.jsx("input",{type:"number",value:e.quantity===null||e.quantity===void 0?"":e.quantity,onChange:b=>a(e,b.target.value===""?"":parseFloat(b.target.value)),className:"quantity-box",min:"0"}),p.jsxs("div",{className:"quantity-unit",children:["(",e.quantity_unit,")"]})]}),p.jsxs("div",{className:"used-amount-container",children:[p.jsx("label",{htmlFor:`used-amount-${e.id}`,children:"Used amount:"}),p.jsx("input",{type:"number",id:`used-amount-${e.id}`,className:"used-amount-input",value:s[e.id]||"",onChange:b=>o({...s,[e.id]:b.target.value})}),p.jsxs("div",{className:"quantity-unit",children:["(",e.quantity_unit,")"]}),p.jsx("img",{src:"/image/tick-icon.png",alt:"Confirm",className:"done-icon",onClick:()=>c(e)})]}),p.jsx("p",{children:"or"}),p.jsxs("div",{className:"portion-row",children:[p.jsx("p",{children:"Used portion:"}),p.jsxs("div",{className:"portion-buttons",children:[p.jsx("button",{onClick:()=>l(e,e.quantity*.2),children:"1/5"}),p.jsx("button",{onClick:()=>l(e,e.quantity*.4),children:"2/5"}),p.jsx("button",{onClick:()=>l(e,e.quantity*.6),children:"3/5"}),p.jsx("button",{onClick:()=>l(e,e.quantity*.8),children:"4/5"})]})]})]}),p.jsxs("div",{className:"nutritional-facts",children:[p.jsxs("h4",{children:["Nutritional Facts",p.jsx("img",{src:"/image/nutrition-facts-icon.png",alt:"Nutrition Icon",className:"nutrition-icon"})]}),p.jsxs("p",{children:["Fat: ",e.nutritionalInfo.fat,", Protein: ",e.nutritionalInfo.protein,", Calories: ",e.nutritionalInfo.calories,"kcal, Carbohydrates: ",e.nutritionalInfo.carbohydrate]})]}),p.jsxs("div",{className:"storage-tips",children:[p.jsxs("h4",{children:["Storage Tips",p.jsx("img",{src:"/image/yellow-bulb-icon.png",alt:"Bulb Icon",className:"bulb-icon"})]}),p.jsx("p",{children:e.storageTips})]})]})]})},aN=()=>p.jsxs("div",{style:{padding:"20px"},children:[p.jsx("h1",{children:"Scan"}),p.jsx("p",{children:"This is the Scan page. You can scan QR codes or other items here."})]}),CS=w.createContext(),Dl=()=>w.useContext(CS),lN=({children:e})=>{const[t,n]=w.useState([]),[r,i]=w.useState([]),[s,o]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState([]),[d,h]=w.useState([]),[f,g]=w.useState({categories:[],tags:[],equipment:[],cookTime:null,ingredients:[]}),[y,x]=w.useState(!0),m=async()=>{x(!0);try{const{data:F,error:D}=await ne.from("recipes").select(`
          id,
          name,
          description,
          prep_time,
          cook_time,
          image_path,
          recipe_tags:recipe_tags_recipe_id_fkey ( tags (name) ),
          recipe_equipment ( equipment (name) ),
          recipe_category ( category (name) ),
          recipe_ingredients ( ingredients (name) )
        `);if(D)console.error("Error fetching recipes:",D);else{const L=F.map(C=>{var X,G,P,ee;return{...C,tags:((X=C.recipe_tags)==null?void 0:X.map(se=>se.tags.name))||[],equipment:((G=C.recipe_equipment)==null?void 0:G.map(se=>se.equipment.name))||[],categories:((P=C.recipe_category)==null?void 0:P.map(se=>se.category.name))||[],ingredients:((ee=C.recipe_ingredients)==null?void 0:ee.map(se=>se.ingredients.name))||[]}});n(L||[])}}catch(F){console.error("Unexpected error:",F)}finally{x(!1)}},v=async()=>{try{const{data:F,error:D}=await ne.from("tags").select("id, name");D?console.error("Error fetching tags:",D):i(F||[])}catch(F){console.error("Unexpected error fetching tags:",F)}},b=async()=>{try{const{data:F,error:D}=await ne.from("category").select("id, name");D?console.error("Error fetching categories:",D):o(F||[])}catch(F){console.error("Unexpected error fetching categories:",F)}},k=async()=>{try{const{data:F,error:D}=await ne.from("equipment").select("id, name");D?console.error("Error fetching equipments:",D):l(F||[])}catch(F){console.error("Unexpected error fetching equipment:",F)}},S=async()=>{try{const{data:F,error:D}=await ne.from("ingredients").select("id, name");D?console.error("Error fetching ingredients:",D):u(F||[])}catch(F){console.error("Unexpected error fetching ingredients:",F)}},_=F=>{g(D=>({...D,...F}))};w.useEffect(()=>{m(),v(),b(),k(),S(),E()},[]),w.useEffect(()=>{m()},[f]);const O=async F=>{try{const{data:D,error:L}=await ne.from("recipe_ingredients").select(`
              ingredients (
                id,
                name,
                nutritional_info,
                unit:quantity_unit_id (
                  unit_tag,
                  unit_description,
                  conversion_rate_to_grams 
                )
              ),
              quantity
            `).eq("recipe_id",F);if(L)console.error("Error fetching recipe ingredients:",L);else return D||[]}catch(D){return console.error("Unexpected error fetching recipe ingredients:",D),[]}},T=async F=>{try{const{data:D,error:L}=await ne.from("steps").select(`
                step_number,
                instruction,
                variations
            `).eq("recipe_id",F).order("step_number",{ascending:!0});if(L)console.error("Error fetching recipe steps:",L);else return D||[]}catch(D){return console.error("Unexpected error fetching recipe steps:",D),[]}},M=async F=>{try{const{data:D,error:L}=await ne.from("meal_plan").select("id, meal_type_id, recipe_id, notes, planned_date").eq("planned_date",F);if(L)return console.error("Error fetching meal plans:",L),[];const{data:C,error:X}=await ne.from("meal_type").select("id, name");if(X)return console.error("Error fetching meal types:",X),[];const G=C.reduce((ee,se)=>(ee[se.id]=se.name,ee),{});return D.map(ee=>({...ee,meal_type_name:G[ee.meal_type_id]||"Unknown"}))}catch(D){return console.error("Unexpected error fetching meal plans:",D),[]}},E=async()=>{try{const{data:F,error:D}=await ne.from("meal_type").select("id, name");D?console.error("Error fetching meal types:",D):h(F||[])}catch(F){console.error("Unexpected error fetching meal types:",F)}},I=async F=>{try{const{data:D,error:L}=await ne.from("recipes").select("id, name, image_path, description, prep_time, cook_time").in("id",F);return L?(console.error("Error fetching recipes by IDs:",L),[]):D||[]}catch(D){return console.error("Unexpected error fetching recipes by IDs:",D),[]}},A=async F=>{try{const{data:D,error:L}=await ne.from("inventory").select(`
          id,
          user_id,
          ingredient_id,
          quantity,
          expiry_date_id,
          freshness_status_id,
          quantity_unit_id,
          init_quantity,
          days_left,
          expiry_date (
            id, 
            date
          ),
          freshness_status (
            id, 
            status_color
          ),
          unit:quantity_unit_id (
            id,
            unit_tag, 
            unit_description
          ),
          ingredients (
                id,
                name,
                nutritional_info,
                unit:quantity_unit_id (
                  unit_tag,
                  unit_description,
                  conversion_rate_to_grams 
                )
              )
        `).eq("ingredient_id",F);return L?(console.error("Error fetching user inventory:",L),[]):D||[]}catch(D){return console.error("Unexpected error fetching user inventory:",D),[]}},W=async F=>{try{const{data:D,error:L}=await ne.from("inventory_meal_plan_status").select("id").eq("name",F).single();return L||!D?(console.error("Error fetching status ID:",L),null):D.id}catch(D){return console.error("Unexpected error fetching status ID:",D.message),null}},Y=async F=>{try{const{data:D,error:L}=await ne.from("inventory_meal_plan").select("inventory_id, meal_plan_id, used_quantity, status_id").eq("meal_plan_id",F);return L?(console.error("Error fetching inventory meal plan data:",L),[]):D}catch(D){return console.error("Unexpected error fetching inventory meal plan data:",D.message),[]}},U=async F=>{try{const{data:D,error:L}=await ne.from("inventory_meal_plan").select(`
          inventory_id, 
          meal_plan_id, 
          used_quantity, 
          status_id, 
          inventory_meal_plan_status (
            name,
            description
          ),
          inventory (
            ingredient_id,
            quantity,
            expiry_date:expiry_date_id(
              date
            ),
            days_left,
            freshness_status_id,
            quantity_unit_id,
            init_quantity,
            condition:condition_id (
              condition
            )
          ),
          ingredients (
            id,
            name,
            nutritional_info,
            unit:quantity_unit_id (
              unit_tag,
              unit_description,
              conversion_rate_to_grams 
            )
          )
        `).in("meal_plan_id",F);return L?(console.error("Error fetching inventory meal plan data by meal_plan_id:",L),[]):D}catch(D){return console.error("Unexpected error fetching inventory meal plan data by meal_plan_id:",D.message),[]}},j=async(F,D,L)=>{try{return await Promise.all(F.map(async C=>{var P;if(C.meal_plan_id)return C;const{data:X,error:G}=await ne.from("meal_plan").select("id").eq("planned_date",L).eq("recipe_id",((P=D.recipes[0])==null?void 0:P.recipeId)||null).limit(1).single();return G?(console.warn(`Failed to fetch meal plan for inventory ID: ${C.id}`,G),{...C,meal_plan_id:null}):{...C,meal_plan_id:(X==null?void 0:X.id)||null}}))}catch(C){return console.error("Error enriching inventory:",C.message),[]}};return p.jsx(CS.Provider,{value:{recipes:t,tags:r,categories:s,equipment:a,filters:f,ingredients:c,mealTypes:d,fetchRecipes:m,fetchTags:v,fetchCategories:b,fetchEquipment:k,fetchIngredients:S,fetchRecipeIngredients:O,fetchRecipeSteps:T,fetchMealPlansByDate:M,fetchRecipesByIds:I,fetchUserInventory:A,getStatusIdByName:W,fetchInventoryMealPlanData:Y,fetchInventoryMealPlanByMealPlanId:U,enrichInventory:j,applyFilters:_,loading:y},children:e})},cN=()=>{const e=Qt();return p.jsxs("div",{style:{padding:"20px"},children:[p.jsx("h1",{children:"Recipe Dashboard"}),p.jsx("p",{children:"Welcome to your Recipe Dashboard! Use the options below to navigate to different sections of your recipe module."}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[p.jsx("button",{onClick:()=>e("/recipes/explore"),style:{padding:"10px 20px",cursor:"pointer",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px"},children:"Explore Recipes"}),p.jsx("button",{onClick:()=>e("/recipes/favorites"),style:{padding:"10px 20px",cursor:"pointer",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px"},children:"View Favorites"}),p.jsx("button",{onClick:()=>e("/recipes/calendar"),style:{padding:"10px 20px",cursor:"pointer",backgroundColor:"#FFC107",color:"white",border:"none",borderRadius:"5px"},children:"Plan Your Meals"})]})]})},Rl=()=>{const e=Qt(),t=()=>{e(-1)};return p.jsx("button",{onClick:t,className:"back-button",children:"← Back"})},uN=()=>{const{recipes:e,filters:t,applyFilters:n,loading:r,fetchRecipes:i}=Dl(),[s,o]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState([]),[d,h]=w.useState(""),[f,g]=w.useState(!1),[y,x]=w.useState(!1),[m,v]=w.useState(""),[b,k]=w.useState([]);w.useState([]);const S=Qt(),_=async()=>{try{const[{data:j,error:F},{data:D},{data:L}]=await Promise.all([ne.from("category").select("id, name"),ne.from("tags").select("id, name"),ne.from("equipment").select("id, name")]);if(F){console.error("Error fetching categories:",F);return}o(j||[]),l(D||[]),u(L||[])}catch(j){console.error("Error fetching filter options:",j)}},O=async j=>{if(!j.trim()){k([]);return}try{const{data:F,error:D}=await ne.from("ingredients").select("name, icon_path").ilike("name",`%${j}%`);if(D){console.error("Error fetching ingredients:",D);return}console.log("Matching Ingredients:",F),k(F||[])}catch(F){console.error("Unexpected error:",F)}};w.useEffect(()=>{i(),_()},[]),w.useEffect(()=>{i()},[t]);const T=e.filter(j=>{var P;const F=(P=j.name)==null?void 0:P.toLowerCase().includes(d.toLowerCase()),D=t.categories.length?t.categories.some(ee=>(j.categories||[]).includes(ee)):!0,L=t.tags.length?t.tags.some(ee=>(j.tags||[]).includes(ee)):!0,C=t.equipment.length?t.equipment.some(ee=>(j.equipment||[]).includes(ee)):!0,X=t.cookTime?j.cook_time<=t.cookTime:!0,G=t.ingredients.length?t.ingredients.every(ee=>(j.ingredients||[]).some(se=>se.toLowerCase()===ee.toLowerCase())):!0;return F&&D&&L&&C&&X&&G}),M=j=>{t.ingredients.includes(j.name)||(n({ingredients:[...t.ingredients,j.name]}),k(F=>({...F,[j.name]:j.icon_path})))},E=j=>{n({ingredients:t.ingredients.filter(F=>F!==j)})},I=()=>{g(!1)},A=()=>t.categories.length===s.length&&t.tags.length===a.length&&t.equipment.length===c.length,W=()=>t.categories.length>0||t.tags.length>0||t.equipment.length>0,Y=()=>{n({categories:s.map(j=>j.name),tags:a.map(j=>j.name),equipment:c.map(j=>j.name)})},U=()=>{n({categories:[],tags:[],equipment:[]})};return p.jsxs("div",{style:{padding:"20px"},children:[p.jsx(Rl,{}),p.jsx("h1",{children:"Explore Recipes"}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[p.jsx("input",{type:"text",placeholder:"Search recipes...",value:d,onChange:j=>h(j.target.value),style:{padding:"10px",flex:1,border:"1px solid #ccc",borderRadius:"5px"}}),p.jsx("button",{onClick:()=>g(!0),style:{padding:"10px",background:"#000",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Filters"})]}),p.jsx("div",{children:T.length>0?T.map(j=>p.jsxs("div",{onClick:()=>S(`/recipes/recipe/${j.id}`),style:{padding:"10px",border:"1px solid #ddd",marginBottom:"10px",borderRadius:"5px",display:"flex",flexDirection:"column",cursor:"pointer"},children:[p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${j.image_path}`,alt:j.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"5px",marginBottom:"10px"}}),p.jsxs("div",{children:[p.jsx("h3",{children:j.name}),p.jsx("p",{children:j.description}),p.jsxs("p",{children:["Prep Time: ",j.prep_time," mins"]}),p.jsxs("p",{children:["Cook Time: ",j.cook_time," mins"]}),(j.tags||[]).length>0&&p.jsxs("div",{style:{marginTop:"10px"},children:[p.jsx("strong",{children:"Tags:"})," ",j.tags.map((F,D)=>p.jsx("span",{style:{background:"#ffcc00",color:"#000",padding:"5px 10px",marginRight:"5px",borderRadius:"5px",fontSize:"12px"},children:F},D))]}),(j.equipment||[]).length>0&&p.jsxs("div",{style:{marginTop:"10px"},children:[p.jsx("strong",{children:"Equipment:"})," ",j.equipment.map((F,D)=>p.jsx("span",{style:{background:"#000000",padding:"5px 10px",marginRight:"5px",borderRadius:"3px",fontSize:"12px"},children:F},D))]})]})]},j.id)):p.jsx("p",{children:"No recipes found."})}),f&&p.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",flexDirection:"column",zIndex:1e3},children:[p.jsx("button",{onClick:()=>g(!1),style:{position:"absolute",top:"10px",right:"10px",background:"red",color:"#fff",border:"none",borderRadius:"50%",width:"30px",height:"30px",cursor:"pointer"},children:"X"}),p.jsx("h2",{style:{padding:"20px"},children:"Filter Options"}),p.jsxs("div",{style:{marginBottom:"20px"},children:[!W()&&p.jsx("button",{onClick:Y,style:{width:"100%",padding:"10px",background:"#007BFF",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Select All"}),W()&&!A()&&p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:U,style:{flex:1,padding:"10px",background:"#FF4136",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Clear"}),p.jsx("button",{onClick:Y,style:{flex:1,padding:"10px",background:"#007BFF",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Select All"})]}),A()&&p.jsx("button",{onClick:U,style:{width:"100%",padding:"10px",background:"#FF4136",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Deselect All"})]}),p.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:[p.jsx("button",{onClick:()=>x(!0),style:{padding:"10px",background:"#00aaff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"+ Search Recipe by Ingredient"}),p.jsxs("div",{style:{padding:"20px"},children:[p.jsx("h3",{children:"Selected Ingredients:"}),p.jsx("div",{children:t.ingredients.length>0?t.ingredients.map((j,F)=>p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[p.jsx("span",{children:j}),p.jsx("button",{onClick:()=>E(j),style:{marginLeft:"10px",background:"red",color:"white",border:"none",borderRadius:"5px",padding:"5px",cursor:"pointer"},children:"X"})]},F)):p.jsx("p",{children:"No ingredients selected."})})]}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("h3",{children:"Category"}),s.map(j=>p.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[p.jsx("input",{type:"checkbox",checked:t.categories.includes(j.name),onChange:F=>{const D=F.target.checked;n({...t,categories:D?[...t.categories,j.name]:t.categories.filter(L=>L!==j.name)})}}),j.name]},j.id))]}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("h3",{children:"Tags"}),a.map(j=>p.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[p.jsx("input",{type:"checkbox",checked:t.tags.includes(j.name),onChange:F=>{const D=F.target.checked;n({...t,tags:D?[...t.tags,j.name]:t.tags.filter(L=>L!==j.name)})}})," ",j.name]},j.id))]}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("h3",{children:"Equipment"}),c.map(j=>p.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[p.jsx("input",{type:"checkbox",checked:t.equipment.includes(j.name),onChange:F=>{const D=F.target.checked;n({...t,equipment:D?[...t.equipment,j.name]:t.equipment.filter(L=>L!==j.name)})}})," ",j.name]},j.id))]}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("h3",{children:"Cooking Time"}),p.jsxs("select",{value:t.cookTime||"",onChange:j=>n({...t,cookTime:j.target.value?Number(j.target.value):null}),style:{padding:"10px",borderRadius:"5px",width:"100%"},children:[p.jsx("option",{value:"",children:"Any"}),p.jsx("option",{value:"15",children:"Less than 15 mins"}),p.jsx("option",{value:"30",children:"Less than 30 mins"}),p.jsx("option",{value:"60",children:"Less than 60 mins"})]})]}),p.jsx("button",{onClick:I,style:{padding:"10px 20px",background:"#00aaff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",width:"100%"},children:"Apply Filters"})]})]}),y&&p.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",flexDirection:"column",zIndex:1e3},children:[p.jsx("button",{onClick:()=>x(!1),style:{position:"absolute",top:"10px",right:"10px",background:"red",color:"#fff",border:"none",borderRadius:"50%",width:"30px",height:"30px",cursor:"pointer"},children:"X"}),p.jsx("h2",{style:{padding:"20px"},children:"Search Ingredients"}),p.jsx("div",{style:{padding:"0 20px",marginBottom:"10px"},children:p.jsx("input",{type:"text",placeholder:"Type an ingredient...",value:m,onChange:j=>{v(j.target.value),O(j.target.value)},style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd"}})}),p.jsx("div",{style:{flex:1,padding:"0 20px",overflowY:"auto"},children:b.length>0?b.map((j,F)=>p.jsxs("div",{onClick:()=>{M(j),console.log("Ingredient added:",j.name),v(""),k([])},style:{display:"flex",alignItems:"center",padding:"10px",marginBottom:"5px",border:"1px solid #ddd",borderRadius:"5px",background:"#444",cursor:"pointer"},children:[p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${j.icon_path}`,alt:j.name,style:{width:"30px",height:"30px",marginRight:"10px",borderRadius:"50%",objectFit:"cover",background:"#fff"}}),p.jsx("span",{children:j.name})]},F)):p.jsx("p",{children:"No matching ingredients found."})}),p.jsxs("div",{style:{padding:"20px",background:"#333",borderTop:"1px solid #555"},children:[p.jsx("h3",{children:"Selected Ingredients:"}),t.ingredients.length>0?t.ingredients.map((j,F)=>p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"5px 10px",border:"1px solid #666",borderRadius:"5px",marginBottom:"5px",background:"#555"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[j.icon_path&&p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${j.icon_path}`,alt:j.name,style:{width:"30px",height:"30px",marginRight:"10px",borderRadius:"50%",objectFit:"cover",background:"#fff"}}),p.jsx("span",{children:j}),p.jsx("span",{children:j.icon_path})]}),p.jsx("button",{onClick:()=>E(j),style:{background:"red",color:"#fff",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer"},children:"X"})]},F)):p.jsx("p",{children:"No ingredients selected."})]}),p.jsx("button",{onClick:()=>{x(!1)},style:{padding:"10px 20px",background:"#00aaff",color:"#fff",border:"none",borderRadius:"5px",margin:"20px",cursor:"pointer"},children:"Find Recipes"})]})]})},dN=()=>{var oe,ct,et,Pt,ge,tt,Te,It,Sn;const{recipes:e,fetchRecipeIngredients:t,fetchRecipeSteps:n,mealTypes:r}=Dl(),{id:i}=hm(),s=Qt(),[o,a]=w.useState(null),[l,c]=w.useState([]),[u,d]=w.useState([]),[h,f]=w.useState(!0),[g,y]=w.useState(!1),[x,m]=w.useState(!1),[v,b]=w.useState(0),[k,S]=w.useState(null),[_,O]=w.useState([]),[T,M]=w.useState(2),[E,I]=w.useState(1),[A,W]=w.useState({calories:0,protein:0,carbohydrate:0,fat:0}),[Y,U]=w.useState(0),F=nr().state;w.useEffect(()=>{const Z=e.find(ie=>ie.id===parseInt(i));Z?(a(Z),t(Z.id).then(ie=>{c(ie),D(ie)}),n(Z.id).then(d)):a(null),f(!1)},[i,e,t,n]);const D=Z=>{let ie={calories:0,protein:0,carbohydrate:0,fat:0},ot=0;Z.forEach(wt=>{const{nutritional_info:Cn,unit:z}=wt.ingredients,{quantity:R}=wt;console.log("nutritional_info:",Cn),console.log("quantity:",R),console.log("unit:",z);let{calories:N,protein:$,carbohydrate:B,fat:H}=Cn;console.log("calories:",N),console.log("protein (raw):",$),console.log("carbohydrate (raw):",B),console.log("fat (raw):",H),$=typeof $=="string"?parseFloat($.replace("g",""))||0:$||0,B=typeof B=="string"?parseFloat(B.replace("g",""))||0:B||0,H=typeof H=="string"?parseFloat(H.replace("g",""))||0:H||0,console.log("protein (parsed):",$),console.log("carbohydrate (parsed):",B),console.log("fat (parsed):",H);const Q=z.conversion_rate_to_grams;console.log("conversionRate:",Q);let ae=R;if(Q&&Q>0)ae*=Q;else{console.warn(`Unit ${z.unit_tag} does not have a valid conversion rate.`);return}ot+=ae;const ce=ae/100;ie.calories+=N*ce,ie.protein+=$*ce,ie.carbohydrate+=B*ce,ie.fat+=H*ce}),U(ot);const Ht={calories:(ie.calories/(ot/100)).toFixed(2),protein:(ie.protein/(ot/100)).toFixed(2),carbohydrate:(ie.carbohydrate/(ot/100)).toFixed(2),fat:(ie.fat/(ot/100)).toFixed(2)};console.log(`Total Weight of Recipe: ${ot.toFixed(2)}g`),console.log("Total Nutrition:",ie),console.log("Per 100g Nutrition:",Ht),W({total:{calories:ie.calories.toFixed(2),protein:ie.protein.toFixed(2),carbohydrate:ie.carbohydrate.toFixed(2),fat:ie.fat.toFixed(2)},per100g:Ht})},L=async()=>{try{const{data:Z}=await ne.from("favorites").select("*").eq("recipe_id",i).single();Z?(await ne.from("favorites").delete().eq("recipe_id",i),y(!1)):(await ne.from("favorites").insert({recipe_id:i,user_id:"7863d141-7c8f-4779-9ac8-2b45e9a9d752"}),y(!0))}catch(Z){console.error("Error toggling favorite:",Z)}},C=()=>{if(x)S(v);else if(k!==null){const Z=window.confirm("Would you like to continue from your last step or start over?");b(Z?k:0)}else b(0);m(Z=>!Z)},X=()=>{if(v<u.length-1){const Z=v+1;b(Z),console.log(`Now on Step ${Z+1}: ${u[Z].instruction}`)}},G=()=>{if(v>0){const Z=v-1;b(Z),console.log(`Now on Step ${Z+1}: ${u[Z].instruction}`)}},P=()=>{alert("Congratulations! You have finished cooking this recipe."),m(!1),S(null)},ee=()=>{navigator.clipboard.writeText(window.location.href),alert("Recipe link copied to clipboard!")};if(!o)return p.jsx("div",{children:"Recipe not found!"});const se=()=>M(Z=>Z+1),te=()=>{T>1&&M(Z=>Z-1)},ze=()=>{const Z=T/E;return console.log("Test ingredients:",l),l.map(ie=>({...ie,quantity:(ie.quantity*Z).toFixed(2)}))};if(h)return p.jsx("div",{children:"Loading recipe details..."});if(!o)return p.jsx("div",{children:"Recipe not found!"});const je=async()=>{if(!F)return;const{planned_date:Z,meal_type_id:ie,recipe_id:ot}=F;if(window.confirm("Are you sure you want to cancel this scheduled recipe?"))try{const{error:wt}=await ne.from("meal_plan").delete().eq("planned_date",Z).eq("meal_type_id",ie).eq("recipe_id",ot);if(wt){console.error("Error canceling schedule:",wt.message);return}alert("Schedule canceled successfully."),s(-1)}catch(wt){console.error("Unexpected error:",wt.message)}},Se=r.reduce((Z,ie)=>(Z[ie.id]=ie.name,Z),{});return p.jsxs("div",{style:{padding:"20px"},children:[p.jsx(Rl,{}),p.jsx("h1",{children:o.name}),p.jsx("button",{onClick:L,children:g?"Remove from Favorites":"Save to Favorites"}),p.jsx("button",{onClick:ee,children:"Share Recipe"}),p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${o.image_path}`,alt:o.name,style:{width:"300px",borderRadius:"10px",marginBottom:"20px"}}),p.jsx("p",{children:o.description}),p.jsxs("p",{children:["Prep Time: ",o.prep_time," mins"]}),p.jsxs("p",{children:["Cook Time: ",o.cook_time," mins"]}),p.jsxs("div",{children:[p.jsx("h4",{children:"Total Meal Weight"}),p.jsxs("p",{children:[(Y*(T/E)).toFixed(2)," g"]})]}),p.jsx("h3",{children:"Nutrition Facts"}),p.jsxs("div",{children:[p.jsx("h4",{children:"Total Nutrition (for the entire recipe)"}),p.jsxs("ul",{children:[p.jsxs("li",{children:["Calories: ",((oe=A.total)==null?void 0:oe.calories)||0," kcal"]}),p.jsxs("li",{children:["Protein: ",((ct=A.total)==null?void 0:ct.protein)||0," g"]}),p.jsxs("li",{children:["Carbohydrate: ",((et=A.total)==null?void 0:et.carbohydrate)||0," g"]}),p.jsxs("li",{children:["Fats: ",((Pt=A.total)==null?void 0:Pt.fat)||0," g"]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{children:"Per 100g Nutrition"}),p.jsxs("ul",{children:[p.jsxs("li",{children:["Calories: ",((ge=A.per100g)==null?void 0:ge.calories)||0," kcal"]}),p.jsxs("li",{children:["Protein: ",((tt=A.per100g)==null?void 0:tt.protein)||0," g"]}),p.jsxs("li",{children:["Carbohydrate: ",((Te=A.per100g)==null?void 0:Te.carbohydrate)||0," g"]}),p.jsxs("li",{children:["Fats: ",((It=A.per100g)==null?void 0:It.fat)||0," g"]})]})]}),p.jsx("p",{children:"Note: Future versions will link to the database and calculate these values dynamically."}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("button",{onClick:te,style:{padding:"5px 10px",border:"1px solid #ccc",background:"#f5f5f5",cursor:"pointer"},children:"-"}),p.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:T}),p.jsx("button",{onClick:se,style:{padding:"5px 10px",border:"1px solid #ccc",background:"#f5f5f5",cursor:"pointer"},children:"+"})]}),p.jsx("h3",{children:"Ingredients"}),p.jsx("ul",{children:ze().map(Z=>{var ie;return p.jsxs("li",{children:[Z.ingredients.name," - ",Z.quantity," ",((ie=Z.ingredients.unit)==null?void 0:ie.unit_tag)||""]},Z.ingredients.id)})}),p.jsx("h3",{children:"Steps"}),p.jsx("ul",{children:u.map(Z=>p.jsxs("li",{children:[p.jsxs("strong",{children:["Step ",Z.step_number,":"]})," ",Z.instruction]},Z.step_number))}),x&&p.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",color:"#fff",zIndex:1e3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[p.jsxs("h2",{children:["Step ",v+1]}),p.jsx("p",{children:(Sn=u[v])==null?void 0:Sn.instruction}),p.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:G,style:{padding:"10px 20px",background:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",visibility:v===0?"hidden":"visible"},children:"Previous"}),p.jsx("button",{onClick:X,style:{padding:"10px 20px",background:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",visibility:v===u.length-1?"hidden":"visible"},children:"Next"}),v===u.length-1&&p.jsx("button",{onClick:P,style:{padding:"10px 20px",background:"green",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Finish Cooking"}),p.jsx("button",{onClick:C,style:{padding:"10px 20px",background:"red",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Exit Cooking Mode"})]})]}),F?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:je,style:{padding:"12px 20px",background:"#ff4d4d",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"20px",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background 0.3s ease"},onMouseEnter:Z=>Z.target.style.background="#e63939",onMouseLeave:Z=>Z.target.style.background="#ff4d4d",children:[p.jsx("span",{style:{fontSize:"20px",fontWeight:"bold"},children:"✖"}),"Cancel Schedule for"," ",new Date(F.planned_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," ","(",Se[F.meal_type_id]||"Unknown",")"]}),p.jsx("button",{onClick:()=>s("/recipes/calendar",{state:{recipeId:i,recipeName:o.name}}),style:{padding:"10px 20px",background:"orange",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px"},children:"Reschedule Another Meal"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:C,style:{padding:"10px 20px",background:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px"},children:"Start Cooking Mode"}),p.jsx("button",{onClick:()=>s("/recipes/calendar",{state:{recipeId:i,recipeName:o.name}}),style:{padding:"10px 20px",background:"orange",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px"},children:"Reschedule"})]}),p.jsx("h3",{children:"Related Recipes"}),p.jsx("ul",{children:_.map(Z=>p.jsxs("li",{onClick:()=>s(`/recipes/recipe/${Z.id}`),children:[p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${Z.image_path}`,alt:Z.name,style:{width:"100px",borderRadius:"10px"}}),Z.name]},Z.id))})]})};function ES(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ES(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fd(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ES(e))&&(r&&(r+=" "),r+=t);return r}const hN=(e,t,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(e,n),s=Object.getOwnPropertyDescriptor(t,n);!fN(i,s)&&r||Object.defineProperty(e,n,s)},fN=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},pN=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},gN=(e,t)=>`/* Wrapped ${e}*/
${t}`,mN=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),yN=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),vN=(e,t,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=gN.bind(null,r,t.toString());Object.defineProperty(i,"name",yN),Object.defineProperty(e,"toString",{...mN,value:i})},xN=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const i of Reflect.ownKeys(t))hN(e,t,i,n);return pN(e,t),vN(e,t,r),e};var bN=xN,Fp={exports:{}},wN=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};(function(e,t){var n=Ct&&Ct.__awaiter||function(o,a,l,c){return new(l||(l=Promise))(function(u,d){function h(y){try{g(c.next(y))}catch(x){d(x)}}function f(y){try{g(c.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):new l(function(x){x(y.value)}).then(h,f)}g((c=c.apply(o,a||[])).next())})},r=Ct&&Ct.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(wN);function s(o,a="maxAge"){let l,c,u;const d=()=>n(this,void 0,void 0,function*(){if(l!==void 0)return;const g=y=>n(this,void 0,void 0,function*(){u=i.default();const x=y[1][a]-Date.now();if(x<=0){o.delete(y[0]),u.resolve();return}return l=y[0],c=setTimeout(()=>{o.delete(y[0]),u&&u.resolve()},x),typeof c.unref=="function"&&c.unref(),u.promise});try{for(const y of o)yield g(y)}catch{}l=void 0}),h=()=>{l=void 0,c!==void 0&&(clearTimeout(c),c=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},f=o.set.bind(o);return o.set=(g,y)=>{o.has(g)&&o.delete(g);const x=f(g,y);return l&&l===g&&h(),d(),x},d(),o}t.default=s,e.exports=s,e.exports.default=s})(Fp,Fp.exports);var _N=Fp.exports;const kN=bN,SN=_N,Gh=new WeakMap,OS=new WeakMap,Yu=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&SN(n);const i=function(...s){const o=t?t(s):s[0],a=n.get(o);if(a)return a.data;const l=e.apply(this,s);return n.set(o,{data:l,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),l};return kN(i,e,{ignoreNonConfigurable:!0}),OS.set(i,n),i};Yu.decorator=(e={})=>(t,n,r)=>{const i=t[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!Gh.has(this)){const s=Yu(i,e);return Gh.set(this,s),s}return Gh.get(this)}};Yu.clear=e=>{const t=OS.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if(typeof t.clear!="function")throw new TypeError("The cache Map can't be cleared!");t.clear()};var CN=Yu;const PS=sd(CN);function EN(e){return typeof e=="string"}function ON(e,t,n){return n.indexOf(e)===t}function PN(e){return e.toLowerCase()===e}function Ax(e){return e.indexOf(",")===-1?e:e.split(",")}function zp(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return zp(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return zp(n)}if(e.indexOf("-")===-1||!PN(e))return e;var i=e.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function TN(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,i=t.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],c=0,u=a;c<u.length;c++){var d=u[c];l=l.concat(Ax(d))}var h=navigator.language,f=h&&Ax(h);o=o.concat(l,f)}return r&&o.push(s),o.filter(EN).map(zp).filter(ON)}var DN=PS(TN,{cacheKey:JSON.stringify});function RN(e){return DN(e)[0]||null}var TS=PS(RN,{cacheKey:JSON.stringify});function Br(e,t,n){return function(i,s){s===void 0&&(s=n);var o=e(i)+s;return t(o)}}function jl(e){return function(n){return new Date(e(n).getTime()-1)}}function Ml(e,t){return function(r){return[e(r),t(r)]}}function Ke(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Di(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function zd(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Oo(e){var t=Ke(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var jN=Br(Ke,Oo,-100),DS=Br(Ke,Oo,100),$m=jl(DS),MN=Br(Ke,$m,-100),RS=Ml(Oo,$m);function Ri(e){var t=Ke(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var jS=Br(Ke,Ri,-10),Bm=Br(Ke,Ri,10),$d=jl(Bm),MS=Br(Ke,$d,-10),IS=Ml(Ri,$d);function Po(e){var t=Ke(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var AS=Br(Ke,Po,-1),Um=Br(Ke,Po,1),Bd=jl(Um),LS=Br(Ke,Bd,-1),IN=Ml(Po,Bd);function Wm(e,t){return function(r,i){i===void 0&&(i=t);var s=Ke(r),o=Di(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),e(a)}}function vs(e){var t=Ke(e),n=Di(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var NS=Wm(vs,-1),Hm=Wm(vs,1),Il=jl(Hm),FS=Wm(Il,-1),AN=Ml(vs,Il);function LN(e,t){return function(r,i){i===void 0&&(i=t);var s=Ke(r),o=Di(r),a=zd(r)+i,l=new Date;return l.setFullYear(s,o,a),l.setHours(0,0,0,0),e(l)}}function Al(e){var t=Ke(e),n=Di(e),r=zd(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}var NN=LN(Al,1),Vm=jl(NN),FN=Ml(Al,Vm);function zS(e){return zd(Il(e))}var Rt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},zN={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},qm=[0,1,2,3,4,5,6],Kh=new Map;function $N(e){return function(n,r){var i=n||TS();Kh.has(i)||Kh.set(i,new Map);var s=Kh.get(i);return s.has(e)||s.set(e,new Intl.DateTimeFormat(i||void 0,e).format),s.get(e)(r)}}function BN(e){var t=new Date(e);return new Date(t.setHours(12))}function xs(e){return function(t,n){return $N(e)(t,BN(n))}}var UN={day:"numeric"},WN={day:"numeric",month:"long",year:"numeric"},HN={month:"long"},VN={month:"long",year:"numeric"},qN={weekday:"short"},YN={weekday:"long"},GN={year:"numeric"},KN=xs(UN),QN=xs(WN),XN=xs(HN),$S=xs(VN),JN=xs(qN),ZN=xs(YN),Ud=xs(GN),e3=qm[0],t3=qm[5],Lx=qm[6];function ll(e,t){t===void 0&&(t=Rt.ISO_8601);var n=e.getDay();switch(t){case Rt.ISO_8601:return(n+6)%7;case Rt.ISLAMIC:return(n+1)%7;case Rt.HEBREW:case Rt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function n3(e){var t=Oo(e);return Ke(t)}function r3(e){var t=Ri(e);return Ke(t)}function $p(e,t){t===void 0&&(t=Rt.ISO_8601);var n=Ke(e),r=Di(e),i=e.getDate()-ll(e,t);return new Date(n,r,i)}function i3(e,t){t===void 0&&(t=Rt.ISO_8601);var n=t===Rt.GREGORY?Rt.GREGORY:Rt.ISO_8601,r=$p(e,t),i=Ke(e)+1,s,o;do s=new Date(i,0,n===Rt.ISO_8601?4:1),o=$p(s,t),i-=1;while(e<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function rs(e,t){switch(e){case"century":return Oo(t);case"decade":return Ri(t);case"year":return Po(t);case"month":return vs(t);case"day":return Al(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function s3(e,t){switch(e){case"century":return jN(t);case"decade":return jS(t);case"year":return AS(t);case"month":return NS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function BS(e,t){switch(e){case"century":return DS(t);case"decade":return Bm(t);case"year":return Um(t);case"month":return Hm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function o3(e,t){switch(e){case"decade":return jS(t,-100);case"year":return AS(t,-10);case"month":return NS(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function a3(e,t){switch(e){case"decade":return Bm(t,100);case"year":return Um(t,10);case"month":return Hm(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function US(e,t){switch(e){case"century":return $m(t);case"decade":return $d(t);case"year":return Bd(t);case"month":return Il(t);case"day":return Vm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function l3(e,t){switch(e){case"century":return MN(t);case"decade":return MS(t);case"year":return LS(t);case"month":return FS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function c3(e,t){switch(e){case"decade":return MS(t,-100);case"year":return LS(t,-10);case"month":return FS(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Nx(e,t){switch(e){case"century":return RS(t);case"decade":return IS(t);case"year":return IN(t);case"month":return AN(t);case"day":return FN(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function u3(e,t,n){var r=[t,n].sort(function(i,s){return i.getTime()-s.getTime()});return[rs(e,r[0]),US(e,r[1])]}function WS(e,t,n){return n.map(function(r){return(t||Ud)(e,r)}).join(" – ")}function d3(e,t,n){return WS(e,t,RS(n))}function HS(e,t,n){return WS(e,t,IS(n))}function h3(e){return e.getDay()===new Date().getDay()}function VS(e,t){t===void 0&&(t=Rt.ISO_8601);var n=e.getDay();switch(t){case Rt.ISLAMIC:case Rt.HEBREW:return n===t3||n===Lx;case Rt.ISO_8601:case Rt.GREGORY:return n===Lx||n===e3;default:throw new Error("Unsupported calendar type.")}}var or="react-calendar__navigation";function f3(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=r===void 0?$S:r,s=e.formatYear,o=s===void 0?Ud:s,a=e.locale,l=e.maxDate,c=e.minDate,u=e.navigationAriaLabel,d=u===void 0?"":u,h=e.navigationAriaLive,f=e.navigationLabel,g=e.next2AriaLabel,y=g===void 0?"":g,x=e.next2Label,m=x===void 0?"»":x,v=e.nextAriaLabel,b=v===void 0?"":v,k=e.nextLabel,S=k===void 0?"›":k,_=e.prev2AriaLabel,O=_===void 0?"":_,T=e.prev2Label,M=T===void 0?"«":T,E=e.prevAriaLabel,I=E===void 0?"":E,A=e.prevLabel,W=A===void 0?"‹":A,Y=e.setActiveStartDate,U=e.showDoubleView,j=e.view,F=e.views,D=F.indexOf(j)>0,L=j!=="century",C=s3(j,t),X=L?o3(j,t):void 0,G=BS(j,t),P=L?a3(j,t):void 0,ee=function(){if(C.getFullYear()<0)return!0;var ge=l3(j,t);return c&&c>=ge}(),se=L&&function(){if(X.getFullYear()<0)return!0;var ge=c3(j,t);return c&&c>=ge}(),te=l&&l<G,ze=L&&l&&l<P;function je(){Y(C,"prev")}function Se(){Y(X,"prev2")}function oe(){Y(G,"next")}function ct(){Y(P,"next2")}function et(ge){var tt=function(){switch(j){case"century":return d3(a,o,ge);case"decade":return HS(a,o,ge);case"year":return o(a,ge);case"month":return i(a,ge);default:throw new Error("Invalid view: ".concat(j,"."))}}();return f?f({date:ge,label:tt,locale:a||TS()||void 0,view:j}):tt}function Pt(){var ge="".concat(or,"__label");return p.jsxs("button",{"aria-label":d,"aria-live":h,className:ge,disabled:!D,onClick:n,style:{flexGrow:1},type:"button",children:[p.jsx("span",{className:"".concat(ge,"__labelText ").concat(ge,"__labelText--from"),children:et(t)}),U?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"".concat(ge,"__divider"),children:" – "}),p.jsx("span",{className:"".concat(ge,"__labelText ").concat(ge,"__labelText--to"),children:et(G)})]}):null]})}return p.jsxs("div",{className:or,children:[M!==null&&L?p.jsx("button",{"aria-label":O,className:"".concat(or,"__arrow ").concat(or,"__prev2-button"),disabled:se,onClick:Se,type:"button",children:M}):null,W!==null&&p.jsx("button",{"aria-label":I,className:"".concat(or,"__arrow ").concat(or,"__prev-button"),disabled:ee,onClick:je,type:"button",children:W}),Pt(),S!==null&&p.jsx("button",{"aria-label":b,className:"".concat(or,"__arrow ").concat(or,"__next-button"),disabled:te,onClick:oe,type:"button",children:S}),m!==null&&L?p.jsx("button",{"aria-label":y,className:"".concat(or,"__arrow ").concat(or,"__next2-button"),disabled:ze,onClick:ct,type:"button",children:m}):null]})}var qs=function(){return qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qs.apply(this,arguments)},p3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Fx(e){return"".concat(e,"%")}function Ym(e){var t=e.children,n=e.className,r=e.count,i=e.direction,s=e.offset,o=e.style,a=e.wrap,l=p3(e,["children","className","count","direction","offset","style","wrap"]);return p.jsx("div",qs({className:n,style:qs({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},l,{children:w.Children.map(t,function(c,u){var d=s&&u===0?Fx(100*s/r):null;return w.cloneElement(c,qs(qs({},c.props),{style:{flexBasis:Fx(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function g3(e,t,n){return t&&t>e?t:n&&n<e?n:e}function cl(e,t){return t[0]<=e&&t[1]>=e}function m3(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function qS(e,t){return cl(e[0],t)||cl(e[1],t)}function zx(e,t,n){var r=qS(t,e),i=[];if(r){i.push(n);var s=cl(e[0],t),o=cl(e[1],t);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function y3(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function v3(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var f=e.dateType;if(!f)throw new Error("dateType is required when date is not an array of two dates");return Nx(f,n)}();if(cl(o,a)&&s.push("".concat(i,"--now")),!t||!y3(t))return s;var l=function(){if(Array.isArray(t))return t;var f=e.valueType;if(!f)throw new Error("valueType is required when value is not an array of two dates");return Nx(f,t)}();m3(l,a)?s.push("".concat(i,"--active")):qS(l,a)&&s.push("".concat(i,"--hasActive"));var c=zx(l,a,"".concat(i,"--range"));s.push.apply(s,c);var u=Array.isArray(t)?t:[t];if(r&&u.length===1){var d=r>l[0]?[l[0],r]:[r,l[0]],h=zx(d,a,"".concat(i,"--hover"));s.push.apply(s,h)}return s}function Wd(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,i=e.dateTransform,s=e.dateType,o=e.end,a=e.hover,l=e.offset,c=e.renderTile,u=e.start,d=e.step,h=d===void 0?1:d,f=e.value,g=e.valueType,y=[],x=u;x<=o;x+=h){var m=i(x);y.push(c({classes:v3({date:m,dateType:s,hover:a,value:f,valueType:g}),date:m}))}return p.jsx(Ym,{className:t,count:r,offset:l,wrap:!0,children:y})}function Hd(e){var t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,s=e.formatAbbr,o=e.locale,a=e.maxDate,l=e.maxDateTransform,c=e.minDate,u=e.minDateTransform,d=e.onClick,h=e.onMouseOver,f=e.style,g=e.tileClassName,y=e.tileContent,x=e.tileDisabled,m=e.view,v=w.useMemo(function(){var k={activeStartDate:t,date:i,view:m};return typeof g=="function"?g(k):g},[t,i,g,m]),b=w.useMemo(function(){var k={activeStartDate:t,date:i,view:m};return typeof y=="function"?y(k):y},[t,i,y,m]);return p.jsxs("button",{className:Fd(r,v),disabled:c&&u(c)>i||a&&l(a)<i||(x==null?void 0:x({activeStartDate:t,date:i,view:m})),onClick:d?function(k){return d(i,k)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:f,type:"button",children:[s?p.jsx("abbr",{"aria-label":s(o,i),children:n}):n,b]})}var Bp=function(){return Bp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bp.apply(this,arguments)},x3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},$x="react-calendar__century-view__decades__decade";function b3(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,i=e.formatYear,s=i===void 0?Ud:i,o=x3(e,["classes","currentCentury","formatYear"]),a=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),c.push($x),Oo(a).getFullYear()!==r&&c.push("".concat($x,"--neighboringCentury")),p.jsx(Hd,Bp({},o,{classes:c,maxDateTransform:$d,minDateTransform:Ri,view:"century",children:HS(l,s,a)}))}var Up=function(){return Up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Up.apply(this,arguments)},Bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function w3(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,s=e.valueType,o=Bx(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=n3(t),l=a+(r?119:99);return p.jsx(Wd,{className:"react-calendar__century-view__decades",dateTransform:Ri,dateType:"decade",end:l,hover:n,renderTile:function(c){var u=c.date,d=Bx(c,["date"]);return p.jsx(b3,Up({},o,d,{activeStartDate:t,currentCentury:a,date:u}),u.getTime())},start:a,step:10,value:i,valueType:s})}var Wp=function(){return Wp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Wp.apply(this,arguments)};function _3(e){function t(){return p.jsx(w3,Wp({},e))}return p.jsx("div",{className:"react-calendar__century-view",children:t()})}var Hp=function(){return Hp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Hp.apply(this,arguments)},k3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Ux="react-calendar__decade-view__years__year";function S3(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,i=e.formatYear,s=i===void 0?Ud:i,o=k3(e,["classes","currentDecade","formatYear"]),a=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),c.push(Ux),Ri(a).getFullYear()!==r&&c.push("".concat(Ux,"--neighboringDecade")),p.jsx(Hd,Hp({},o,{classes:c,maxDateTransform:Bd,minDateTransform:Po,view:"decade",children:s(l,a)}))}var Vp=function(){return Vp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vp.apply(this,arguments)},Wx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function C3(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,s=e.valueType,o=Wx(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=r3(t),l=a+(r?11:9);return p.jsx(Wd,{className:"react-calendar__decade-view__years",dateTransform:Po,dateType:"year",end:l,hover:n,renderTile:function(c){var u=c.date,d=Wx(c,["date"]);return p.jsx(S3,Vp({},o,d,{activeStartDate:t,currentDecade:a,date:u}),u.getTime())},start:a,value:i,valueType:s})}var qp=function(){return qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qp.apply(this,arguments)};function E3(e){function t(){return p.jsx(C3,qp({},e))}return p.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Yp=function(){return Yp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yp.apply(this,arguments)},O3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Hx=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},P3="react-calendar__year-view__months__month";function T3(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,i=r===void 0?XN:r,s=e.formatMonthYear,o=s===void 0?$S:s,a=O3(e,["classes","formatMonth","formatMonthYear"]),l=a.date,c=a.locale;return p.jsx(Hd,Yp({},a,{classes:Hx(Hx([],n,!0),[P3],!1),formatAbbr:o,maxDateTransform:Il,minDateTransform:vs,view:"year",children:i(c,l)}))}var Gp=function(){return Gp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gp.apply(this,arguments)},Vx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function D3(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,s=Vx(e,["activeStartDate","hover","value","valueType"]),o=0,a=11,l=Ke(t);return p.jsx(Wd,{className:"react-calendar__year-view__months",dateTransform:function(c){var u=new Date;return u.setFullYear(l,c,1),vs(u)},dateType:"month",end:a,hover:n,renderTile:function(c){var u=c.date,d=Vx(c,["date"]);return p.jsx(T3,Gp({},s,d,{activeStartDate:t,date:u}),u.getTime())},start:o,value:r,valueType:i})}var Kp=function(){return Kp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kp.apply(this,arguments)};function R3(e){function t(){return p.jsx(D3,Kp({},e))}return p.jsx("div",{className:"react-calendar__year-view",children:t()})}var Qp=function(){return Qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qp.apply(this,arguments)},j3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Qh="react-calendar__month-view__days__day";function M3(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,i=e.currentMonthIndex,s=e.formatDay,o=s===void 0?KN:s,a=e.formatLongDate,l=a===void 0?QN:a,c=j3(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=c.date,d=c.locale,h=[];return r&&h.push.apply(h,r),h.push(Qh),VS(u,t)&&h.push("".concat(Qh,"--weekend")),u.getMonth()!==i&&h.push("".concat(Qh,"--neighboringMonth")),p.jsx(Hd,Qp({},c,{classes:h,formatAbbr:l,maxDateTransform:Vm,minDateTransform:Al,view:"month",children:o(d,u)}))}var Xp=function(){return Xp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xp.apply(this,arguments)},qx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function I3(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,s=e.showNeighboringMonth,o=e.value,a=e.valueType,l=qx(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Ke(t),u=Di(t),d=i||s,h=ll(t,n),f=d?0:h,g=(d?-h:0)+1,y=function(){if(i)return g+6*7-1;var x=zS(t);if(s){var m=new Date;m.setFullYear(c,u,x),m.setHours(0,0,0,0);var v=7-ll(m,n)-1;return x+v}return x}();return p.jsx(Wd,{className:"react-calendar__month-view__days",count:7,dateTransform:function(x){var m=new Date;return m.setFullYear(c,u,x),Al(m)},dateType:"day",hover:r,end:y,renderTile:function(x){var m=x.date,v=qx(x,["date"]);return p.jsx(M3,Xp({},l,v,{activeStartDate:t,calendarType:n,currentMonthIndex:u,date:m}),m.getTime())},offset:f,start:g,value:o,valueType:a})}var YS="react-calendar__month-view__weekdays",Xh="".concat(YS,"__weekday");function A3(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?JN:n,i=e.formatWeekday,s=i===void 0?ZN:i,o=e.locale,a=e.onMouseLeave,l=new Date,c=vs(l),u=Ke(c),d=Di(c),h=[],f=1;f<=7;f+=1){var g=new Date(u,d,f-ll(c,t)),y=s(o,g);h.push(p.jsx("div",{className:Fd(Xh,h3(g)&&"".concat(Xh,"--current"),VS(g,t)&&"".concat(Xh,"--weekend")),children:p.jsx("abbr",{"aria-label":y,title:y,children:r(o,g).replace(".","")})},f))}return p.jsx(Ym,{className:YS,count:7,onFocus:a,onMouseOver:a,children:h})}var Gu=function(){return Gu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gu.apply(this,arguments)},Yx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Gx="react-calendar__tile";function L3(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=p.jsx("span",{children:n});if(t){var i=e.date,s=e.onClickWeekNumber,o=e.weekNumber,a=Yx(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("button",Gu({},a,{className:Gx,onClick:function(l){return s(o,i,l)},type:"button",children:r}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var a=Yx(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("div",Gu({},a,{className:Gx,children:r}))}}function N3(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,s=e.showFixedNumberOfWeeks,o=function(){if(s)return 6;var c=zS(t),u=ll(t,n),d=c-(7-u);return 1+Math.ceil(d/7)}(),a=function(){for(var c=Ke(t),u=Di(t),d=zd(t),h=[],f=0;f<o;f+=1)h.push($p(new Date(c,u,d+f*7),n));return h}(),l=a.map(function(c){return i3(c,n)});return p.jsx(Ym,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(c,u){var d=a[u];if(!d)throw new Error("date is not defined");return p.jsx(L3,{date:d,onClickWeekNumber:r,weekNumber:c},c)})})}var Jp=function(){return Jp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jp.apply(this,arguments)},F3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function z3(e){if(e)for(var t=0,n=Object.entries(zN);t<n.length;t++){var r=n[t],i=r[0],s=r[1];if(s.includes(e))return i}return Rt.ISO_8601}function $3(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,s=e.calendarType,o=s===void 0?z3(n):s,a=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,u=e.showWeekNumbers,d=F3(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function h(){return p.jsx(A3,{calendarType:o,formatShortWeekday:a,formatWeekday:l,locale:n,onMouseLeave:r})}function f(){return u?p.jsx(N3,{activeStartDate:t,calendarType:o,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function g(){return p.jsx(I3,Jp({calendarType:o},d))}var y="react-calendar__month-view";return p.jsx("div",{className:Fd(y,u?"".concat(y,"--weekNumbers"):""),children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[f(),p.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[h(),g()]})]})})}var Ys=function(){return Ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ys.apply(this,arguments)},Pc="react-calendar",su=["century","decade","year","month"],B3=["decade","year","month","day"],Gm=new Date;Gm.setFullYear(1,0,1);Gm.setHours(0,0,0,0);var U3=new Date(864e13);function ha(e){return e instanceof Date?e:new Date(e)}function GS(e,t){return su.slice(su.indexOf(e),su.indexOf(t)+1)}function W3(e,t,n){var r=GS(t,n);return r.indexOf(e)!==-1}function Km(e,t,n){return e&&W3(e,t,n)?e:n}function KS(e){var t=su.indexOf(e);return B3[t]}function H3(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=ha(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function QS(e,t){var n=e.value,r=e.minDate,i=e.maxDate,s=e.maxDetail,o=H3(n,t);if(!o)return null;var a=KS(s),l=function(){switch(t){case 0:return rs(a,o);case 1:return US(a,o);default:throw new Error("Invalid index value: ".concat(t))}}();return g3(l,r,i)}var Qm=function(e){return QS(e,0)},XS=function(e){return QS(e,1)},V3=function(e){return[Qm,XS].map(function(t){return t(e)})};function JS(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,s=e.value,o=e.view,a=Km(o,i,n),l=Qm({value:s,minDate:r,maxDate:t,maxDetail:n})||new Date;return rs(a,l)}function q3(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,s=e.maxDate,o=e.maxDetail,a=e.minDate,l=e.minDetail,c=e.value,u=e.view,d=Km(u,l,o),h=t||n;return h?rs(d,h):JS({maxDate:s,maxDetail:o,minDate:a,minDetail:l,value:c||r,view:u||i})}function Jh(e){return e&&(!Array.isArray(e)||e.length===1)}function Tc(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Y3=w.forwardRef(function(t,n){var r=t.activeStartDate,i=t.allowPartialRange,s=t.calendarType,o=t.className,a=t.defaultActiveStartDate,l=t.defaultValue,c=t.defaultView,u=t.formatDay,d=t.formatLongDate,h=t.formatMonth,f=t.formatMonthYear,g=t.formatShortWeekday,y=t.formatWeekday,x=t.formatYear,m=t.goToRangeStartOnSelect,v=m===void 0?!0:m,b=t.inputRef,k=t.locale,S=t.maxDate,_=S===void 0?U3:S,O=t.maxDetail,T=O===void 0?"month":O,M=t.minDate,E=M===void 0?Gm:M,I=t.minDetail,A=I===void 0?"century":I,W=t.navigationAriaLabel,Y=t.navigationAriaLive,U=t.navigationLabel,j=t.next2AriaLabel,F=t.next2Label,D=t.nextAriaLabel,L=t.nextLabel,C=t.onActiveStartDateChange,X=t.onChange,G=t.onClickDay,P=t.onClickDecade,ee=t.onClickMonth,se=t.onClickWeekNumber,te=t.onClickYear,ze=t.onDrillDown,je=t.onDrillUp,Se=t.onViewChange,oe=t.prev2AriaLabel,ct=t.prev2Label,et=t.prevAriaLabel,Pt=t.prevLabel,ge=t.returnValue,tt=ge===void 0?"start":ge,Te=t.selectRange,It=t.showDoubleView,Sn=t.showFixedNumberOfWeeks,Z=t.showNavigation,ie=Z===void 0?!0:Z,ot=t.showNeighboringCentury,Ht=t.showNeighboringDecade,wt=t.showNeighboringMonth,Cn=wt===void 0?!0:wt,z=t.showWeekNumbers,R=t.tileClassName,N=t.tileContent,$=t.tileDisabled,B=t.value,H=t.view,Q=w.useState(a),ae=Q[0],ce=Q[1],le=w.useState(null),Me=le[0],Ce=le[1],Tt=w.useState(Array.isArray(l)?l.map(function(ye){return ye!==null?ha(ye):null}):l!=null?ha(l):null),ut=Tt[0],eh=Tt[1],Wl=w.useState(c),th=Wl[0],mt=Wl[1],De=r||ae||q3({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:c,maxDate:_,maxDetail:T,minDate:E,minDetail:A,value:B,view:H}),Re=function(){var ye=function(){return Te&&Jh(ut)?ut:B!==void 0?B:ut}();return ye?Array.isArray(ye)?ye.map(function(nt){return nt!==null?ha(nt):null}):ye!==null?ha(ye):null:null}(),hn=KS(T),me=Km(H||th,A,T),He=GS(A,T),En=Te?Me:null,ir=He.indexOf(me)<He.length-1,dt=He.indexOf(me)>0,Fn=w.useCallback(function(ye){var nt=function(){switch(tt){case"start":return Qm;case"end":return XS;case"range":return V3;default:throw new Error("Invalid returnValue.")}}();return nt({maxDate:_,maxDetail:T,minDate:E,value:ye})},[_,T,E,tt]),Xt=w.useCallback(function(ye,nt){ce(ye);var ht={action:nt,activeStartDate:ye,value:Re,view:me};C&&!Tc(De,ye)&&C(ht)},[De,C,Re,me]),Jt=w.useCallback(function(ye,nt){var ht=function(){switch(me){case"century":return P;case"decade":return te;case"year":return ee;case"month":return G;default:throw new Error("Invalid view: ".concat(me,"."))}}();ht&&ht(ye,nt)},[G,P,ee,te,me]),xr=w.useCallback(function(ye,nt){if(ir){Jt(ye,nt);var ht=He[He.indexOf(me)+1];if(!ht)throw new Error("Attempted to drill down from the lowest view.");ce(ye),mt(ht);var zn={action:"drillDown",activeStartDate:ye,value:Re,view:ht};C&&!Tc(De,ye)&&C(zn),Se&&me!==ht&&Se(zn),ze&&ze(zn)}},[De,ir,C,Jt,ze,Se,Re,me,He]),br=w.useCallback(function(){if(dt){var ye=He[He.indexOf(me)-1];if(!ye)throw new Error("Attempted to drill up from the highest view.");var nt=rs(ye,De);ce(nt),mt(ye);var ht={action:"drillUp",activeStartDate:nt,value:Re,view:ye};C&&!Tc(De,nt)&&C(ht),Se&&me!==ye&&Se(ht),je&&je(ht)}},[De,dt,C,je,Se,Re,me,He]),On=w.useCallback(function(ye,nt){var ht=Re;Jt(ye,nt);var zn=Te&&!Jh(ht),$n;if(Te)if(zn)$n=rs(hn,ye);else{if(!ht)throw new Error("previousValue is required");if(Array.isArray(ht))throw new Error("previousValue must not be an array");$n=u3(hn,ht,ye)}else $n=Fn(ye);var nh=!Te||zn||v?JS({maxDate:_,maxDetail:T,minDate:E,minDetail:A,value:$n,view:me}):null;nt.persist(),ce(nh),eh($n);var BC={action:"onChange",activeStartDate:nh,value:$n,view:me};if(C&&!Tc(De,nh)&&C(BC),X)if(Te){var UC=Jh($n);if(!UC)X($n||null,nt);else if(i){if(Array.isArray($n))throw new Error("value must not be an array");X([$n||null,null],nt)}}else X($n||null,nt)},[De,i,Fn,v,_,T,E,A,C,X,Jt,Te,Re,hn,me]);function Mi(ye){Ce(ye)}function Ii(){Ce(null)}w.useImperativeHandle(n,function(){return{activeStartDate:De,drillDown:xr,drillUp:br,onChange:On,setActiveStartDate:Xt,value:Re,view:me}},[De,xr,br,On,Xt,Re,me]);function Ey(ye){var nt=ye?BS(me,De):rs(me,De),ht=ir?xr:On,zn={activeStartDate:nt,hover:En,locale:k,maxDate:_,minDate:E,onClick:ht,onMouseOver:Te?Mi:void 0,tileClassName:R,tileContent:N,tileDisabled:$,value:Re,valueType:hn};switch(me){case"century":return p.jsx(_3,Ys({formatYear:x,showNeighboringCentury:ot},zn));case"decade":return p.jsx(E3,Ys({formatYear:x,showNeighboringDecade:Ht},zn));case"year":return p.jsx(R3,Ys({formatMonth:h,formatMonthYear:f},zn));case"month":return p.jsx($3,Ys({calendarType:s,formatDay:u,formatLongDate:d,formatShortWeekday:g,formatWeekday:y,onClickWeekNumber:se,onMouseLeave:Te?Ii:void 0,showFixedNumberOfWeeks:typeof Sn<"u"?Sn:It,showNeighboringMonth:Cn,showWeekNumbers:z},zn));default:throw new Error("Invalid view: ".concat(me,"."))}}function zC(){return ie?p.jsx(f3,{activeStartDate:De,drillUp:br,formatMonthYear:f,formatYear:x,locale:k,maxDate:_,minDate:E,navigationAriaLabel:W,navigationAriaLive:Y,navigationLabel:U,next2AriaLabel:j,next2Label:F,nextAriaLabel:D,nextLabel:L,prev2AriaLabel:oe,prev2Label:ct,prevAriaLabel:et,prevLabel:Pt,setActiveStartDate:Xt,showDoubleView:It,view:me,views:He}):null}var $C=Array.isArray(Re)?Re:[Re];return p.jsxs("div",{className:Fd(Pc,Te&&$C.length===1&&"".concat(Pc,"--selectRange"),It&&"".concat(Pc,"--doubleView"),o),ref:b,children:[zC(),p.jsxs("div",{className:"".concat(Pc,"__viewContainer"),onBlur:Te?Ii:void 0,onMouseLeave:Te?Ii:void 0,children:[Ey(),It?Ey(!0):null]})]})});const ZS=6048e5,G3=864e5,Kx=Symbol.for("constructDateFrom");function Ci(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Kx in e?e[Kx](t):e instanceof Date?new e.constructor(t):new Date(t)}function rr(e,t){return Ci(t||e,e)}let K3={};function Vd(){return K3}function ul(e,t){var a,l,c,u;const n=Vd(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=rr(e,t==null?void 0:t.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ku(e,t){return ul(e,{...t,weekStartsOn:1})}function e2(e,t){const n=rr(e,t==null?void 0:t.in),r=n.getFullYear(),i=Ci(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ku(i),o=Ci(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ku(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Qx(e){const t=rr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Q3(e,...t){const n=Ci.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Xx(e,t){const n=rr(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function X3(e,t,n){const[r,i]=Q3(n==null?void 0:n.in,e,t),s=Xx(r),o=Xx(i),a=+s-Qx(s),l=+o-Qx(o);return Math.round((a-l)/G3)}function J3(e,t){const n=e2(e,t),r=Ci(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ku(r)}function Z3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function e5(e){return!(!Z3(e)&&typeof e!="number"||isNaN(+rr(e)))}function t5(e,t){const n=rr(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const n5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r5=(e,t,n)=>{let r;const i=n5[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Zh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const i5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a5={date:Zh({formats:i5,defaultWidth:"full"}),time:Zh({formats:s5,defaultWidth:"full"}),dateTime:Zh({formats:o5,defaultWidth:"full"})},l5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},c5=(e,t,n,r)=>l5[e];function Xo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const u5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},d5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},h5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m5=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},y5={ordinalNumber:m5,era:Xo({values:u5,defaultWidth:"wide"}),quarter:Xo({values:d5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xo({values:h5,defaultWidth:"wide"}),day:Xo({values:f5,defaultWidth:"wide"}),dayPeriod:Xo({values:p5,defaultWidth:"wide",formattingValues:g5,defaultFormattingWidth:"wide"})};function Jo(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?x5(a,d=>d.test(o)):v5(a,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function v5(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function x5(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function b5(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const w5=/^(\d+)(th|st|nd|rd)?/i,_5=/\d+/i,k5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},S5={any:[/^b/i,/^(a|c)/i]},C5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E5={any:[/1/i,/2/i,/3/i,/4/i]},O5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M5={ordinalNumber:b5({matchPattern:w5,parsePattern:_5,valueCallback:e=>parseInt(e,10)}),era:Jo({matchPatterns:k5,defaultMatchWidth:"wide",parsePatterns:S5,defaultParseWidth:"any"}),quarter:Jo({matchPatterns:C5,defaultMatchWidth:"wide",parsePatterns:E5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jo({matchPatterns:O5,defaultMatchWidth:"wide",parsePatterns:P5,defaultParseWidth:"any"}),day:Jo({matchPatterns:T5,defaultMatchWidth:"wide",parsePatterns:D5,defaultParseWidth:"any"}),dayPeriod:Jo({matchPatterns:R5,defaultMatchWidth:"any",parsePatterns:j5,defaultParseWidth:"any"})},I5={code:"en-US",formatDistance:r5,formatLong:a5,formatRelative:c5,localize:y5,match:M5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function A5(e,t){const n=rr(e,t==null?void 0:t.in);return X3(n,t5(n))+1}function L5(e,t){const n=rr(e,t==null?void 0:t.in),r=+Ku(n)-+J3(n);return Math.round(r/ZS)+1}function t2(e,t){var u,d,h,f;const n=rr(e,t==null?void 0:t.in),r=n.getFullYear(),i=Vd(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ci((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=ul(o,t),l=Ci((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=ul(l,t);return+n>=+a?r+1:+n>=+c?r:r-1}function N5(e,t){var a,l,c,u;const n=Vd(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=t2(e,t),s=Ci((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ul(s,t)}function F5(e,t){const n=rr(e,t==null?void 0:t.in),r=+ul(n,t)-+N5(n,t);return Math.round(r/ZS)+1}function Ee(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Hr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ee(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ee(n+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ee(i,t.length)}},Os={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jx={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Hr.y(e,t)},Y:function(e,t,n,r){const i=t2(e,r),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Ee(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ee(s,t.length)},R:function(e,t){const n=e2(e);return Ee(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ee(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ee(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ee(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Hr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ee(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=F5(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Ee(i,t.length)},I:function(e,t,n){const r=L5(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ee(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Hr.d(e,t)},D:function(e,t,n){const r=A5(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ee(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ee(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ee(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ee(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Os.noon:r===0?i=Os.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Os.evening:r>=12?i=Os.afternoon:r>=4?i=Os.morning:i=Os.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Hr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Hr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Hr.s(e,t)},S:function(e,t){return Hr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return eb(r);case"XXXX":case"XX":return qi(r);case"XXXXX":case"XXX":default:return qi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return eb(r);case"xxxx":case"xx":return qi(r);case"xxxxx":case"xxx":default:return qi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Zx(r,":");case"OOOO":default:return"GMT"+qi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Zx(r,":");case"zzzz":default:return"GMT"+qi(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Ee(r,t.length)},T:function(e,t,n){return Ee(+e,t.length)}};function Zx(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+Ee(s,2)}function eb(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):qi(e,t)}function qi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Ee(Math.trunc(r/60),2),s=Ee(r%60,2);return n+i+t+s}const tb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},n2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},z5=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return tb(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",tb(r,t)).replace("{{time}}",n2(i,t))},$5={p:n2,P:z5},B5=/^D+$/,U5=/^Y+$/,W5=["D","DD","YY","YYYY"];function H5(e){return B5.test(e)}function V5(e){return U5.test(e)}function q5(e,t,n){const r=Y5(e,t,n);if(console.warn(r),W5.includes(e))throw new RangeError(r)}function Y5(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q5=/^'([^]*?)'?$/,X5=/''/g,J5=/[a-zA-Z]/;function Z5(e,t,n){var u,d,h,f;const r=Vd(),i=r.locale??I5,s=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,a=rr(e,n==null?void 0:n.in);if(!e5(a))throw new RangeError("Invalid time value");let l=t.match(K5).map(g=>{const y=g[0];if(y==="p"||y==="P"){const x=$5[y];return x(g,i.formatLong)}return g}).join("").match(G5).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:eF(g)};if(Jx[y])return{isToken:!0,value:g};if(y.match(J5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const y=g.value;(V5(y)||H5(y))&&q5(y,t,String(e));const x=Jx[y[0]];return x(a,y,i.localize,c)}).join("")}function eF(e){const t=e.match(Q5);return t?t[1].replace(X5,"'"):e}const tF=()=>{const[e,t]=w.useState(new Date),[n,r]=w.useState(!1),[i,s]=w.useState(null),o=Qt(),a=w.useRef(null),l={breakfast:"2 dishes",lunch:"3 dishes",dinner:"2 dishes",others:"1 dish"},c=f=>{a.current=setTimeout(()=>{s(f.toDateString()),r(!0)},700),console.log("Long press started")},u=()=>{clearTimeout(a.current),console.log("Long press ended")},d=f=>{const g=Z5(f,"yyyy-MM-dd");o(`/recipes/calendar/${g}`)},h=({date:f})=>{const g=new Date;return f.toDateString()===g.toDateString()?"today-date":f>g?"coming-date":"past-date"};return p.jsxs("div",{className:"calendar-container",children:[p.jsx("h1",{children:"Calendar"}),p.jsx(Rl,{}),p.jsx(Y3,{onChange:f=>t(f),value:e,tileClassName:h,locale:"en-US",onClickDay:f=>d(f),tileContent:({date:f})=>p.jsx("div",{onTouchStart:()=>c(f),onTouchEnd:u,onMouseDown:()=>c(f),onMouseUp:u})}),n&&p.jsx("div",{className:"modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("h2",{children:["Details for ",i]}),p.jsxs("p",{children:["Breakfast: ",l.breakfast]}),p.jsxs("p",{children:["Lunch: ",l.lunch]}),p.jsxs("p",{children:["Dinner: ",l.dinner]}),p.jsxs("p",{children:["Others: ",l.others]}),p.jsx("button",{onClick:()=>r(!1),children:"Close"})]})})]})},nF=()=>{const{date:e}=hm(),t=Qt(),{fetchMealPlansByDate:n,fetchRecipesByIds:r,mealTypes:i}=Dl(),[s,o]=w.useState([]),[a,l]=w.useState(!0),[c,u]=w.useState({}),[d,h]=w.useState({});w.useEffect(()=>{(async()=>{l(!0);try{const m=await n(e),v=m.map(_=>_.recipe_id),b=await r(v),k=m.map(_=>({..._,recipe:b.find(O=>O.id===_.recipe_id)}));console.log("Enriched Meal Plans:",k),o(k);const S={};i.forEach(_=>{const O=k.filter(T=>T.meal_type_name===_.name);S[_.name]=f(O)}),h(S)}catch(m){console.error("Error fetching meal plans or recipes:",m.message)}finally{l(!1)}})()},[e,n,r,i]);const f=x=>{var v;return x.length===0?null:x.length===1?`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${(v=x[0].recipe)==null?void 0:v.image_path}`:x.slice(0,2).map(b=>{var k;return`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${(k=b.recipe)==null?void 0:k.image_path}`})},g=x=>{u(m=>({...m,[x]:!m[x]}))},y=async(x,m,v)=>{if(window.confirm("Are you sure you want to cancel this meal?"))try{const{error:k}=await ne.from("meal_plan").delete().eq("planned_date",x).eq("recipe_id",m).eq("meal_type_id",v);if(k){console.error("Error deleting meal:",k.message);return}o(S=>S.filter(_=>_.planned_date!==x||_.recipe_id!==m||_.meal_type_id!==v)),console.log(`Meal with date: ${x}, recipe_id: ${m}, meal_type_id: ${v} deleted successfully.`)}catch(k){console.error("Unexpected error deleting meal:",k.message)}};return a?p.jsx("div",{className:"meal-planner-container",children:"Loading..."}):p.jsxs("div",{className:"meal-planner-container",children:[p.jsxs("header",{className:"meal-planner-header",children:[p.jsx(Rl,{}),p.jsx("div",{className:"date-display",children:p.jsx("p",{children:e})})]}),i.map(x=>{const m=s.filter(b=>b.meal_type_name===x.name),v=m.length>0;return p.jsxs("div",{className:"meal-section",children:[p.jsxs("div",{className:"meal-section-header",children:[p.jsx("div",{className:"meal-header-image",children:v?d[x.name]&&Array.isArray(d[x.name])?p.jsxs("div",{className:"merged-images",children:[p.jsx("img",{src:d[x.name][0],alt:"Meal 1",className:"meal-merged-image"}),p.jsx("img",{src:d[x.name][1],alt:"Meal 2",className:"meal-merged-image"})]}):p.jsx("img",{src:d[x.name],alt:"Single Meal",className:"meal-merged-image"}):p.jsx("div",{className:"no-meal-placeholder",children:p.jsxs("p",{children:["No meals planned for ",x.name,"."]})})}),p.jsxs("div",{className:"meal-section-controls",children:[p.jsx("button",{onClick:()=>t(`/recipes/calendar/preparation/${e}`,{state:{planned_date:e,meal_type_id:x.id}}),children:v?"View Details":"Add Meal"}),v&&p.jsx("button",{onClick:()=>console.log("Start Cooking"),children:"Start Cooking"})]}),p.jsx("h2",{children:x.name}),p.jsx("span",{onClick:()=>g(x.name),style:{cursor:"pointer"},children:c[x.name]?"▲":"▼"})]}),c[x.name]&&v&&p.jsx("div",{className:"meal-list",children:m.map((b,k)=>{var S,_,O;return p.jsxs("div",{className:"meal-item",children:[p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${((S=b.recipe)==null?void 0:S.image_path)||"path/to/default/image.jpg"}`,alt:((_=b.recipe)==null?void 0:_.name)||"Meal Image",className:"meal-image",onClick:()=>{var T;return t(`/recipes/recipe/${((T=b.recipe)==null?void 0:T.id)||""}`,{state:{planned_date:b.planned_date,meal_type_id:b.meal_type_id,recipe_id:b.recipe_id}})}}),p.jsxs("div",{className:"meal-overlay",children:[p.jsx("span",{className:"meal-name",children:((O=b.recipe)==null?void 0:O.name)||"Unknown Recipe"}),p.jsx("p",{className:"meal-notes",children:b.notes}),p.jsx("button",{onClick:()=>y(b.planned_date,b.recipe_id,b.meal_type_id),className:"cancel-meal-button",children:"Cancel"})]})]},k)})}),c[x.name]&&!v&&p.jsx("div",{className:"no-meal-message",children:p.jsxs("p",{children:["No meals added for ",x.name,'. Click "Add Meal" to start planning!']})})]},x.id)})]})};function rF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const qd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function To(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Xm(e){return"nodeType"in e}function dn(e){var t,n;return e?To(e)?e:Xm(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Jm(e){const{Document:t}=dn(e);return e instanceof t}function Ll(e){return To(e)?!1:e instanceof dn(e).HTMLElement}function r2(e){return e instanceof dn(e).SVGElement}function Do(e){return e?To(e)?e.document:Xm(e)?Jm(e)?e:Ll(e)||r2(e)?e.ownerDocument:document:document:document}const yr=qd?w.useLayoutEffect:w.useEffect;function Zm(e){const t=w.useRef(e);return yr(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function iF(){const e=w.useRef(null),t=w.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function dl(e,t){t===void 0&&(t=[e]);const n=w.useRef(e);return yr(()=>{n.current!==e&&(n.current=e)},t),n}function Nl(e,t){const n=w.useRef();return w.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Qu(e){const t=Zm(e),n=w.useRef(null),r=w.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Zp(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}let ef={};function Fl(e,t){return w.useMemo(()=>{if(t)return t;const n=ef[e]==null?0:ef[e]+1;return ef[e]=n,e+"-"+n},[e,t])}function i2(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+e*c)}return s},{...t})}}const ro=i2(1),Xu=i2(-1);function sF(e){return"clientX"in e&&"clientY"in e}function ey(e){if(!e)return!1;const{KeyboardEvent:t}=dn(e.target);return t&&e instanceof t}function oF(e){if(!e)return!1;const{TouchEvent:t}=dn(e.target);return t&&e instanceof t}function eg(e){if(oF(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return sF(e)?{x:e.clientX,y:e.clientY}:null}const hl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hl.Translate.toString(e),hl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),nb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aF(e){return e.matches(nb)?e:e.querySelector(nb)}const lF={display:"none"};function cF(e){let{id:t,value:n}=e;return Xe.createElement("div",{id:t,style:lF},n)}function uF(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xe.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function dF(){const[e,t]=w.useState("");return{announce:w.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const s2=w.createContext(null);function hF(e){const t=w.useContext(s2);w.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function fF(){const[e]=w.useState(()=>new Set),t=w.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[w.useCallback(r=>{let{type:i,event:s}=r;e.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[e]),t]}const pF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},gF={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function mF(e){let{announcements:t=gF,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=pF}=e;const{announce:s,announcement:o}=dF(),a=Fl("DndLiveRegion"),[l,c]=w.useState(!1);if(w.useEffect(()=>{c(!0)},[]),hF(w.useMemo(()=>({onDragStart(d){let{active:h}=d;s(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:f}=d;t.onDragMove&&s(t.onDragMove({active:h,over:f}))},onDragOver(d){let{active:h,over:f}=d;s(t.onDragOver({active:h,over:f}))},onDragEnd(d){let{active:h,over:f}=d;s(t.onDragEnd({active:h,over:f}))},onDragCancel(d){let{active:h,over:f}=d;s(t.onDragCancel({active:h,over:f}))}}),[s,t])),!l)return null;const u=Xe.createElement(Xe.Fragment,null,Xe.createElement(cF,{id:r,value:i.draggable}),Xe.createElement(uF,{id:a,announcement:o}));return n?Ws.createPortal(u,n):u}var vt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(vt||(vt={}));function Ju(){}function yF(e,t){return w.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function vF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Zn=Object.freeze({x:0,y:0});function xF(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bF(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function wF(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function _F(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function rb(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const kF=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=rb(t,t.left,t.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=xF(rb(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(bF)};function SF(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=i-r,a=s-n;if(r<i&&n<s){const l=t.width*t.height,c=e.width*e.height,u=o*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const CF=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=SF(a,t);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(wF)};function EF(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function o2(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Zn}function OF(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const PF=OF(1);function TF(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function DF(e,t,n){const r=TF(t);if(!r)return e;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=e.left-o-(1-i)*parseFloat(n),c=e.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const RF={ignoreTransform:!1};function Ro(e,t){t===void 0&&(t=RF);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:u}=dn(e).getComputedStyle(e);c&&(n=DF(n,c,u))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function ib(e){return Ro(e,{ignoreTransform:!0})}function jF(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function MF(e,t){return t===void 0&&(t=dn(e).getComputedStyle(e)),t.position==="fixed"}function IF(e,t){t===void 0&&(t=dn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function ty(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Jm(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Ll(i)||r2(i)||n.includes(i))return n;const s=dn(e).getComputedStyle(i);return i!==e&&IF(i,s)&&n.push(i),MF(i,s)?n:r(i.parentNode)}return e?r(e):n}function a2(e){const[t]=ty(e,1);return t??null}function tf(e){return!qd||!e?null:To(e)?e:Xm(e)?Jm(e)||e===Do(e).scrollingElement?window:Ll(e)?e:null:null}function l2(e){return To(e)?e.scrollX:e.scrollLeft}function c2(e){return To(e)?e.scrollY:e.scrollTop}function tg(e){return{x:l2(e),y:c2(e)}}var St;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(St||(St={}));function u2(e){return!qd||!e?!1:e===document.scrollingElement}function d2(e){const t={x:0,y:0},n=u2(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const AF={x:.2,y:.2};function LF(e,t,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=AF);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=d2(e),f={x:0,y:0},g={x:0,y:0},y={height:t.height*i.y,width:t.width*i.x};return!c&&s<=t.top+y.height?(f.y=St.Backward,g.y=r*Math.abs((t.top+y.height-s)/y.height)):!u&&l>=t.bottom-y.height&&(f.y=St.Forward,g.y=r*Math.abs((t.bottom-y.height-l)/y.height)),!h&&a>=t.right-y.width?(f.x=St.Forward,g.x=r*Math.abs((t.right-y.width-a)/y.width)):!d&&o<=t.left+y.width&&(f.x=St.Backward,g.x=r*Math.abs((t.left+y.width-o)/y.width)),{direction:f,speed:g}}function NF(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function h2(e){return e.reduce((t,n)=>ro(t,tg(n)),Zn)}function FF(e){return e.reduce((t,n)=>t+l2(n),0)}function zF(e){return e.reduce((t,n)=>t+c2(n),0)}function $F(e,t){if(t===void 0&&(t=Ro),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);a2(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const BF=[["x",["left","right"],FF],["y",["top","bottom"],zF]];class ny{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ty(n),i=h2(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,a]of BF)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ta{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function UF(e){const{EventTarget:t}=dn(e);return e instanceof t?e:Do(e)}function nf(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Tn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Tn||(Tn={}));function sb(e){e.preventDefault()}function WF(e){e.stopPropagation()}var ke;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ke||(ke={}));const f2={start:[ke.Space,ke.Enter],cancel:[ke.Esc],end:[ke.Space,ke.Enter,ke.Tab]},HF=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ke.Right:return{...n,x:n.x+25};case ke.Left:return{...n,x:n.x-25};case ke.Down:return{...n,y:n.y+25};case ke.Up:return{...n,y:n.y-25}}};class p2{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ta(Do(n)),this.windowListeners=new Ta(dn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Tn.Resize,this.handleCancel),this.windowListeners.add(Tn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Tn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&$F(r),n(Zn)}handleKeyDown(t){if(ey(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=f2,coordinateGetter:o=HF,scrollBehavior:a="smooth"}=i,{code:l}=t;if(s.end.includes(l)){this.handleEnd(t);return}if(s.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Zn;this.referenceCoordinates||(this.referenceCoordinates=u);const d=o(t,{active:n,context:r.current,currentCoordinates:u});if(d){const h=Xu(d,u),f={x:0,y:0},{scrollableAncestors:g}=r.current;for(const y of g){const x=t.code,{isTop:m,isRight:v,isLeft:b,isBottom:k,maxScroll:S,minScroll:_}=d2(y),O=NF(y),T={x:Math.min(x===ke.Right?O.right-O.width/2:O.right,Math.max(x===ke.Right?O.left:O.left+O.width/2,d.x)),y:Math.min(x===ke.Down?O.bottom-O.height/2:O.bottom,Math.max(x===ke.Down?O.top:O.top+O.height/2,d.y))},M=x===ke.Right&&!v||x===ke.Left&&!b,E=x===ke.Down&&!k||x===ke.Up&&!m;if(M&&T.x!==d.x){const I=y.scrollLeft+h.x,A=x===ke.Right&&I<=S.x||x===ke.Left&&I>=_.x;if(A&&!h.y){y.scrollTo({left:I,behavior:a});return}A?f.x=y.scrollLeft-I:f.x=x===ke.Right?y.scrollLeft-S.x:y.scrollLeft-_.x,f.x&&y.scrollBy({left:-f.x,behavior:a});break}else if(E&&T.y!==d.y){const I=y.scrollTop+h.y,A=x===ke.Down&&I<=S.y||x===ke.Up&&I>=_.y;if(A&&!h.x){y.scrollTo({top:I,behavior:a});return}A?f.y=y.scrollTop-I:f.y=x===ke.Down?y.scrollTop-S.y:y.scrollTop-_.y,f.y&&y.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(t,ro(Xu(d,this.referenceCoordinates),f))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}p2.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=f2,onActivation:i}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function ob(e){return!!(e&&"distance"in e)}function ab(e){return!!(e&&"delay"in e)}class ry{constructor(t,n,r){var i;r===void 0&&(r=UF(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=Do(o),this.documentListeners=new Ta(this.document),this.listeners=new Ta(r),this.windowListeners=new Ta(dn(o)),this.initialCoordinates=(i=eg(s))!=null?i:Zn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Tn.Resize,this.handleCancel),this.windowListeners.add(Tn.DragStart,sb),this.windowListeners.add(Tn.VisibilityChange,this.handleCancel),this.windowListeners.add(Tn.ContextMenu,sb),this.documentListeners.add(Tn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ab(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ob(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Tn.Click,WF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Tn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=eg(t))!=null?n:Zn,c=Xu(i,l);if(!r&&a){if(ob(a)){if(a.tolerance!=null&&nf(c,a.tolerance))return this.handleCancel();if(nf(c,a.distance))return this.handleStart()}if(ab(a)&&nf(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ke.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const VF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class iy extends ry{constructor(t){const{event:n}=t,r=Do(n.target);super(t,VF,r)}}iy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const qF={move:{name:"mousemove"},end:{name:"mouseup"}};var ng;(function(e){e[e.RightClick=2]="RightClick"})(ng||(ng={}));class YF extends ry{constructor(t){super(t,qF,Do(t.event.target))}}YF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ng.RightClick?!1:(r==null||r({event:n}),!0)}}];const rf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class GF extends ry{constructor(t){super(t,rf)}static setup(){return window.addEventListener(rf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(rf.move.name,t)};function t(){}}}GF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Da;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Da||(Da={}));var Zu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zu||(Zu={}));function KF(e){let{acceleration:t,activator:n=Da.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Zu.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:h}=e;const f=XF({delta:d,disabled:!s}),[g,y]=iF(),x=w.useRef({x:0,y:0}),m=w.useRef({x:0,y:0}),v=w.useMemo(()=>{switch(n){case Da.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Da.DraggableRect:return i}},[n,i,l]),b=w.useRef(null),k=w.useCallback(()=>{const _=b.current;if(!_)return;const O=x.current.x*m.current.x,T=x.current.y*m.current.y;_.scrollBy(O,T)},[]),S=w.useMemo(()=>a===Zu.TreeOrder?[...c].reverse():c,[a,c]);w.useEffect(()=>{if(!s||!c.length||!v){y();return}for(const _ of S){if((r==null?void 0:r(_))===!1)continue;const O=c.indexOf(_),T=u[O];if(!T)continue;const{direction:M,speed:E}=LF(_,T,v,t,h);for(const I of["x","y"])f[I][M[I]]||(E[I]=0,M[I]=0);if(E.x>0||E.y>0){y(),b.current=_,g(k,o),x.current=E,m.current=M;return}}x.current={x:0,y:0},m.current={x:0,y:0},y()},[t,k,r,y,s,o,JSON.stringify(v),JSON.stringify(f),g,c,S,u,JSON.stringify(h)])}const QF={x:{[St.Backward]:!1,[St.Forward]:!1},y:{[St.Backward]:!1,[St.Forward]:!1}};function XF(e){let{delta:t,disabled:n}=e;const r=Zp(t);return Nl(i=>{if(n||!r||!i)return QF;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[St.Backward]:i.x[St.Backward]||s.x===-1,[St.Forward]:i.x[St.Forward]||s.x===1},y:{[St.Backward]:i.y[St.Backward]||s.y===-1,[St.Forward]:i.y[St.Forward]||s.y===1}}},[n,t,r])}function JF(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Nl(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function ZF(e,t){return w.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...s]},[]),[e,t])}var fl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(fl||(fl={}));var rg;(function(e){e.Optimized="optimized"})(rg||(rg={}));const lb=new Map;function ez(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,o]=w.useState(null),{frequency:a,measure:l,strategy:c}=i,u=w.useRef(e),d=x(),h=dl(d),f=w.useCallback(function(m){m===void 0&&(m=[]),!h.current&&o(v=>v===null?m:v.concat(m.filter(b=>!v.includes(b))))},[h]),g=w.useRef(null),y=Nl(m=>{if(d&&!n)return lb;if(!m||m===lb||u.current!==e||s!=null){const v=new Map;for(let b of e){if(!b)continue;if(s&&s.length>0&&!s.includes(b.id)&&b.rect.current){v.set(b.id,b.rect.current);continue}const k=b.node.current,S=k?new ny(l(k),k):null;b.rect.current=S,S&&v.set(b.id,S)}return v}return m},[e,s,n,d,l]);return w.useEffect(()=>{u.current=e},[e]),w.useEffect(()=>{d||f()},[n,d]),w.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),w.useEffect(()=>{d||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{f(),g.current=null},a))},[a,d,f,...r]),{droppableRects:y,measureDroppableContainers:f,measuringScheduled:s!=null};function x(){switch(c){case fl.Always:return!1;case fl.BeforeDragging:return n;default:return!n}}}function g2(e,t){return Nl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function tz(e,t){return g2(e,t)}function nz(e){let{callback:t,disabled:n}=e;const r=Zm(t),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return w.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Yd(e){let{callback:t,disabled:n}=e;const r=Zm(t),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return w.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function rz(e){return new ny(Ro(e),e)}function cb(e,t,n){t===void 0&&(t=rz);const[r,i]=w.useState(null);function s(){i(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=nz({callback(l){if(e)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),a=Yd({callback:s});return yr(()=>{s(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function iz(e){const t=g2(e);return o2(e,t)}const ub=[];function sz(e){const t=w.useRef(e),n=Nl(r=>e?r&&r!==ub&&e&&t.current&&e.parentNode===t.current.parentNode?r:ty(e):ub,[e]);return w.useEffect(()=>{t.current=e},[e]),n}function oz(e){const[t,n]=w.useState(null),r=w.useRef(e),i=w.useCallback(s=>{const o=tf(s.target);o&&n(a=>a?(a.set(o,tg(o)),new Map(a)):null)},[]);return w.useEffect(()=>{const s=r.current;if(e!==s){o(s);const a=e.map(l=>{const c=tf(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,tg(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(s)};function o(a){a.forEach(l=>{const c=tf(l);c==null||c.removeEventListener("scroll",i)})}},[i,e]),w.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>ro(s,o),Zn):h2(e):Zn,[e,t])}function db(e,t){t===void 0&&(t=[]);const n=w.useRef(null);return w.useEffect(()=>{n.current=null},t),w.useEffect(()=>{const r=e!==Zn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Xu(e,n.current):Zn}function az(e){w.useEffect(()=>{if(!qd)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function lz(e,t){return w.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,t)},n},{}),[e,t])}function m2(e){return w.useMemo(()=>e?jF(e):null,[e])}const hb=[];function cz(e,t){t===void 0&&(t=Ro);const[n]=e,r=m2(n?dn(n):null),[i,s]=w.useState(hb);function o(){s(()=>e.length?e.map(l=>u2(l)?r:new ny(t(l),l)):hb)}const a=Yd({callback:o});return yr(()=>{a==null||a.disconnect(),o(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),i}function uz(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ll(t)?t:e}function dz(e){let{measure:t}=e;const[n,r]=w.useState(null),i=w.useCallback(c=>{for(const{target:u}of c)if(Ll(u)){r(d=>{const h=t(u);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),s=Yd({callback:i}),o=w.useCallback(c=>{const u=uz(c);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?t(u):null)},[t,s]),[a,l]=Qu(o);return w.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const hz=[{sensor:iy,options:{}},{sensor:p2,options:{}}],fz={current:{}},ou={draggable:{measure:ib},droppable:{measure:ib,strategy:fl.WhileDragging,frequency:rg.Optimized},dragOverlay:{measure:Ro}};class Ra extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const pz={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ra,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ju},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ou,measureDroppableContainers:Ju,windowRect:null,measuringScheduled:!1},gz={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ju,draggableNodes:new Map,over:null,measureDroppableContainers:Ju},Gd=w.createContext(gz),y2=w.createContext(pz);function mz(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ra}}}function yz(e,t){switch(t.type){case vt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case vt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case vt.DragEnd:case vt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vt.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Ra(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case vt.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new Ra(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case vt.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Ra(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function vz(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=w.useContext(Gd),s=Zp(r),o=Zp(n==null?void 0:n.id);return w.useEffect(()=>{if(!t&&!r&&s&&o!=null){if(!ey(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=aF(u);if(d){d.focus();break}}})}},[r,t,i,o,s]),null}function xz(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function bz(e){return w.useMemo(()=>({draggable:{...ou.draggable,...e==null?void 0:e.draggable},droppable:{...ou.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ou.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function wz(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=w.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;yr(()=>{if(!o&&!a||!t){s.current=!1;return}if(s.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=o2(u,r);if(o||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=a2(c);h&&h.scrollBy({top:d.y,left:d.x})}},[t,o,a,r,n])}const v2=w.createContext({...Zn,scaleX:1,scaleY:1});var Jr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Jr||(Jr={}));const _z=w.memo(function(t){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=hz,collisionDetection:d=CF,measuring:h,modifiers:f,...g}=t;const y=w.useReducer(yz,void 0,mz),[x,m]=y,[v,b]=fF(),[k,S]=w.useState(Jr.Uninitialized),_=k===Jr.Initialized,{draggable:{active:O,nodes:T,translate:M},droppable:{containers:E}}=x,I=O!=null?T.get(O):null,A=w.useRef({initial:null,translated:null}),W=w.useMemo(()=>{var mt;return O!=null?{id:O,data:(mt=I==null?void 0:I.data)!=null?mt:fz,rect:A}:null},[O,I]),Y=w.useRef(null),[U,j]=w.useState(null),[F,D]=w.useState(null),L=dl(g,Object.values(g)),C=Fl("DndDescribedBy",o),X=w.useMemo(()=>E.getEnabled(),[E]),G=bz(h),{droppableRects:P,measureDroppableContainers:ee,measuringScheduled:se}=ez(X,{dragging:_,dependencies:[M.x,M.y],config:G.droppable}),te=JF(T,O),ze=w.useMemo(()=>F?eg(F):null,[F]),je=th(),Se=tz(te,G.draggable.measure);wz({activeNode:O!=null?T.get(O):null,config:je.layoutShiftCompensation,initialRect:Se,measure:G.draggable.measure});const oe=cb(te,G.draggable.measure,Se),ct=cb(te?te.parentElement:null),et=w.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pt=E.getNodeFor((n=et.current.over)==null?void 0:n.id),ge=dz({measure:G.dragOverlay.measure}),tt=(r=ge.nodeRef.current)!=null?r:te,Te=_?(i=ge.rect)!=null?i:oe:null,It=!!(ge.nodeRef.current&&ge.rect),Sn=iz(It?null:oe),Z=m2(tt?dn(tt):null),ie=sz(_?Pt??te:null),ot=cz(ie),Ht=xz(f,{transform:{x:M.x-Sn.x,y:M.y-Sn.y,scaleX:1,scaleY:1},activatorEvent:F,active:W,activeNodeRect:oe,containerNodeRect:ct,draggingNodeRect:Te,over:et.current.over,overlayNodeRect:ge.rect,scrollableAncestors:ie,scrollableAncestorRects:ot,windowRect:Z}),wt=ze?ro(ze,M):null,Cn=oz(ie),z=db(Cn),R=db(Cn,[oe]),N=ro(Ht,z),$=Te?PF(Te,Ht):null,B=W&&$?d({active:W,collisionRect:$,droppableRects:P,droppableContainers:X,pointerCoordinates:wt}):null,H=_F(B,"id"),[Q,ae]=w.useState(null),ce=It?Ht:ro(Ht,R),le=EF(ce,(s=Q==null?void 0:Q.rect)!=null?s:null,oe),Me=w.useRef(null),Ce=w.useCallback((mt,De)=>{let{sensor:Re,options:hn}=De;if(Y.current==null)return;const me=T.get(Y.current);if(!me)return;const He=mt.nativeEvent,En=new Re({active:Y.current,activeNode:me,event:He,options:hn,context:et,onAbort(dt){if(!T.get(dt))return;const{onDragAbort:Xt}=L.current,Jt={id:dt};Xt==null||Xt(Jt),v({type:"onDragAbort",event:Jt})},onPending(dt,Fn,Xt,Jt){if(!T.get(dt))return;const{onDragPending:br}=L.current,On={id:dt,constraint:Fn,initialCoordinates:Xt,offset:Jt};br==null||br(On),v({type:"onDragPending",event:On})},onStart(dt){const Fn=Y.current;if(Fn==null)return;const Xt=T.get(Fn);if(!Xt)return;const{onDragStart:Jt}=L.current,xr={activatorEvent:He,active:{id:Fn,data:Xt.data,rect:A}};Ws.unstable_batchedUpdates(()=>{Jt==null||Jt(xr),S(Jr.Initializing),m({type:vt.DragStart,initialCoordinates:dt,active:Fn}),v({type:"onDragStart",event:xr}),j(Me.current),D(He)})},onMove(dt){m({type:vt.DragMove,coordinates:dt})},onEnd:ir(vt.DragEnd),onCancel:ir(vt.DragCancel)});Me.current=En;function ir(dt){return async function(){const{active:Xt,collisions:Jt,over:xr,scrollAdjustedTranslate:br}=et.current;let On=null;if(Xt&&br){const{cancelDrop:Mi}=L.current;On={activatorEvent:He,active:Xt,collisions:Jt,delta:br,over:xr},dt===vt.DragEnd&&typeof Mi=="function"&&await Promise.resolve(Mi(On))&&(dt=vt.DragCancel)}Y.current=null,Ws.unstable_batchedUpdates(()=>{m({type:dt}),S(Jr.Uninitialized),ae(null),j(null),D(null),Me.current=null;const Mi=dt===vt.DragEnd?"onDragEnd":"onDragCancel";if(On){const Ii=L.current[Mi];Ii==null||Ii(On),v({type:Mi,event:On})}})}}},[T]),Tt=w.useCallback((mt,De)=>(Re,hn)=>{const me=Re.nativeEvent,He=T.get(hn);if(Y.current!==null||!He||me.dndKit||me.defaultPrevented)return;const En={active:He};mt(Re,De.options,En)===!0&&(me.dndKit={capturedBy:De.sensor},Y.current=hn,Ce(Re,De))},[T,Ce]),ut=ZF(u,Tt);az(u),yr(()=>{oe&&k===Jr.Initializing&&S(Jr.Initialized)},[oe,k]),w.useEffect(()=>{const{onDragMove:mt}=L.current,{active:De,activatorEvent:Re,collisions:hn,over:me}=et.current;if(!De||!Re)return;const He={active:De,activatorEvent:Re,collisions:hn,delta:{x:N.x,y:N.y},over:me};Ws.unstable_batchedUpdates(()=>{mt==null||mt(He),v({type:"onDragMove",event:He})})},[N.x,N.y]),w.useEffect(()=>{const{active:mt,activatorEvent:De,collisions:Re,droppableContainers:hn,scrollAdjustedTranslate:me}=et.current;if(!mt||Y.current==null||!De||!me)return;const{onDragOver:He}=L.current,En=hn.get(H),ir=En&&En.rect.current?{id:En.id,rect:En.rect.current,data:En.data,disabled:En.disabled}:null,dt={active:mt,activatorEvent:De,collisions:Re,delta:{x:me.x,y:me.y},over:ir};Ws.unstable_batchedUpdates(()=>{ae(ir),He==null||He(dt),v({type:"onDragOver",event:dt})})},[H]),yr(()=>{et.current={activatorEvent:F,active:W,activeNode:te,collisionRect:$,collisions:B,droppableRects:P,draggableNodes:T,draggingNode:tt,draggingNodeRect:Te,droppableContainers:E,over:Q,scrollableAncestors:ie,scrollAdjustedTranslate:N},A.current={initial:Te,translated:$}},[W,te,B,$,T,tt,Te,P,E,Q,ie,N]),KF({...je,delta:M,draggingRect:$,pointerCoordinates:wt,scrollableAncestors:ie,scrollableAncestorRects:ot});const eh=w.useMemo(()=>({active:W,activeNode:te,activeNodeRect:oe,activatorEvent:F,collisions:B,containerNodeRect:ct,dragOverlay:ge,draggableNodes:T,droppableContainers:E,droppableRects:P,over:Q,measureDroppableContainers:ee,scrollableAncestors:ie,scrollableAncestorRects:ot,measuringConfiguration:G,measuringScheduled:se,windowRect:Z}),[W,te,oe,F,B,ct,ge,T,E,P,Q,ee,ie,ot,G,se,Z]),Wl=w.useMemo(()=>({activatorEvent:F,activators:ut,active:W,activeNodeRect:oe,ariaDescribedById:{draggable:C},dispatch:m,draggableNodes:T,over:Q,measureDroppableContainers:ee}),[F,ut,W,oe,m,C,T,Q,ee]);return Xe.createElement(s2.Provider,{value:b},Xe.createElement(Gd.Provider,{value:Wl},Xe.createElement(y2.Provider,{value:eh},Xe.createElement(v2.Provider,{value:le},c)),Xe.createElement(vz,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Xe.createElement(mF,{...a,hiddenTextDescribedById:C}));function th(){const mt=(U==null?void 0:U.autoScrollEnabled)===!1,De=typeof l=="object"?l.enabled===!1:l===!1,Re=_&&!mt&&!De;return typeof l=="object"?{...l,enabled:Re}:{enabled:Re}}}),kz=w.createContext(null),fb="button",Sz="Draggable";function Cz(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=Fl(Sz),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=w.useContext(Gd),{role:f=fb,roleDescription:g="draggable",tabIndex:y=0}=i??{},x=(l==null?void 0:l.id)===t,m=w.useContext(x?v2:kz),[v,b]=Qu(),[k,S]=Qu(),_=lz(o,t),O=dl(n);yr(()=>(d.set(t,{id:t,key:s,node:v,activatorNode:k,data:O}),()=>{const M=d.get(t);M&&M.key===s&&d.delete(t)}),[d,t]);const T=w.useMemo(()=>({role:f,tabIndex:y,"aria-disabled":r,"aria-pressed":x&&f===fb?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[r,f,y,x,g,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:T,isDragging:x,listeners:r?void 0:_,node:v,over:h,setNodeRef:b,setActivatorNodeRef:S,transform:m}}function Ez(){return w.useContext(y2)}const Oz="Droppable",Pz={timeout:25};function Tz(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=Fl(Oz),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=w.useContext(Gd),u=w.useRef({disabled:n}),d=w.useRef(!1),h=w.useRef(null),f=w.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:x}={...Pz,...i},m=dl(y??r),v=w.useCallback(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(m.current)?m.current:[m.current]),f.current=null},x)},[x]),b=Yd({callback:v,disabled:g||!o}),k=w.useCallback((T,M)=>{b&&(M&&(b.unobserve(M),d.current=!1),T&&b.observe(T))},[b]),[S,_]=Qu(k),O=dl(t);return w.useEffect(()=>{!b||!S.current||(b.disconnect(),d.current=!1,b.observe(S.current))},[S,b]),w.useEffect(()=>(a({type:vt.RegisterDroppable,element:{id:r,key:s,disabled:n,node:S,rect:h,data:O}}),()=>a({type:vt.UnregisterDroppable,key:s,id:r})),[r]),w.useEffect(()=>{n!==u.current.disabled&&(a({type:vt.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:_}}function sy(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Dz(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function Dc(e){return e!==null&&e>=0}function Rz(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function jz(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const x2=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=sy(t,r,n),o=t[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Rc={scaleX:1,scaleY:1},Mz=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=e;const a=(t=s[n])!=null?t:r;if(!a)return null;if(i===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...Rc}:null}const l=Iz(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...Rc}:i<n&&i>=o?{x:0,y:a.height+l,...Rc}:{x:0,y:0,...Rc}};function Iz(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const b2="Sortable",w2=Xe.createContext({activeIndex:-1,containerId:b2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:x2,disabled:{draggable:!1,droppable:!1}});function Az(e){let{children:t,id:n,items:r,strategy:i=x2,disabled:s=!1}=e;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=Ez(),d=Fl(b2,n),h=a.rect!==null,f=w.useMemo(()=>r.map(_=>typeof _=="object"&&"id"in _?_.id:_),[r]),g=o!=null,y=o?f.indexOf(o.id):-1,x=c?f.indexOf(c.id):-1,m=w.useRef(f),v=!Rz(f,m.current),b=x!==-1&&y===-1||v,k=jz(s);yr(()=>{v&&g&&u(f)},[v,f,g,u]),w.useEffect(()=>{m.current=f},[f]);const S=w.useMemo(()=>({activeIndex:y,containerId:d,disabled:k,disableTransforms:b,items:f,overIndex:x,useDragOverlay:h,sortedRects:Dz(f,l),strategy:i}),[y,d,k.draggable,k.droppable,b,f,x,l,h,i]);return Xe.createElement(w2.Provider,{value:S},t)}const Lz=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return sy(n,r,i).indexOf(t)},Nz=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&t===l},Fz={duration:200,easing:"ease"},_2="transform",zz=hl.Transition.toString({property:_2,duration:0,easing:"linear"}),$z={roleDescription:"sortable"};function Bz(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,o]=w.useState(null),a=w.useRef(n);return yr(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const c=Ro(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[t,n,r,i]),w.useEffect(()=>{s&&o(null)},[s]),s}function Uz(e){let{animateLayoutChanges:t=Nz,attributes:n,disabled:r,data:i,getNewIndex:s=Lz,id:o,strategy:a,resizeObserverConfig:l,transition:c=Fz}=e;const{items:u,containerId:d,activeIndex:h,disabled:f,disableTransforms:g,sortedRects:y,overIndex:x,useDragOverlay:m,strategy:v}=w.useContext(w2),b=Wz(r,f),k=u.indexOf(o),S=w.useMemo(()=>({sortable:{containerId:d,index:k,items:u},...i}),[d,i,k,u]),_=w.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:O,node:T,isOver:M,setNodeRef:E}=Tz({id:o,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...l}}),{active:I,activatorEvent:A,activeNodeRect:W,attributes:Y,setNodeRef:U,listeners:j,isDragging:F,over:D,setActivatorNodeRef:L,transform:C}=Cz({id:o,data:S,attributes:{...$z,...n},disabled:b.draggable}),X=rF(E,U),G=!!I,P=G&&!g&&Dc(h)&&Dc(x),ee=!m&&F,se=ee&&P?C:null,ze=P?se??(a??v)({rects:y,activeNodeRect:W,activeIndex:h,overIndex:x,index:k}):null,je=Dc(h)&&Dc(x)?s({id:o,items:u,activeIndex:h,overIndex:x}):k,Se=I==null?void 0:I.id,oe=w.useRef({activeId:Se,items:u,newIndex:je,containerId:d}),ct=u!==oe.current.items,et=t({active:I,containerId:d,isDragging:F,isSorting:G,id:o,index:k,items:u,newIndex:oe.current.newIndex,previousItems:oe.current.items,previousContainerId:oe.current.containerId,transition:c,wasDragging:oe.current.activeId!=null}),Pt=Bz({disabled:!et,index:k,node:T,rect:O});return w.useEffect(()=>{G&&oe.current.newIndex!==je&&(oe.current.newIndex=je),d!==oe.current.containerId&&(oe.current.containerId=d),u!==oe.current.items&&(oe.current.items=u)},[G,je,d,u]),w.useEffect(()=>{if(Se===oe.current.activeId)return;if(Se!=null&&oe.current.activeId==null){oe.current.activeId=Se;return}const tt=setTimeout(()=>{oe.current.activeId=Se},50);return()=>clearTimeout(tt)},[Se]),{active:I,activeIndex:h,attributes:Y,data:S,rect:O,index:k,newIndex:je,items:u,isOver:M,isSorting:G,isDragging:F,listeners:j,node:T,overIndex:x,over:D,setNodeRef:X,setActivatorNodeRef:L,setDroppableNodeRef:E,setDraggableNodeRef:U,transform:Pt??ze,transition:ge()};function ge(){if(Pt||ct&&oe.current.newIndex===k)return zz;if(!(ee&&!ey(A)||!c)&&(G||et))return hl.Transition.toString({...c,property:_2})}}function Wz(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}ke.Down,ke.Right,ke.Up,ke.Left;const Hz=({id:e,recipe:t})=>{const{attributes:n,listeners:r,setNodeRef:i,transform:s,transition:o}=Uz({id:e}),a={transform:hl.Transform.toString(s),transition:o,padding:"10px",border:"1px solid #ccc",borderRadius:"5px",marginBottom:"10px",background:"#f9f9f9",display:"flex",alignItems:"center"};return p.jsxs("li",{ref:i,style:a,...n,children:[p.jsx("span",{...r,style:{cursor:"grab",fontSize:"20px",marginRight:"10px",touchAction:"none"},className:"drag-handle",children:"☰"}),p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${t.image_path}`,alt:t.name,style:{width:"50px",height:"50px",borderRadius:"5px",marginRight:"10px"}}),p.jsx("span",{children:t.name})]})},Vz=({recipes:e,setRecipes:t})=>{const n=vF(yF(iy,{activationConstraint:{distance:10}})),r=i=>{const{active:s,over:o}=i;if(s.id!==(o==null?void 0:o.id)){const a=sy(e,e.findIndex(l=>l.id===s.id),e.findIndex(l=>l.id===o.id));t(a)}};return p.jsx(_z,{sensors:n,collisionDetection:kF,onDragEnd:r,children:p.jsx(Az,{items:e.map(i=>i.id),strategy:Mz,children:p.jsx("ul",{style:{listStyleType:"none",padding:0},children:e.map(i=>p.jsx(Hz,{id:i.id,recipe:i},i.id))})})})},qz=()=>{var Z,ie,ot,Ht,wt,Cn;const{fetchMealPlansByDate:e,fetchRecipesByIds:t,fetchRecipeIngredients:n,fetchRecipeSteps:r,fetchUserInventory:i,mealTypes:s,getStatusIdByName:o,fetchInventoryMealPlanData:a,fetchInventoryMealPlanByMealPlanId:l,enrichInventory:c}=Dl(),u=Qt();hm();const d=nr(),{planned_date:h,meal_type_id:f}=d.state||{},[g,y]=w.useState([]),[x,m]=w.useState(!0),[v,b]=w.useState(!1);w.useState([]),w.useState([]);const[k,S]=w.useState([]),[_,O]=w.useState(null),[T,M]=w.useState([]),[E,I]=w.useState(!0),[A,W]=w.useState([]),[Y,U]=w.useState(!1),j=Math.max(0,A.reduce((z,R)=>z+R.selectedQuantity,0)-((_==null?void 0:_.quantity)||0)),[F,D]=w.useState([]),[L,C]=w.useState(null);w.useEffect(()=>{h&&f&&(async()=>{try{m(!0);const N=(await e(h)).filter(le=>le.meal_type_id===f);if(N.length===0){console.warn("No meal plans found for the given date and meal type."),y([]),S([]);return}const $=N.map(le=>le.recipe_id),B=await t($);y(B);const H=[];for(const le of B){const Me=await n(le.id);H.push(...Me.map(Ce=>({...Ce,recipeId:le.id})))}const Q=N.map(le=>le.id);D(Q);const ae=await l(Q),ce=H.reduce((le,Me)=>{const Ce=le.find(ut=>ut.ingredients.id===Me.ingredients.id),Tt=ae.filter(ut=>ut.inventory.ingredient_id===Me.ingredients.id);return Ce?(Ce.quantity+=Me.quantity,Ce.recipes.push({recipeId:Me.recipeId,quantity:Me.quantity}),Ce.inventoryItems=[...Ce.inventoryItems||[],...Tt]):le.push({...Me,recipes:[{recipeId:Me.recipeId,quantity:Me.quantity}],inventoryItems:Tt}),le},[]);S(ce)}catch(R){console.error("Error loading data:",R.message)}finally{m(!1)}})()},[h,f,e,t,n,l]);const X=()=>{b(!0)},G=()=>{b(!1)},P=()=>{b(!1)},ee=(z,R)=>{const N=z.quantity,$=[...R].sort((ae,ce)=>{var Ce,Tt;const le=new Date(((Ce=ae.expiry_date)==null?void 0:Ce.date)||"9999-12-31"),Me=new Date(((Tt=ce.expiry_date)==null?void 0:Tt.date)||"9999-12-31");return le-Me!==0?le-Me:ae.quantity-ce.quantity});let B=N;const H=[];for(let ae=0;ae<$.length;ae++){const ce=$[ae];if(ce.quantity>=B){H.push({...ce,selectedQuantity:B,preselected:!0}),B=0;break}if(H.push({...ce,selectedQuantity:ce.quantity,preselected:!0}),B-=ce.quantity,B<=0)break}return $.map(ae=>{const ce=H.find(le=>le.id===ae.id);return ce||{...ae,preselected:!1,selectedQuantity:0}})},se=(z,R)=>(console.log("Processing Linked Inventory for Preselection:",z),z.map($=>$.inventory_id),R.map($=>{const B=z.find(H=>H.inventory_id===$.id);return console.log("Linked Item:",B),B?{...$,selectedQuantity:B.used_quantity,preselected:!0}:{...$,selectedQuantity:0,preselected:!1}})),te=async z=>{try{O(z),M([]),W([]),U(!1);const R=await i(z.ingredients.id),$=(await l(F)).filter(Q=>Q.inventory.ingredient_id===z.ingredients.id);let B;$.length>0?B=se($,R):B=ee(z,R);const H=B.map(Q=>{const ae=A.find(ce=>ce.id===Q.id);return ae?{...Q,selectedQuantity:ae.selectedQuantity,preselected:ae.preselected}:Q});M(R),W(H),C(z.quantity),U(!0)}catch(R){console.error("Error fetching inventory for ingredient:",R.message)}},ze=z=>{console.log("Before toggle:",A),W(R=>R.find($=>$.id===z.id)?R.map($=>$.id===z.id?{...$,preselected:!$.preselected}:$):[...R,{...z,selectedQuantity:z.selectedQuantity||1,preselected:!0}])},je=()=>{var N,$;const z=A.filter(B=>B.preselected),R=z.reduce((B,H)=>B+H.quantity,0);if(console.log("Currently Selected Inventory:",z),console.log("Total Selected Quantity:",R),!E&&z.length===0||E&&R<_.quantity){alert(`You must select at least ${E?`${_.quantity} ${((N=_.ingredients.unit)==null?void 0:N.unit_tag)||""}`:"one item"} to proceed. Now you have selected ${R} ${(($=_.ingredients.unit)==null?void 0:$.unit_tag)||""}.`);return}W(B=>B.map(H=>z.find(Q=>Q.id===H.id)?{...H,selectedQuantity:H.selectedQuantity||H.quantity}:H)),U(!0)},Se=(z,R)=>{W(N=>{const $=_.quantity;let B=N.reduce((Q,ae)=>Q+ae.selectedQuantity,0);const H=N.map(Q=>{if(Q.id===z){const ae=Math.max(1,Math.min(Q.selectedQuantity+R,Q.quantity));return B+=ae-Q.selectedQuantity,{...Q,selectedQuantity:ae}}return Q});if(E&&B>$){const Q=B-$;return ct(H,z,Q)}return H})},oe=(z,R)=>{W(N=>{const $=_.quantity,B=Math.max(1,parseInt(R)||1),H=N.map(Q=>Q.id===z?B>Q.quantity?(alert(`You cannot exceed the available quantity of ${Q.quantity}.`),Q):{...Q,selectedQuantity:B}:Q);if(E){const Q=H.reduce((ae,ce)=>ae+ce.selectedQuantity,0);if(Q>$){const ae=Q-$;return ct(H,z,ae)}return H}return H})},ct=(z,R,N)=>z.map($=>{if($.id===R||N<=0)return $;const B=Math.min($.selectedQuantity,N);return N-=B,{...$,selectedQuantity:$.selectedQuantity-B}}),et=async()=>{try{if(!_||!A||A.length===0){console.warn("Ingredient or inventory selection is missing.");return}const z=A.filter(Q=>Q.selectedQuantity>0);if(z.length===0){alert("No valid inventory selected. Please select quantities to proceed.");return}const R=await o("Planning");if(!R){alert("Failed to fetch status ID for 'Planning'.");return}const N=await c(z,_,h);for(const Q of N)if(Q.selectedQuantity>L){alert(`Selected quantity (${Q.selectedQuantity}) exceeds the required cap (${L}) for inventory ID ${Q.id}. Please adjust and try again.`);return}const $=N.map(Q=>({inventory_id:Q.id,meal_plan_id:Q.meal_plan_id,used_quantity:Q.selectedQuantity,status_id:R,created_at:new Date().toISOString(),ingredient_id:_.ingredients.id}));console.log("Filtered and Enriched Data to Insert:",$);const{data:B,error:H}=await ne.from("inventory_meal_plan").insert($);if(H)throw H;O(null),W([]),U(!1),alert("Quantities successfully logged to the console!")}catch(z){console.error("Error finalizing quantities:",z.message),alert("Failed to finalize quantities. Please try again.")}},Pt=()=>{const z=k.map(R=>{let N=R.quantity;const $=R.recipes.map(B=>{const H=Math.min(N,B.quantity);return N-=H,{recipeId:B.recipeId,quantity:H}});return{...R,recipes:$}});S(z)};if(w.useEffect(()=>{A.length>0&&Pt()},[A]),w.useEffect(()=>{j>0&&It()},[j]),x)return p.jsx("div",{children:"Loading preparation details..."});if(g.length===0)return p.jsx("div",{children:"No recipes found for this meal plan."});const ge=()=>{let z=_.quantity;const R=A.map(N=>{if(!N.preselected||z<=0)return{...N,selectedQuantity:0};const $=Math.min(N.quantity,z);return z-=$,{...N,selectedQuantity:$}});W(R),z>0&&alert(`Not enough inventory to fulfill the required amount of ${_.quantity}.`)},tt=z=>{const R=g.find(N=>N.id===z);return R?R.name:`Recipe ${z}`},Te=(z,R)=>{O(N=>{const $=Math.max(0,A.reduce((le,Me)=>le+Me.selectedQuantity,0)-(N.quantity||0)),B=N.recipes.map(le=>({...le})),H=B.find(le=>le.recipeId===z);if(!H)return N;const Q=H.exceedAllocation||0,ae=Math.max(0,Math.min(Q+R,$)),ce=ae-Q;if(ce===0)return N;if(H.exceedAllocation=ae,ce>0){for(const le of B)if(le.recipeId!==z&&le.exceedAllocation>0){le.exceedAllocation=Math.max(le.exceedAllocation-1,0);break}}else for(const le of B)if(le.recipeId!==z){le.exceedAllocation=Math.min((le.exceedAllocation||0)+1,$);break}return{...N,recipes:B}})},It=()=>{O(z=>{const R=z.recipes.length,N=Math.floor(j/R),$=z.recipes.map((B,H)=>{const Q=H===R-1?j-N*(R-1):N;return{...B,exceedAllocation:Q}});return{...z,recipes:$}})},Sn=(z,R)=>{const N=Math.max(0,Math.min(parseInt(R)||0,Math.max(0,A.reduce(($,B)=>$+B.selectedQuantity,0)-_.quantity)));O($=>{const B=$.recipes.map(H=>H.recipeId===z?{...H,exceedAllocation:N}:H);return{...$,recipes:B}})};return p.jsxs("div",{className:"recipe-preparation-page",children:[p.jsx(Rl,{onClick:()=>u(-1)}),p.jsx("h1",{children:"Recipe Preparation"}),p.jsxs("h3",{children:["Date: ",h]}),p.jsxs("h3",{children:["Meal Type: ",((Z=s.find(z=>z.id===f))==null?void 0:Z.name)||"Unknown"]}),g.map(z=>p.jsxs("div",{className:"recipe-details",children:[p.jsx("h2",{children:z.name}),p.jsx("img",{src:`https://wryzdgcrrejrwfqsdaog.supabase.co/storage/v1/object/public/${z.image_path}`,alt:z.name,style:{width:"300px",borderRadius:"10px"}}),p.jsx("p",{children:z.description}),p.jsxs("p",{children:[p.jsx("strong",{children:"Prep Time:"})," ",z.prep_time," mins"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Cook Time:"})," ",z.cook_time," mins"]}),p.jsxs("div",{children:[p.jsx("h3",{children:"Ingredients"}),p.jsx("ul",{children:k.filter(R=>R.recipes.some(N=>N.recipeId===z.id)).map((R,N)=>{var $;return p.jsxs("li",{onClick:()=>te(R),style:{cursor:"pointer",color:"blue",fontWeight:"bold",fontSize:"16px"},children:[R.ingredients.name," - ",R.quantity," ",(($=R.ingredients.unit)==null?void 0:$.unit_tag)||"",R.recipes.length>1&&p.jsx("ul",{style:{paddingLeft:"20px",marginTop:"5px",fontSize:"14px"},children:R.recipes.map(B=>{var H;return p.jsxs("li",{children:["Needed in ",tt(B.recipeId),":"," ",p.jsxs("strong",{children:[B.quantity," ",((H=R.ingredients.unit)==null?void 0:H.unit_tag)||""]})]},B.recipeId)})})]},N)})})]})]},z.id)),p.jsx("button",{style:{padding:"10px 20px",background:isCombined?"red":"green",color:"white",borderRadius:"5px",marginTop:"20px"},children:isCombined?"Separate Ingredients":"Combine Ingredients"}),p.jsx("button",{onClick:X,style:{padding:"10px 20px",background:"orange",color:"white",borderRadius:"5px",marginTop:"20px"},children:"Start Cooking"}),_&&p.jsx("div",{className:"modal-overlay",onClick:()=>O(null),children:p.jsx("div",{className:"modal-content",onClick:z=>z.stopPropagation(),style:{background:"white",padding:"20px",borderRadius:"10px"},children:Y?p.jsxs(p.Fragment,{children:[p.jsxs("h3",{children:["Adjust Quantities for: ",_.ingredients.name]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Required:"})," ",_.quantity," ",((Ht=_.ingredients.unit)==null?void 0:Ht.unit_tag)||""]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Your Adjusted Total:"})," ",A.filter(z=>z.preselected).reduce((z,R)=>z+R.selectedQuantity,0)," ",((wt=_.ingredients.unit)==null?void 0:wt.unit_tag)||""]}),p.jsx("div",{children:p.jsxs("label",{style:{display:"block",margin:"10px 0"},children:[p.jsx("input",{type:"checkbox",checked:E,onChange:()=>I(!E)}),"Cap total to match required quantity"]})}),p.jsx("button",{onClick:()=>U(!1),style:{marginTop:"10px",padding:"10px 20px",background:"orange",color:"white",borderRadius:"5px"},children:"Back to Select"}),p.jsx("ul",{children:A.filter(z=>z.preselected).map(z=>{var R,N;return p.jsxs("li",{children:[p.jsxs("label",{children:[z.quantity," ",((R=z.unit)==null?void 0:R.unit_tag)||""," (Expiry:"," ",((N=z.expiry_date)==null?void 0:N.date)||"No expiry date",")"]}),p.jsx("button",{onClick:()=>Se(z.id,-1),disabled:z.selectedQuantity<=1,style:{margin:"0 5px",backgroundColor:"blue",color:"white"},children:"-"}),p.jsx("input",{type:"number",min:"1",max:z.quantity,value:z.selectedQuantity,onChange:$=>oe(z.id,$.target.value),style:{width:"60px",margin:"0 10px",textAlign:"center"}}),p.jsx("button",{onClick:()=>Se(z.id,1),disabled:A.filter($=>$.preselected).length===1&&z.selectedQuantity>=z.quantity||z.selectedQuantity>=z.quantity,style:{margin:"0 5px",backgroundColor:"blue",color:"white"},children:"+"})]},z.id)})}),p.jsx("button",{onClick:ge,style:{marginTop:"10px",padding:"10px 20px",background:"blue",color:"white",borderRadius:"5px"},children:"Auto Adjust Quantities"}),p.jsx("button",{onClick:et,style:{marginTop:"10px",padding:"10px 20px",background:"green",color:"white",borderRadius:"5px"},children:"Finalize Quantities"}),!E&&p.jsxs("div",{style:{marginTop:"20px"},children:[p.jsx("h4",{children:"Exceed Amount:"}),p.jsxs("p",{children:[Math.max(0,A.reduce((z,R)=>z+R.selectedQuantity,0)-_.quantity)," ",((Cn=_.ingredients.unit)==null?void 0:Cn.unit_tag)||""]}),p.jsx("h4",{children:"Allocate Exceed Amount"}),p.jsx("ul",{children:_.recipes.map((z,R)=>{var N,$,B;return p.jsxs("li",{style:{marginBottom:"10px"},children:[p.jsxs("div",{children:[p.jsxs("strong",{children:[tt(z.recipeId),":"]})," ",p.jsxs("span",{children:["Original: ",z.quantity," ",((N=_.ingredients.unit)==null?void 0:N.unit_tag)||""]})," ","|"," ",p.jsxs("span",{children:["Exceed Allocated: ",z.exceedAllocation||0," ",(($=_.ingredients.unit)==null?void 0:$.unit_tag)||""]})," ","|"," ",p.jsx("span",{children:p.jsxs("strong",{children:["Total:"," ",z.quantity+(z.exceedAllocation||0)," ",((B=_.ingredients.unit)==null?void 0:B.unit_tag)||""]})})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("button",{onClick:()=>Te(z.recipeId,-1),disabled:z.exceedAllocation<=0,style:{background:"blue",color:"white",borderRadius:"5px"},children:"-"}),p.jsx("input",{type:"number",min:"0",max:Math.max(0,A.reduce((H,Q)=>H+Q.selectedQuantity,0)-_.quantity),value:z.exceedAllocation||0,onChange:H=>Sn(z.recipeId,H.target.value),style:{width:"60px",textAlign:"center",borderRadius:"5px",border:"1px solid #ccc",padding:"5px"}}),p.jsx("button",{onClick:()=>Te(z.recipeId,1),disabled:z.exceedAllocation>=Math.max(0,A.reduce((H,Q)=>H+Q.selectedQuantity,0)-_.quantity),style:{background:"blue",color:"white",borderRadius:"5px"},children:"+"})]})]},R)})}),p.jsx("button",{onClick:It,style:{marginTop:"10px",padding:"10px 20px",background:"blue",color:"white",borderRadius:"5px"},children:"Auto Adjust Exceed Quantities"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("h3",{children:["Select Inventory for: ",_.ingredients.name]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Required:"})," ",_.quantity," ",((ie=_.ingredients.unit)==null?void 0:ie.unit_tag)||""]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Your Selection:"})," ",A.filter(z=>z.preselected).reduce((z,R)=>z+R.quantity,0)," ",((ot=_.ingredients.unit)==null?void 0:ot.unit_tag)||""]}),_.recipes.length>0&&p.jsxs("div",{style:{marginTop:"15px"},children:[p.jsx("h4",{children:"Used in Recipes:"}),p.jsx("ul",{style:{paddingLeft:"20px",fontSize:"14px"},children:_.recipes.map(z=>{var R;return p.jsxs("li",{children:[tt(z.recipeId),":"," ",p.jsxs("strong",{children:[z.quantity," ",((R=_.ingredients.unit)==null?void 0:R.unit_tag)||""]})]},z.recipeId)})})]}),p.jsx("ul",{children:T.map(z=>{var R,N,$,B;return p.jsx("li",{style:{backgroundColor:(R=A.find(H=>H.id===z.id))!=null&&R.preselected?"lightgreen":"white",padding:"5px",borderRadius:"5px"},children:p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",checked:((N=A.find(H=>H.id===z.id))==null?void 0:N.preselected)||!1,onChange:()=>ze(z)}),z.quantity||0," ",(($=z.unit)==null?void 0:$.unit_tag)||"unit not specified"," (Expiry:"," ",((B=z.expiry_date)==null?void 0:B.date)||"No expiry date",")"]})},z.id)})}),p.jsx("div",{style:{margin:"10px 0"},children:p.jsxs("label",{style:{display:"block",margin:"10px 0"},children:[p.jsx("input",{type:"checkbox",checked:E,onChange:()=>I(!E)}),"Cap total to match required quantity"]})}),p.jsx("button",{onClick:je,style:{marginTop:"10px",padding:"10px 20px",background:"green",color:"white",borderRadius:"5px"},children:"Confirm Selection"})]})})}),v&&p.jsx("div",{className:"modal-overlay",onClick:P,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:p.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),style:{background:"white",padding:"20px",borderRadius:"10px",width:"400px",maxHeight:"90vh",overflowY:"auto"},children:[p.jsx("h3",{children:"Arrange Cooking Sequence"}),p.jsx(Vz,{recipes:g,setRecipes:y}),p.jsxs("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between"},children:[p.jsx("button",{onClick:P,style:{background:"red",color:"white",padding:"10px 20px",borderRadius:"5px"},children:"Cancel"}),p.jsx("button",{onClick:G,style:{background:"green",color:"white",padding:"10px 20px",borderRadius:"5px"},children:"Confirm"})]})]})})]})},Yz=()=>p.jsx("div",{children:p.jsx("h1",{children:"Favorites"})});var pb;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(pb||(pb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gb;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(gb||(gb={}));var mb;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(mb||(mb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=["user","model","function","system"];var vb;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(vb||(vb={}));var xb;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(xb||(xb={}));var bb;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(bb||(bb={}));var wb;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(wb||(wb={}));var ja;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(ja||(ja={}));var _b;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(_b||(_b={}));var kb;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(kb||(kb={}));var Sb;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Sb||(Sb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Ps extends on{constructor(t,n){super(t),this.response=n}}class k2 extends on{constructor(t,n,r,i){super(t),this.status=n,this.statusText=r,this.errorDetails=i}}class xi extends on{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="https://generativelanguage.googleapis.com",Kz="v1beta",Qz="0.21.0",Xz="genai-js";var ds;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ds||(ds={}));class Jz{constructor(t,n,r,i,s){this.model=t,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Kz;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Gz}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function Zz(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${Xz}/${Qz}`),t.join(" ")}async function e6(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Zz(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new xi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new xi(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new xi(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function t6(e,t,n,r,i,s){const o=new Jz(e,t,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},s6(s)),{method:"POST",headers:await e6(o),body:i})}}async function zl(e,t,n,r,i,s={},o=fetch){const{url:a,fetchOptions:l}=await t6(e,t,n,r,i,s);return n6(a,l,o)}async function n6(e,t,n=fetch){let r;try{r=await n(e,t)}catch(i){r6(i,e)}return r.ok||await i6(r,e),r}function r6(e,t){let n=e;throw e instanceof k2||e instanceof xi||(n=new on(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function i6(e,t){let n="",r;try{const i=await e.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new k2(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function s6(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),au(e.candidates[0]))throw new Ps(`${Zr(e)}`,e);return o6(e)}else if(e.promptFeedback)throw new Ps(`Text not available. ${Zr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),au(e.candidates[0]))throw new Ps(`${Zr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Cb(e)[0]}else if(e.promptFeedback)throw new Ps(`Function call not available. ${Zr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),au(e.candidates[0]))throw new Ps(`${Zr(e)}`,e);return Cb(e)}else if(e.promptFeedback)throw new Ps(`Function call not available. ${Zr(e)}`,e)},e}function o6(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function Cb(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const a6=[ja.RECITATION,ja.SAFETY,ja.LANGUAGE];function au(e){return!!e.finishReason&&a6.includes(e.finishReason)}function Zr(e){var t,n,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const s=e.candidates[0];au(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function pl(e){return this instanceof pl?(this.v=e,this):new pl(e)}function l6(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(g){d(s[0][3],g)}}function l(h){h.value instanceof pl?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function c6(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=h6(t),[r,i]=n.tee();return{stream:d6(r),response:u6(i)}}async function u6(e){const t=[],n=e.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return oy(f6(t));t.push(i)}}function d6(e){return l6(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:i}=yield pl(n.read());if(i)break;yield yield pl(oy(r))}})}function h6(e){const t=e.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return t.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new on("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match(Eb),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new on(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),i=i.substring(l[0].length),l=i.match(Eb)}return s()})}}})}function f6(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(e,t,n,r){const i=await zl(t,ds.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return c6(i)}async function C2(e,t,n,r){const s=await(await zl(t,ds.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:oy(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function gl(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return p6(t)}function p6(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),i=!0):(t.parts.push(s),r=!0);if(r&&i)throw new on("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new on("No content is provided for sending chat message.");return r?t:n}function g6(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new xi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const s=gl(e);r.contents=[s]}return{generateContentRequest:r}}function Ob(e){let t;return e.contents?t=e:t={contents:[gl(e)]},e.systemInstruction&&(t.systemInstruction=E2(e.systemInstruction)),t}function m6(e){return typeof e=="string"||Array.isArray(e)?{content:gl(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],y6={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function v6(e){let t=!1;for(const n of e){const{role:r,parts:i}=n;if(!t&&r!=="user")throw new on(`First content should be with role 'user', got ${r}`);if(!yb.includes(r))throw new on(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(yb)}`);if(!Array.isArray(i))throw new on("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new on("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of Pb)l in a&&(s[l]+=1);const o=y6[r];for(const a of Pb)if(!o.includes(a)&&s[a]>0)throw new on(`Content with role '${r}' can't contain '${a}' part`);t=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="SILENT_ERROR";class x6{constructor(t,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(v6(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,i,s,o,a,l;await this._sendPromise;const c=gl(t),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n);let h;return this._sendPromise=this._sendPromise.then(()=>C2(this._apiKey,this.model,u,d)).then(f=>{var g;if(f.response.candidates&&f.response.candidates.length>0){this._history.push(c);const y=Object.assign({parts:[],role:"model"},(g=f.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(y)}else{const y=Zr(f.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}h=f}),await this._sendPromise,h}async sendMessageStream(t,n={}){var r,i,s,o,a,l;await this._sendPromise;const c=gl(t),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),h=S2(this._apiKey,this.model,u,d);return this._sendPromise=this._sendPromise.then(()=>h).catch(f=>{throw new Error(Tb)}).then(f=>f.response).then(f=>{if(f.candidates&&f.candidates.length>0){this._history.push(c);const g=Object.assign({},f.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Zr(f);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(f=>{f.message!==Tb&&console.error(f)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(e,t,n,r){return(await zl(t,ds.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(e,t,n,r){return(await zl(t,ds.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function _6(e,t,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await zl(t,ds.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=E2(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const i=Ob(t),s=Object.assign(Object.assign({},this._requestOptions),n);return C2(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(t,n={}){var r;const i=Ob(t),s=Object.assign(Object.assign({},this._requestOptions),n);return S2(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(t){var n;return new x6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=g6(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return b6(this.apiKey,this.model,r,i)}async embedContent(t,n={}){const r=m6(t),i=Object.assign(Object.assign({},this._requestOptions),n);return w6(this.apiKey,this.model,r,i)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return _6(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new on("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Db(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new xi("Cached content must contain a `name` field.");if(!t.model)throw new xi("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new xi(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const s=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Db(this.apiKey,s,r)}}var O2={exports:{}},S6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",C6=S6,E6=C6;function P2(){}function T2(){}T2.resetWarningCache=P2;var O6=function(){function e(r,i,s,o,a,l){if(l!==E6){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:T2,resetWarningCache:P2};return n.PropTypes=n,n};O2.exports=O6();var P6=O2.exports;const fr=sd(P6);function T6(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const D6=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,R6=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,j6={};function Rb(e,t){return(j6.jsx?R6:D6).test(e)}const M6=/[ \t\n\f\r]/g;function I6(e){return typeof e=="object"?e.type==="text"?jb(e.value):!1:jb(e)}function jb(e){return e.replace(M6,"")===""}class $l{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}$l.prototype.property={};$l.prototype.normal={};$l.prototype.space=null;function D2(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new $l(n,r,t)}function ig(e){return e.toLowerCase()}class Nn{constructor(t,n){this.property=t,this.attribute=n}}Nn.prototype.space=null;Nn.prototype.boolean=!1;Nn.prototype.booleanish=!1;Nn.prototype.overloadedBoolean=!1;Nn.prototype.number=!1;Nn.prototype.commaSeparated=!1;Nn.prototype.spaceSeparated=!1;Nn.prototype.commaOrSpaceSeparated=!1;Nn.prototype.mustUseProperty=!1;Nn.prototype.defined=!1;let A6=0;const ue=bs(),ft=bs(),R2=bs(),q=bs(),Le=bs(),io=bs(),fn=bs();function bs(){return 2**++A6}const sg=Object.freeze(Object.defineProperty({__proto__:null,boolean:ue,booleanish:ft,commaOrSpaceSeparated:fn,commaSeparated:io,number:q,overloadedBoolean:R2,spaceSeparated:Le},Symbol.toStringTag,{value:"Module"})),sf=Object.keys(sg);class ay extends Nn{constructor(t,n,r,i){let s=-1;if(super(t,n),Mb(this,"space",i),typeof r=="number")for(;++s<sf.length;){const o=sf[s];Mb(this,sf[s],(r&sg[o])===sg[o])}}}ay.prototype.defined=!0;function Mb(e,t,n){n&&(e[t]=n)}const L6={}.hasOwnProperty;function jo(e){const t={},n={};let r;for(r in e.properties)if(L6.call(e.properties,r)){const i=e.properties[r],s=new ay(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[ig(r)]=r,n[ig(s.attribute)]=r}return new $l(t,n,e.space)}const j2=jo({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),M2=jo({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function I2(e,t){return t in e?e[t]:t}function A2(e,t){return I2(e,t.toLowerCase())}const L2=jo({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:A2,properties:{xmlns:null,xmlnsXLink:null}}),N2=jo({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ft,ariaAutoComplete:null,ariaBusy:ft,ariaChecked:ft,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Le,ariaCurrent:null,ariaDescribedBy:Le,ariaDetails:null,ariaDisabled:ft,ariaDropEffect:Le,ariaErrorMessage:null,ariaExpanded:ft,ariaFlowTo:Le,ariaGrabbed:ft,ariaHasPopup:null,ariaHidden:ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Le,ariaLevel:q,ariaLive:null,ariaModal:ft,ariaMultiLine:ft,ariaMultiSelectable:ft,ariaOrientation:null,ariaOwns:Le,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:ft,ariaReadOnly:ft,ariaRelevant:null,ariaRequired:ft,ariaRoleDescription:Le,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:ft,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null}}),N6=jo({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:A2,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:io,acceptCharset:Le,accessKey:Le,action:null,allow:null,allowFullScreen:ue,allowPaymentRequest:ue,allowUserMedia:ue,alt:null,as:null,async:ue,autoCapitalize:null,autoComplete:Le,autoFocus:ue,autoPlay:ue,blocking:Le,capture:null,charSet:null,checked:ue,cite:null,className:Le,cols:q,colSpan:null,content:null,contentEditable:ft,controls:ue,controlsList:Le,coords:q|io,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ue,defer:ue,dir:null,dirName:null,disabled:ue,download:R2,draggable:ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ue,formTarget:null,headers:Le,height:q,hidden:ue,high:q,href:null,hrefLang:null,htmlFor:Le,httpEquiv:Le,id:null,imageSizes:null,imageSrcSet:null,inert:ue,inputMode:null,integrity:null,is:null,isMap:ue,itemId:null,itemProp:Le,itemRef:Le,itemScope:ue,itemType:Le,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ue,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:ue,muted:ue,name:null,nonce:null,noModule:ue,noValidate:ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ue,optimum:q,pattern:null,ping:Le,placeholder:null,playsInline:ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ue,referrerPolicy:null,rel:Le,required:ue,reversed:ue,rows:q,rowSpan:q,sandbox:Le,scope:null,scoped:ue,seamless:ue,selected:ue,shadowRootClonable:ue,shadowRootDelegatesFocus:ue,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:ue,useMap:null,value:ft,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Le,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ue,declare:ue,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:ue,noHref:ue,noShade:ue,noWrap:ue,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:ft,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ue,disableRemotePlayback:ue,prefix:null,property:null,results:q,security:null,unselectable:null}}),F6=jo({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:I2,properties:{about:fn,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Le,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:io,g2:io,glyphName:io,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:fn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Le,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fn,rev:fn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fn,requiredFeatures:fn,requiredFonts:fn,requiredFormats:fn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:fn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fn,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),z6=/^data[-\w.:]+$/i,Ib=/-[a-z]/g,$6=/[A-Z]/g;function B6(e,t){const n=ig(t);let r=t,i=Nn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&z6.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Ib,W6);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Ib.test(s)){let o=s.replace($6,U6);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=ay}return new i(r,t)}function U6(e){return"-"+e.toLowerCase()}function W6(e){return e.charAt(1).toUpperCase()}const H6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},V6=D2([M2,j2,L2,N2,N6],"html"),ly=D2([M2,j2,L2,N2,F6],"svg");function q6(e){return e.join(" ").trim()}var F2={},Ab=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Y6=/\n/g,G6=/^\s*/,K6=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Q6=/^:\s*/,X6=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,J6=/^[;\s]*/,Z6=/^\s+|\s+$/g,e$=`
`,Lb="/",Nb="*",Gi="",t$="comment",n$="declaration",r$=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var y=g.match(Y6);y&&(n+=y.length);var x=g.lastIndexOf(e$);r=~x?g.length-x:r+g.length}function s(){var g={line:n,column:r};return function(y){return y.position=new o(g),c(),y}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(g){var y=g.exec(e);if(y){var x=y[0];return i(x),e=e.slice(x.length),y}}function c(){l(G6)}function u(g){var y;for(g=g||[];y=d();)y!==!1&&g.push(y);return g}function d(){var g=s();if(!(Lb!=e.charAt(0)||Nb!=e.charAt(1))){for(var y=2;Gi!=e.charAt(y)&&(Nb!=e.charAt(y)||Lb!=e.charAt(y+1));)++y;if(y+=2,Gi===e.charAt(y-1))return a("End of comment missing");var x=e.slice(2,y-2);return r+=2,i(x),e=e.slice(y),r+=2,g({type:t$,comment:x})}}function h(){var g=s(),y=l(K6);if(y){if(d(),!l(Q6))return a("property missing ':'");var x=l(X6),m=g({type:n$,property:Fb(y[0].replace(Ab,Gi)),value:x?Fb(x[0].replace(Ab,Gi)):Gi});return l(J6),m}}function f(){var g=[];u(g);for(var y;y=h();)y!==!1&&(g.push(y),u(g));return g}return c(),f()};function Fb(e){return e?e.replace(Z6,Gi):Gi}var i$=Ct&&Ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(F2,"__esModule",{value:!0});var zb=F2.default=o$,s$=i$(r$);function o$(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,s$.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?t(o,a,s):a&&(n=n||{},n[o]=a)}}),n}const a$=zb.default||zb,z2=$2("end"),cy=$2("start");function $2(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function l$(e){const t=cy(e),n=z2(e);if(t&&n)return{start:t,end:n}}function Ma(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$b(e.position):"start"in e||"end"in e?$b(e):"line"in e||"column"in e?og(e):""}function og(e){return Bb(e&&e.line)+":"+Bb(e&&e.column)}function $b(e){return og(e&&e.start)+"-"+og(e&&e.end)}function Bb(e){return e&&typeof e=="number"?e:1}class Wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Ma(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;const uy={}.hasOwnProperty,c$=new Map,u$=/[A-Z]/g,d$=/-([a-z])/g,h$=new Set(["table","tbody","thead","tfoot","tr"]),f$=new Set(["td","th"]),B2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function p$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=_$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=w$(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?ly:V6,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=U2(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function U2(e,t,n){if(t.type==="element")return g$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return m$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return v$(e,t,n);if(t.type==="mdxjsEsm")return y$(e,t);if(t.type==="root")return x$(e,t,n);if(t.type==="text")return b$(e,t)}function g$(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ly,e.schema=i),e.ancestors.push(t);const s=H2(e,t.tagName,!1),o=k$(e,t);let a=hy(e,t);return h$.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!I6(l):!0})),W2(e,o,s,t),dy(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function m$(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ml(e,t.position)}function y$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ml(e,t.position)}function v$(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=ly,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:H2(e,t.name,!0),o=S$(e,t),a=hy(e,t);return W2(e,o,s,t),dy(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function x$(e,t,n){const r={};return dy(r,hy(e,t)),e.create(t,e.Fragment,r,n)}function b$(e,t){return t.value}function W2(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function dy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function w$(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function _$(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=cy(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function k$(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&uy.call(t.properties,i)){const s=C$(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&f$.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function S$(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else ml(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else ml(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function hy(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:c$;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=U2(e,s,o);a!==void 0&&n.push(a)}return n}function C$(e,t,n){const r=B6(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?T6(n):q6(n)),r.property==="style"){let i=typeof n=="object"?n:E$(e,String(n));return e.stylePropertyNameCase==="css"&&(i=O$(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?H6[r.property]||r.property:r.attribute,n]}}function E$(e,t){const n={};try{a$(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new Wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=B2+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(d$,T$)),n[o]=s}}function H2(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Rb(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Rb(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return uy.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ml(e)}function ml(e,t){const n=new Wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=B2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function O$(e){const t={};let n;for(n in e)uy.call(e,n)&&(t[P$(n)]=e[n]);return t}function P$(e){let t=e.replace(u$,D$);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function T$(e,t){return t.toUpperCase()}function D$(e){return"-"+e.toLowerCase()}const of={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},R$={};function fy(e,t){const n=R$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return V2(e,r,i)}function V2(e,t,n){if(j$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ub(e.children,t,n)}return Array.isArray(e)?Ub(e,t,n):""}function Ub(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=V2(e[i],t,n);return r.join("")}function j$(e){return!!(e&&typeof e=="object")}const Wb=document.createElement("i");function py(e){const t="&"+e+";";Wb.innerHTML=t;const n=Wb.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function bn(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function jn(e,t){return e.length>0?(bn(e,e.length,0,t),e):t}const Hb={}.hasOwnProperty;function q2(e){const t={};let n=-1;for(;++n<e.length;)M$(t,e[n]);return t}function M$(e,t){let n;for(n in t){const i=(Hb.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Hb.call(i,o)||(i[o]=[]);const a=s[o];I$(i[o],Array.isArray(a)?a:a?[a]:[])}}}function I$(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);bn(e,0,0,r)}function Y2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Qn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qt=ji(/[A-Za-z]/),$t=ji(/[\dA-Za-z]/),A$=ji(/[#-'*+\--9=?A-Z^-~]/);function ed(e){return e!==null&&(e<32||e===127)}const ag=ji(/\d/),L$=ji(/[\dA-Fa-f]/),N$=ji(/[!-/:-@[-`{-~]/);function re(e){return e!==null&&e<-2}function Ie(e){return e!==null&&(e<0||e===32)}function fe(e){return e===-2||e===-1||e===32}const Kd=ji(new RegExp("\\p{P}|\\p{S}","u")),hs=ji(/\s/);function ji(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&$t(e.charCodeAt(n+1))&&$t(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function be(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return fe(l)?(e.enter(n),a(l)):t(l)}function a(l){return fe(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const F$={tokenize:z$};function z$(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),be(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return re(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const $$={tokenize:B$},Vb={tokenize:U$};function B$(e){const t=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const k=t.events.length;let S=k,_;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){_=t.events[S][1].end;break}m(r);let O=k;for(;O<t.events.length;)t.events[O][1].end={..._},O++;return bn(t.events,S+1,0,t.events.slice(k)),t.events.length=O,c(b)}return a(b)}function c(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return g(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Vb,u,d)(b)}function u(b){return i&&v(),m(r),h(b)}function d(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(b)}function h(b){return t.containerState={},e.attempt(Vb,f,g)(b)}function f(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function g(b){if(b===null){i&&v(),m(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(b)}function y(b){if(b===null){x(e.exit("chunkFlow"),!0),m(0),e.consume(b);return}return re(b)?(e.consume(b),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),y)}function x(b,k){const S=t.sliceStream(b);if(k&&S.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(S),t.parser.lazy[b.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const O=t.events.length;let T=O,M,E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(M){E=t.events[T][1].end;break}M=!0}for(m(r),_=O;_<t.events.length;)t.events[_][1].end={...E},_++;bn(t.events,T+1,0,t.events.slice(O)),t.events.length=_}}function m(b){let k=n.length;for(;k-- >b;){const S=n[k];t.containerState=S[1],S[0].exit.call(t,e)}n.length=b}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function U$(e,t,n){return be(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function vo(e){if(e===null||Ie(e)||hs(e))return 1;if(Kd(e))return 2}function Qd(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const lg={name:"attention",resolveAll:W$,tokenize:H$};function W$(e,t){let n=-1,r,i,s,o,a,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};qb(d,-l),qb(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=jn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=jn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=jn(c,Qd(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=jn(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=jn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,bn(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function H$(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=vo(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),u=vo(l),d=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(u||!d)),t(l)}}function qb(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const V$={name:"autolink",tokenize:q$};function q$(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return qt(f)?(e.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||$t(f)?(r=1,a(f)):c(f)}function a(f){return f===58?(e.consume(f),r=0,l):(f===43||f===45||f===46||$t(f))&&r++<32?(e.consume(f),a):(r=0,c(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||ed(f)?n(f):(e.consume(f),l)}function c(f){return f===64?(e.consume(f),u):A$(f)?(e.consume(f),c):n(f)}function u(f){return $t(f)?d(f):n(f)}function d(f){return f===46?(e.consume(f),r=0,u):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||$t(f))&&r++<63){const g=f===45?h:d;return e.consume(f),g}return n(f)}}const Bl={partial:!0,tokenize:Y$};function Y$(e,t,n){return r;function r(s){return fe(s)?be(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||re(s)?t(s):n(s)}}const G2={continuation:{tokenize:K$},exit:Q$,name:"blockQuote",tokenize:G$};function G$(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return fe(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function K$(e,t,n){const r=this;return i;function i(o){return fe(o)?be(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(G2,t,n)(o)}}function Q$(e){e.exit("blockQuote")}const K2={name:"characterEscape",tokenize:X$};function X$(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return N$(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Q2={name:"characterReference",tokenize:J$};function J$(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=$t,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=L$,u):(e.enter("characterReferenceValue"),s=7,o=ag,u(d))}function u(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===$t&&!py(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),u):n(d)}}const Yb={partial:!0,tokenize:e8},Gb={concrete:!0,name:"codeFenced",tokenize:Z$};function Z$(e,t,n){const r=this,i={partial:!0,tokenize:S};let s=0,o=0,a;return l;function l(_){return c(_)}function c(_){const O=r.events[r.events.length-1];return s=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(_)}function u(_){return _===a?(o++,e.consume(_),u):o<3?n(_):(e.exit("codeFencedFenceSequence"),fe(_)?be(e,d,"whitespace")(_):d(_))}function d(_){return _===null||re(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(Yb,y,k)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||re(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):fe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),be(e,f,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),h)}function f(_){return _===null||re(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||re(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===a?n(_):(e.consume(_),g)}function y(_){return e.attempt(i,k,x)(_)}function x(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),m}function m(_){return s>0&&fe(_)?be(e,v,"linePrefix",s+1)(_):v(_)}function v(_){return _===null||re(_)?e.check(Yb,y,k)(_):(e.enter("codeFlowValue"),b(_))}function b(_){return _===null||re(_)?(e.exit("codeFlowValue"),v(_)):(e.consume(_),b)}function k(_){return e.exit("codeFenced"),t(_)}function S(_,O,T){let M=0;return E;function E(U){return _.enter("lineEnding"),_.consume(U),_.exit("lineEnding"),I}function I(U){return _.enter("codeFencedFence"),fe(U)?be(_,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):A(U)}function A(U){return U===a?(_.enter("codeFencedFenceSequence"),W(U)):T(U)}function W(U){return U===a?(M++,_.consume(U),W):M>=o?(_.exit("codeFencedFenceSequence"),fe(U)?be(_,Y,"whitespace")(U):Y(U)):T(U)}function Y(U){return U===null||re(U)?(_.exit("codeFencedFence"),O(U)):T(U)}}}function e8(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const af={name:"codeIndented",tokenize:n8},t8={partial:!0,tokenize:r8};function n8(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),be(e,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):re(c)?e.attempt(t8,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||re(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function r8(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):be(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):re(o)?i(o):n(o)}}const i8={name:"codeText",previous:o8,resolve:s8,tokenize:a8};function s8(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function o8(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function a8(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,u(d)):re(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||re(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",c(d))}}class l8{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Zo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Zo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Zo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Zo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Zo(this.left,n.reverse())}}}function Zo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function X2(e){const t={};let n=-1,r,i,s,o,a,l,c;const u=new l8(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,c8(u,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return bn(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function c8(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let u,d,h=-1,f=n,g=0,y=0;const x=[y];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(y=h+1,x.push(y),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),h=x.length;h--;){const m=a.slice(x[h],x[h+1]),v=s.pop();l.push([v,v+m.length-1]),e.splice(v,2,m)}for(l.reverse(),h=-1;++h<l.length;)c[g+l[h][0]]=g+l[h][1],g+=l[h][1]-l[h][0]-1;return c}const u8={resolve:h8,tokenize:f8},d8={partial:!0,tokenize:p8};function h8(e){return X2(e),e}function f8(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):re(a)?e.check(d8,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function p8(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),be(e,s,"linePrefix")}function s(o){if(o===null||re(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function J2(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),h):m===null||m===32||m===41||ed(m)?n(m):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(m))}function h(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===62?(e.exit("chunkString"),e.exit(a),h(m)):m===null||m===60||re(m)?n(m):(e.consume(m),m===92?g:f)}function g(m){return m===60||m===62||m===92?(e.consume(m),f):f(m)}function y(m){return!u&&(m===null||m===41||Ie(m))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):u<c&&m===40?(e.consume(m),u++,y):m===41?(e.consume(m),u--,y):m===null||m===32||m===40||ed(m)?n(m):(e.consume(m),m===92?x:y)}function x(m){return m===40||m===41||m===92?(e.consume(m),y):y(m)}}function Z2(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),u}function u(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):re(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||re(f)||a++>999?(e.exit("chunkString"),u(f)):(e.consume(f),l||(l=!fe(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(e.consume(f),a++,d):d(f)}}function eC(e,t,n,r,i,s){let o;return a;function a(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),c(h))}function c(h){return h===o?(e.exit(s),l(o)):h===null?n(h):re(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),be(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||re(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(e.consume(h),u):u(h)}}function Ia(e,t){let n;return r;function r(i){return re(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):fe(i)?be(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const g8={name:"definition",tokenize:y8},m8={partial:!0,tokenize:v8};function y8(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),o(f)}function o(f){return Z2.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=Qn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):n(f)}function l(f){return Ie(f)?Ia(e,c)(f):c(f)}function c(f){return J2(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return e.attempt(m8,d,d)(f)}function d(f){return fe(f)?be(e,h,"whitespace")(f):h(f)}function h(f){return f===null||re(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function v8(e,t,n){return r;function r(a){return Ie(a)?Ia(e,i)(a):n(a)}function i(a){return eC(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return fe(a)?be(e,o,"whitespace")(a):o(a)}function o(a){return a===null||re(a)?t(a):n(a)}}const x8={name:"hardBreakEscape",tokenize:b8};function b8(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return re(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const w8={name:"headingAtx",resolve:_8,tokenize:k8};function _8(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},bn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function k8(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),s(u)}function s(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Ie(u)?(e.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||re(u)?(e.exit("atxHeading"),t(u)):fe(u)?be(e,a,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Ie(u)?(e.exit("atxHeadingText"),a(u)):(e.consume(u),c)}}const S8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kb=["pre","script","style","textarea"],C8={concrete:!0,name:"htmlFlow",resolveTo:P8,tokenize:T8},E8={partial:!0,tokenize:R8},O8={partial:!0,tokenize:D8};function P8(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function T8(e,t,n){const r=this;let i,s,o,a,l;return c;function c(P){return u(P)}function u(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),d}function d(P){return P===33?(e.consume(P),h):P===47?(e.consume(P),s=!0,y):P===63?(e.consume(P),i=3,r.interrupt?t:C):qt(P)?(e.consume(P),o=String.fromCharCode(P),x):n(P)}function h(P){return P===45?(e.consume(P),i=2,f):P===91?(e.consume(P),i=5,a=0,g):qt(P)?(e.consume(P),i=4,r.interrupt?t:C):n(P)}function f(P){return P===45?(e.consume(P),r.interrupt?t:C):n(P)}function g(P){const ee="CDATA[";return P===ee.charCodeAt(a++)?(e.consume(P),a===ee.length?r.interrupt?t:A:g):n(P)}function y(P){return qt(P)?(e.consume(P),o=String.fromCharCode(P),x):n(P)}function x(P){if(P===null||P===47||P===62||Ie(P)){const ee=P===47,se=o.toLowerCase();return!ee&&!s&&Kb.includes(se)?(i=1,r.interrupt?t(P):A(P)):S8.includes(o.toLowerCase())?(i=6,ee?(e.consume(P),m):r.interrupt?t(P):A(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?v(P):b(P))}return P===45||$t(P)?(e.consume(P),o+=String.fromCharCode(P),x):n(P)}function m(P){return P===62?(e.consume(P),r.interrupt?t:A):n(P)}function v(P){return fe(P)?(e.consume(P),v):E(P)}function b(P){return P===47?(e.consume(P),E):P===58||P===95||qt(P)?(e.consume(P),k):fe(P)?(e.consume(P),b):E(P)}function k(P){return P===45||P===46||P===58||P===95||$t(P)?(e.consume(P),k):S(P)}function S(P){return P===61?(e.consume(P),_):fe(P)?(e.consume(P),S):b(P)}function _(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),l=P,O):fe(P)?(e.consume(P),_):T(P)}function O(P){return P===l?(e.consume(P),l=null,M):P===null||re(P)?n(P):(e.consume(P),O)}function T(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Ie(P)?S(P):(e.consume(P),T)}function M(P){return P===47||P===62||fe(P)?b(P):n(P)}function E(P){return P===62?(e.consume(P),I):n(P)}function I(P){return P===null||re(P)?A(P):fe(P)?(e.consume(P),I):n(P)}function A(P){return P===45&&i===2?(e.consume(P),j):P===60&&i===1?(e.consume(P),F):P===62&&i===4?(e.consume(P),X):P===63&&i===3?(e.consume(P),C):P===93&&i===5?(e.consume(P),L):re(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(E8,G,W)(P)):P===null||re(P)?(e.exit("htmlFlowData"),W(P)):(e.consume(P),A)}function W(P){return e.check(O8,Y,G)(P)}function Y(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),U}function U(P){return P===null||re(P)?W(P):(e.enter("htmlFlowData"),A(P))}function j(P){return P===45?(e.consume(P),C):A(P)}function F(P){return P===47?(e.consume(P),o="",D):A(P)}function D(P){if(P===62){const ee=o.toLowerCase();return Kb.includes(ee)?(e.consume(P),X):A(P)}return qt(P)&&o.length<8?(e.consume(P),o+=String.fromCharCode(P),D):A(P)}function L(P){return P===93?(e.consume(P),C):A(P)}function C(P){return P===62?(e.consume(P),X):P===45&&i===2?(e.consume(P),C):A(P)}function X(P){return P===null||re(P)?(e.exit("htmlFlowData"),G(P)):(e.consume(P),X)}function G(P){return e.exit("htmlFlow"),t(P)}}function D8(e,t,n){const r=this;return i;function i(o){return re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function R8(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Bl,t,n)}}const j8={name:"htmlText",tokenize:M8};function M8(e,t,n){const r=this;let i,s,o;return a;function a(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),l}function l(C){return C===33?(e.consume(C),c):C===47?(e.consume(C),S):C===63?(e.consume(C),b):qt(C)?(e.consume(C),T):n(C)}function c(C){return C===45?(e.consume(C),u):C===91?(e.consume(C),s=0,g):qt(C)?(e.consume(C),v):n(C)}function u(C){return C===45?(e.consume(C),f):n(C)}function d(C){return C===null?n(C):C===45?(e.consume(C),h):re(C)?(o=d,F(C)):(e.consume(C),d)}function h(C){return C===45?(e.consume(C),f):d(C)}function f(C){return C===62?j(C):C===45?h(C):d(C)}function g(C){const X="CDATA[";return C===X.charCodeAt(s++)?(e.consume(C),s===X.length?y:g):n(C)}function y(C){return C===null?n(C):C===93?(e.consume(C),x):re(C)?(o=y,F(C)):(e.consume(C),y)}function x(C){return C===93?(e.consume(C),m):y(C)}function m(C){return C===62?j(C):C===93?(e.consume(C),m):y(C)}function v(C){return C===null||C===62?j(C):re(C)?(o=v,F(C)):(e.consume(C),v)}function b(C){return C===null?n(C):C===63?(e.consume(C),k):re(C)?(o=b,F(C)):(e.consume(C),b)}function k(C){return C===62?j(C):b(C)}function S(C){return qt(C)?(e.consume(C),_):n(C)}function _(C){return C===45||$t(C)?(e.consume(C),_):O(C)}function O(C){return re(C)?(o=O,F(C)):fe(C)?(e.consume(C),O):j(C)}function T(C){return C===45||$t(C)?(e.consume(C),T):C===47||C===62||Ie(C)?M(C):n(C)}function M(C){return C===47?(e.consume(C),j):C===58||C===95||qt(C)?(e.consume(C),E):re(C)?(o=M,F(C)):fe(C)?(e.consume(C),M):j(C)}function E(C){return C===45||C===46||C===58||C===95||$t(C)?(e.consume(C),E):I(C)}function I(C){return C===61?(e.consume(C),A):re(C)?(o=I,F(C)):fe(C)?(e.consume(C),I):M(C)}function A(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,W):re(C)?(o=A,F(C)):fe(C)?(e.consume(C),A):(e.consume(C),Y)}function W(C){return C===i?(e.consume(C),i=void 0,U):C===null?n(C):re(C)?(o=W,F(C)):(e.consume(C),W)}function Y(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Ie(C)?M(C):(e.consume(C),Y)}function U(C){return C===47||C===62||Ie(C)?M(C):n(C)}function j(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function F(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),D}function D(C){return fe(C)?be(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):L(C)}function L(C){return e.enter("htmlTextData"),o(C)}}const gy={name:"labelEnd",resolveAll:N8,resolveTo:F8,tokenize:z8},I8={tokenize:$8},A8={tokenize:B8},L8={tokenize:U8};function N8(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&bn(e,0,e.length,n),e}function F8(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=jn(a,e.slice(s+1,s+r+3)),a=jn(a,[["enter",u,t]]),a=jn(a,Qd(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=jn(a,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),a=jn(a,e.slice(o+1)),a=jn(a,[["exit",l,t]]),bn(e,s,e.length,a),e}function z8(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?d(h):(o=r.parser.defined.includes(Qn(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(I8,u,o?u:d)(h):h===91?e.attempt(A8,u,o?c:d)(h):o?u(h):d(h)}function c(h){return e.attempt(L8,u,d)(h)}function u(h){return t(h)}function d(h){return s._balanced=!0,n(h)}}function $8(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ie(d)?Ia(e,s)(d):s(d)}function s(d){return d===41?u(d):J2(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ie(d)?Ia(e,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?eC(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Ie(d)?Ia(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function B8(e,t,n){const r=this;return i;function i(a){return Z2.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Qn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function U8(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const W8={name:"labelStartImage",resolveAll:gy.resolveAll,tokenize:H8};function H8(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const V8={name:"labelStartLink",resolveAll:gy.resolveAll,tokenize:q8};function q8(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const lf={name:"lineEnding",tokenize:Y8};function Y8(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),be(e,t,"linePrefix")}}const lu={name:"thematicBreak",tokenize:G8};function G8(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||re(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),fe(c)?be(e,a,"whitespace")(c):a(c))}}const tn={continuation:{tokenize:J8},exit:eB,name:"list",tokenize:X8},K8={partial:!0,tokenize:tB},Q8={partial:!0,tokenize:Z8};function X8(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(f){const g=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:ag(f)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(lu,n,c)(f):c(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return n(f)}function l(f){return ag(f)&&++o<10?(e.consume(f),l):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(Bl,r.interrupt?n:u,e.attempt(K8,h,d))}function u(f){return r.containerState.initialBlankLine=!0,s++,h(f)}function d(f){return fe(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function J8(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Bl,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,be(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!fe(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Q8,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,be(e,e.attempt(tn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Z8(e,t,n){const r=this;return be(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function eB(e){e.exit(this.containerState.type)}function tB(e,t,n){const r=this;return be(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!fe(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Qb={name:"setextUnderline",resolveTo:nB,tokenize:rB};function nB(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function rB(e,t,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),fe(c)?be(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||re(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const iB={tokenize:sB};function sB(e){const t=this,n=e.attempt(Bl,r,e.attempt(this.parser.constructs.flowInitial,i,be(e,e.attempt(this.parser.constructs.flow,i,e.attempt(u8,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const oB={resolveAll:nC()},aB=tC("string"),lB=tC("text");function tC(e){return{resolveAll:nC(e==="text"?cB:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function nC(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function cB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const uB={42:tn,43:tn,45:tn,48:tn,49:tn,50:tn,51:tn,52:tn,53:tn,54:tn,55:tn,56:tn,57:tn,62:G2},dB={91:g8},hB={[-2]:af,[-1]:af,32:af},fB={35:w8,42:lu,45:[Qb,lu],60:C8,61:Qb,95:lu,96:Gb,126:Gb},pB={38:Q2,92:K2},gB={[-5]:lf,[-4]:lf,[-3]:lf,33:W8,38:Q2,42:lg,60:[V$,j8],91:V8,92:[x8,K2],93:gy,95:lg,96:i8},mB={null:[lg,oB]},yB={null:[42,95]},vB={null:[]},xB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yB,contentInitial:dB,disable:vB,document:uB,flow:fB,flowInitial:hB,insideSpan:mB,string:pB,text:gB},Symbol.toStringTag,{value:"Module"}));function bB(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:O(S),check:O(_),consume:v,enter:b,exit:k,interrupt:O(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function d(I){return o=jn(o,I),x(),o[o.length-1]!==null?[]:(T(t,0),c.events=Qd(s,c.events,c),c.events)}function h(I,A){return _B(f(I),A)}function f(I){return wB(o,I)}function g(){const{_bufferIndex:I,_index:A,line:W,column:Y,offset:U}=r;return{_bufferIndex:I,_index:A,line:W,column:Y,offset:U}}function y(I){i[I.line]=I.column,E()}function x(){let I;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<A.length;)m(A.charCodeAt(r._bufferIndex));else m(A)}}function m(I){u=u(I)}function v(I){re(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,E()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=I}function b(I,A){const W=A||{};return W.type=I,W.start=g(),c.events.push(["enter",W,c]),a.push(W),W}function k(I){const A=a.pop();return A.end=g(),c.events.push(["exit",A,c]),A}function S(I,A){T(I,A.from)}function _(I,A){A.restore()}function O(I,A){return W;function W(Y,U,j){let F,D,L,C;return Array.isArray(Y)?G(Y):"tokenize"in Y?G([Y]):X(Y);function X(te){return ze;function ze(je){const Se=je!==null&&te[je],oe=je!==null&&te.null,ct=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return G(ct)(je)}}function G(te){return F=te,D=0,te.length===0?j:P(te[D])}function P(te){return ze;function ze(je){return C=M(),L=te,te.partial||(c.currentConstruct=te),te.name&&c.parser.constructs.disable.null.includes(te.name)?se():te.tokenize.call(A?Object.assign(Object.create(c),A):c,l,ee,se)(je)}}function ee(te){return I(L,C),U}function se(te){return C.restore(),++D<F.length?P(F[D]):j}}}function T(I,A){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&bn(c.events,A,c.events.length-A,I.resolve(c.events.slice(A),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function M(){const I=g(),A=c.previous,W=c.currentConstruct,Y=c.events.length,U=Array.from(a);return{from:Y,restore:j};function j(){r=I,c.previous=A,c.currentConstruct=W,c.events.length=Y,a=U,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function wB(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function _B(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function kB(e){const r={constructs:q2([xB,...(e||{}).extensions||[]]),content:i(F$),defined:[],document:i($$),flow:i(iB),lazy:{},string:i(aB),text:i(lB)};return r;function i(s){return o;function o(a){return bB(r,s,a)}}}function SB(e){for(;!X2(e););return e}const Xb=/[\0\t\n\r]/g;function CB(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,h,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Xb.lastIndex=d,c=Xb.exec(s),h=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(h),!c){t=s.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(s.slice(d,h)),e+=h-d),f){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const EB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OB(e){return e.replace(EB,PB)}function PB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Y2(n.slice(s?2:1),s?16:10)}return py(n)||e}const rC={}.hasOwnProperty;function TB(e,t,n){return typeof t!="string"&&(n=t,t=void 0),DB(n)(SB(kB(n).document().write(CB()(e,t,!0))))}function DB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Z),autolinkProtocol:M,autolinkEmail:M,atxHeading:s(tt),blockQuote:s(oe),characterEscape:M,characterReference:M,codeFenced:s(ct),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ct,o),codeText:s(et,o),codeTextData:M,data:M,codeFlowValue:M,definition:s(Pt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ge),hardBreakEscape:s(Te),hardBreakTrailing:s(Te),htmlFlow:s(It,o),htmlFlowData:M,htmlText:s(It,o),htmlTextData:M,image:s(Sn),label:o,link:s(Z),listItem:s(ot),listItemValue:h,listOrdered:s(ie,d),listUnordered:s(ie),paragraph:s(Ht),reference:P,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(tt),strong:s(wt),thematicBreak:s(z)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:Se,autolinkProtocol:je,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:se,characterReferenceMarkerNumeric:se,characterReferenceValue:te,characterReference:ze,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:f,codeFencedFenceMeta:g,codeFlowValue:E,codeIndented:l(m),codeText:l(U),codeTextData:E,data:E,definition:l(),definitionDestinationString:k,definitionLabelString:v,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(W),htmlFlowData:E,htmlText:l(Y),htmlTextData:E,image:l(F),label:L,labelText:D,lineEnding:I,link:l(j),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:C,resourceTitleString:X,resource:G,setextHeading:l(T),setextHeadingLineSequence:O,setextHeadingText:_,strong:l(),thematicBreak:l()}};iC(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(R){let N={type:"root",children:[]};const $={stack:[N],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:u,data:n},B=[];let H=-1;for(;++H<R.length;)if(R[H][1].type==="listOrdered"||R[H][1].type==="listUnordered")if(R[H][0]==="enter")B.push(H);else{const Q=B.pop();H=i(R,Q,H)}for(H=-1;++H<R.length;){const Q=t[R[H][0]];rC.call(Q,R[H][1].type)&&Q[R[H][1].type].call(Object.assign({sliceSerialize:R[H][2].sliceSerialize},$),R[H][1])}if($.tokenStack.length>0){const Q=$.tokenStack[$.tokenStack.length-1];(Q[1]||Jb).call($,void 0,Q[0])}for(N.position={start:Vr(R.length>0?R[0][1].start:{line:1,column:1,offset:0}),end:Vr(R.length>0?R[R.length-2][1].end:{line:1,column:1,offset:0})},H=-1;++H<t.transforms.length;)N=t.transforms[H](N)||N;return N}function i(R,N,$){let B=N-1,H=-1,Q=!1,ae,ce,le,Me;for(;++B<=$;){const Ce=R[B];switch(Ce[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ce[0]==="enter"?H++:H--,Me=void 0;break}case"lineEndingBlank":{Ce[0]==="enter"&&(ae&&!Me&&!H&&!le&&(le=B),Me=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Me=void 0}if(!H&&Ce[0]==="enter"&&Ce[1].type==="listItemPrefix"||H===-1&&Ce[0]==="exit"&&(Ce[1].type==="listUnordered"||Ce[1].type==="listOrdered")){if(ae){let Tt=B;for(ce=void 0;Tt--;){const ut=R[Tt];if(ut[1].type==="lineEnding"||ut[1].type==="lineEndingBlank"){if(ut[0]==="exit")continue;ce&&(R[ce][1].type="lineEndingBlank",Q=!0),ut[1].type="lineEnding",ce=Tt}else if(!(ut[1].type==="linePrefix"||ut[1].type==="blockQuotePrefix"||ut[1].type==="blockQuotePrefixWhitespace"||ut[1].type==="blockQuoteMarker"||ut[1].type==="listItemIndent"))break}le&&(!ce||le<ce)&&(ae._spread=!0),ae.end=Object.assign({},ce?R[ce][1].start:Ce[1].end),R.splice(ce||B,0,["exit",ae,Ce[2]]),B++,$++}if(Ce[1].type==="listItemPrefix"){const Tt={type:"listItem",_spread:!1,start:Object.assign({},Ce[1].start),end:void 0};ae=Tt,R.splice(B,0,["enter",Tt,Ce[2]]),B++,$++,le=void 0,Me=!0}}}return R[N][1]._spread=Q,$}function s(R,N){return $;function $(B){a.call(this,R(B),B),N&&N.call(this,B)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(R,N,$){this.stack[this.stack.length-1].children.push(R),this.stack.push(R),this.tokenStack.push([N,$||void 0]),R.position={start:Vr(N.start),end:void 0}}function l(R){return N;function N($){R&&R.call(this,$),c.call(this,$)}}function c(R,N){const $=this.stack.pop(),B=this.tokenStack.pop();if(B)B[0].type!==R.type&&(N?N.call(this,R,B[0]):(B[1]||Jb).call(this,R,B[0]));else throw new Error("Cannot close `"+R.type+"` ("+Ma({start:R.start,end:R.end})+"): it’s not open");$.position.end=Vr(R.end)}function u(){return fy(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(R){if(this.data.expectingFirstListItemValue){const N=this.stack[this.stack.length-2];N.start=Number.parseInt(this.sliceSerialize(R),10),this.data.expectingFirstListItemValue=void 0}}function f(){const R=this.resume(),N=this.stack[this.stack.length-1];N.lang=R}function g(){const R=this.resume(),N=this.stack[this.stack.length-1];N.meta=R}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const R=this.resume(),N=this.stack[this.stack.length-1];N.value=R.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const R=this.resume(),N=this.stack[this.stack.length-1];N.value=R.replace(/(\r?\n|\r)$/g,"")}function v(R){const N=this.resume(),$=this.stack[this.stack.length-1];$.label=N,$.identifier=Qn(this.sliceSerialize(R)).toLowerCase()}function b(){const R=this.resume(),N=this.stack[this.stack.length-1];N.title=R}function k(){const R=this.resume(),N=this.stack[this.stack.length-1];N.url=R}function S(R){const N=this.stack[this.stack.length-1];if(!N.depth){const $=this.sliceSerialize(R).length;N.depth=$}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function O(R){const N=this.stack[this.stack.length-1];N.depth=this.sliceSerialize(R).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function M(R){const $=this.stack[this.stack.length-1].children;let B=$[$.length-1];(!B||B.type!=="text")&&(B=Cn(),B.position={start:Vr(R.start),end:void 0},$.push(B)),this.stack.push(B)}function E(R){const N=this.stack.pop();N.value+=this.sliceSerialize(R),N.position.end=Vr(R.end)}function I(R){const N=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $=N.children[N.children.length-1];$.position.end=Vr(R.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(N.type)&&(M.call(this,R),E.call(this,R))}function A(){this.data.atHardBreak=!0}function W(){const R=this.resume(),N=this.stack[this.stack.length-1];N.value=R}function Y(){const R=this.resume(),N=this.stack[this.stack.length-1];N.value=R}function U(){const R=this.resume(),N=this.stack[this.stack.length-1];N.value=R}function j(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const N=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=N,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function F(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const N=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=N,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function D(R){const N=this.sliceSerialize(R),$=this.stack[this.stack.length-2];$.label=OB(N),$.identifier=Qn(N).toLowerCase()}function L(){const R=this.stack[this.stack.length-1],N=this.resume(),$=this.stack[this.stack.length-1];if(this.data.inReference=!0,$.type==="link"){const B=R.children;$.children=B}else $.alt=N}function C(){const R=this.resume(),N=this.stack[this.stack.length-1];N.url=R}function X(){const R=this.resume(),N=this.stack[this.stack.length-1];N.title=R}function G(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function ee(R){const N=this.resume(),$=this.stack[this.stack.length-1];$.label=N,$.identifier=Qn(this.sliceSerialize(R)).toLowerCase(),this.data.referenceType="full"}function se(R){this.data.characterReferenceType=R.type}function te(R){const N=this.sliceSerialize(R),$=this.data.characterReferenceType;let B;$?(B=Y2(N,$==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):B=py(N);const H=this.stack[this.stack.length-1];H.value+=B}function ze(R){const N=this.stack.pop();N.position.end=Vr(R.end)}function je(R){E.call(this,R);const N=this.stack[this.stack.length-1];N.url=this.sliceSerialize(R)}function Se(R){E.call(this,R);const N=this.stack[this.stack.length-1];N.url="mailto:"+this.sliceSerialize(R)}function oe(){return{type:"blockquote",children:[]}}function ct(){return{type:"code",lang:null,meta:null,value:""}}function et(){return{type:"inlineCode",value:""}}function Pt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function Te(){return{type:"break"}}function It(){return{type:"html",value:""}}function Sn(){return{type:"image",title:null,url:"",alt:null}}function Z(){return{type:"link",title:null,url:"",children:[]}}function ie(R){return{type:"list",ordered:R.type==="listOrdered",start:null,spread:R._spread,children:[]}}function ot(R){return{type:"listItem",spread:R._spread,checked:null,children:[]}}function Ht(){return{type:"paragraph",children:[]}}function wt(){return{type:"strong",children:[]}}function Cn(){return{type:"text",value:""}}function z(){return{type:"thematicBreak"}}}function Vr(e){return{line:e.line,column:e.column,offset:e.offset}}function iC(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?iC(e,r):RB(e,r)}}function RB(e,t){let n;for(n in t)if(rC.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Jb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ma({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is still open")}function jB(e){const t=this;t.parser=n;function n(r){return TB(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function MB(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function IB(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function AB(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function LB(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NB(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FB(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Mo(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function zB(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $B(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function sC(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function BB(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return sC(e,t);const i={src:Mo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function UB(e,t){const n={src:Mo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function WB(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function HB(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return sC(e,t);const i={href:Mo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function VB(e,t){const n={href:Mo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qB(e,t,n){const r=e.all(t),i=n?YB(n):oC(t),s={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function YB(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=oC(n[r])}return t}function oC(e){const t=e.spread;return t??e.children.length>1}function GB(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function KB(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QB(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function XB(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JB(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=cy(t.children[1]),l=z2(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function ZB(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const d=t.children[l],h={},f=o?o[l]:void 0;f&&(h.align=f);let g={type:"element",tagName:s,properties:h,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function e7(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Zb=9,ew=32;function t7(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(tw(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(tw(t.slice(i),i>0,!1)),s.join("")}function tw(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Zb||s===ew;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Zb||s===ew;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function n7(e,t){const n={type:"text",value:t7(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function r7(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const i7={blockquote:MB,break:IB,code:AB,delete:LB,emphasis:NB,footnoteReference:FB,heading:zB,html:$B,imageReference:BB,image:UB,inlineCode:WB,linkReference:HB,link:VB,listItem:qB,list:GB,paragraph:KB,root:QB,strong:XB,table:JB,tableCell:e7,tableRow:ZB,text:n7,thematicBreak:r7,toml:jc,yaml:jc,definition:jc,footnoteDefinition:jc};function jc(){}const aC=-1,Xd=0,td=1,nd=2,my=3,yy=4,vy=5,xy=6,lC=7,cC=8,nw=typeof self=="object"?self:globalThis,s7=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Xd:case aC:return n(o,i);case td:{const a=n([],i);for(const l of o)a.push(r(l));return a}case nd:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case my:return n(new Date(o),i);case yy:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case vy:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case xy:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case lC:{const{name:a,message:l}=o;return n(new nw[a](l),i)}case cC:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new nw[s](o),i)};return r},rw=e=>s7(new Map,e)(0),Ts="",{toString:o7}={},{keys:a7}=Object,ea=e=>{const t=typeof e;if(t!=="object"||!e)return[Xd,t];const n=o7.call(e).slice(8,-1);switch(n){case"Array":return[td,Ts];case"Object":return[nd,Ts];case"Date":return[my,Ts];case"RegExp":return[yy,Ts];case"Map":return[vy,Ts];case"Set":return[xy,Ts]}return n.includes("Array")?[td,n]:n.includes("Error")?[lC,n]:[nd,n]},Mc=([e,t])=>e===Xd&&(t==="function"||t==="symbol"),l7=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=ea(o);switch(a){case Xd:{let u=o;switch(l){case"bigint":a=cC,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([aC],o)}return i([a,u],o)}case td:{if(l)return i([l,[...o]],o);const u=[],d=i([a,u],o);for(const h of o)u.push(s(h));return d}case nd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const h of a7(o))(e||!Mc(ea(o[h])))&&u.push([s(h),s(o[h])]);return d}case my:return i([a,o.toISOString()],o);case yy:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case vy:{const u=[],d=i([a,u],o);for(const[h,f]of o)(e||!(Mc(ea(h))||Mc(ea(f))))&&u.push([s(h),s(f)]);return d}case xy:{const u=[],d=i([a,u],o);for(const h of o)(e||!Mc(ea(h)))&&u.push(s(h));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},iw=(e,{json:t,lossy:n}={})=>{const r=[];return l7(!(t||n),!!t,new Map,r)(e),r},rd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?rw(iw(e,t)):structuredClone(e):(e,t)=>rw(iw(e,t));function c7(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function u7(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function d7(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||c7,r=e.options.footnoteBackLabel||u7,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),d=String(c.identifier).toUpperCase(),h=Mo(d.toLowerCase());let f=0;const g=[],y=e.footnoteCounts.get(d);for(;y!==void 0&&++f<=y;){g.length>0&&g.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,f);typeof v=="string"&&(v={type:"text",value:v}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const x=u[u.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const v=x.children[x.children.length-1];v&&v.type==="text"?v.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else u.push(...g);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(c,m),a.push(m)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...rd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Jd=function(e){if(e==null)return g7;if(typeof e=="function")return Zd(e);if(typeof e=="object")return Array.isArray(e)?h7(e):f7(e);if(typeof e=="string")return p7(e);throw new Error("Expected function, string, or object as test")};function h7(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Jd(e[n]);return Zd(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function f7(e){const t=e;return Zd(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function p7(e){return Zd(t);function t(n){return n&&n.type===e}}function Zd(e){return t;function t(n,r,i){return!!(m7(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function g7(){return!0}function m7(e){return e!==null&&typeof e=="object"&&"type"in e}const uC=[],y7=!0,cg=!1,v7="skip";function dC(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Jd(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=uC,g,y,x;if((!t||s(l,c,u[u.length-1]||void 0))&&(f=x7(n(l,u)),f[0]===cg))return f;if("children"in l&&l.children){const m=l;if(m.children&&f[0]!==v7)for(y=(r?m.children.length:-1)+o,x=u.concat(m);y>-1&&y<m.children.length;){const v=m.children[y];if(g=a(v,y,x)(),g[0]===cg)return g;y=typeof g[1]=="number"?g[1]:y+o}}return f}}}function x7(e){return Array.isArray(e)?e:typeof e=="number"?[y7,e]:e==null?uC:[e]}function by(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),dC(e,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const ug={}.hasOwnProperty,b7={};function w7(e,t){const n=t||b7,r=new Map,i=new Map,s=new Map,o={...i7,...n.handlers},a={all:c,applyData:k7,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:_7,wrap:C7};return by(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),a;function l(u,d){const h=u.type,f=a.handlers[h];if(ug.call(a.handlers,h)&&f)return f(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in u){const{children:y,...x}=u,m=rd(x);return m.children=a.all(u),m}return rd(u)}return(a.options.unknownHandler||S7)(a,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let f=-1;for(;++f<h.length;){const g=a.one(h[f],u);if(g){if(f&&h[f-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=sw(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=sw(y.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function _7(e,t){e.position&&(t.position=l$(e))}function k7(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,rd(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function S7(e,t){const n=t.data||{},r="value"in t&&!(ug.call(n,"hProperties")||ug.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function C7(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function sw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ow(e,t){const n=w7(e,t),r=n.one(e,void 0),i=d7(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function E7(e,t){return e&&"run"in e?async function(n,r){const i=ow(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ow(n,{file:r,...e||t})}}function aw(e){if(e)throw e}var cu=Object.prototype.hasOwnProperty,hC=Object.prototype.toString,lw=Object.defineProperty,cw=Object.getOwnPropertyDescriptor,uw=function(t){return typeof Array.isArray=="function"?Array.isArray(t):hC.call(t)==="[object Array]"},dw=function(t){if(!t||hC.call(t)!=="[object Object]")return!1;var n=cu.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&cu.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||cu.call(t,i)},hw=function(t,n){lw&&n.name==="__proto__"?lw(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},fw=function(t,n){if(n==="__proto__")if(cu.call(t,n)){if(cw)return cw(t,n).value}else return;return t[n]},O7=function e(){var t,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=fw(a,n),i=fw(t,n),a!==i&&(u&&i&&(dw(i)||(s=uw(i)))?(s?(s=!1,o=r&&uw(r)?r:[]):o=r&&dw(r)?r:{},hw(a,{name:n,newValue:e(u,o,i)})):typeof i<"u"&&hw(a,{name:n,newValue:i}));return a};const cf=sd(O7);function dg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function P7(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?T7(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function T7(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const dr={basename:D7,dirname:R7,extname:j7,join:M7,sep:"/"};function D7(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ul(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function R7(e){if(Ul(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function j7(e){Ul(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function M7(...e){let t=-1,n;for(;++t<e.length;)Ul(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":I7(n)}function I7(e){Ul(e);const t=e.codePointAt(0)===47;let n=A7(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function A7(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Ul(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const L7={cwd:N7};function N7(){return"/"}function hg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function F7(e){if(typeof e=="string")e=new URL(e);else if(!hg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return z7(e)}function z7(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const uf=["history","path","basename","stem","extname","dirname"];class fC{constructor(t){let n;t?hg(t)?n={path:t}:typeof t=="string"||$7(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":L7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<uf.length;){const s=uf[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)uf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?dr.basename(this.path):void 0}set basename(t){hf(t,"basename"),df(t,"basename"),this.path=dr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?dr.dirname(this.path):void 0}set dirname(t){pw(this.basename,"dirname"),this.path=dr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?dr.extname(this.path):void 0}set extname(t){if(df(t,"extname"),pw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=dr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){hg(t)&&(t=F7(t)),hf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?dr.basename(this.path,this.extname):void 0}set stem(t){hf(t,"stem"),df(t,"stem"),this.path=dr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Wt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function df(e,t){if(e&&e.includes(dr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+dr.sep+"`")}function hf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function pw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const B7=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},U7={}.hasOwnProperty;class wy extends B7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=P7()}copy(){const t=new wy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(cf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(gf("data",this.frozen),this.namespace[t]=n,this):U7.call(this.namespace,t)&&this.namespace[t]||void 0:t?(gf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ic(t),r=this.parser||this.Parser;return ff("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ff("process",this.parser||this.Parser),pf("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Ic(t),l=r.parse(a);r.run(l,a,function(u,d,h){if(u||!d||!h)return c(u);const f=d,g=r.stringify(f,h);V7(g)?h.value=g:h.result=g,c(u,h)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),ff("processSync",this.parser||this.Parser),pf("processSync",this.compiler||this.Compiler),this.process(t,i),mw("processSync","process",n),r;function i(s,o){n=!0,aw(s),r=o}}run(t,n,r){gw(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Ic(n);i.run(t,l,c);function c(u,d,h){const f=d||t;u?a(u):o?o(f):r(void 0,f,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),mw("runSync","run",r),i;function s(o,a){aw(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Ic(n),i=this.compiler||this.Compiler;return pf("stringify",i),gw(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(gf("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=cf(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[f,...g]=u;const y=r[h][1];dg(y)&&dg(f)&&(f=cf(!0,y,f)),r[h]=[c,f,...g]}}}}const W7=new wy().freeze();function ff(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function pf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function gf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gw(e){if(!dg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ic(e){return H7(e)?e:new fC(e)}function H7(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function V7(e){return typeof e=="string"||q7(e)}function q7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Y7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",yw=[],vw={allowDangerousHtml:!0},G7=/^(https?|ircs?|mailto|xmpp)$/i,K7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Q7(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,a=e.rehypePlugins||yw,l=e.remarkPlugins||yw,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...vw}:vw,u=e.skipHtml,d=e.unwrapDisallowed,h=e.urlTransform||X7,f=W7().use(jB).use(l).use(E7,c).use(a),g=new fC;typeof r=="string"&&(g.value=r);for(const v of K7)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+Y7+v.id,void 0);const y=f.parse(g);let x=f.runSync(y,g);return i&&(x={type:"element",tagName:"div",properties:{className:i},children:x.type==="root"?x.children:[x]}),by(x,m),p$(x,{Fragment:p.Fragment,components:s,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function m(v,b,k){if(v.type==="raw"&&k&&typeof b=="number")return u?k.children.splice(b,1):k.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let S;for(S in of)if(Object.hasOwn(of,S)&&Object.hasOwn(v.properties,S)){const _=v.properties[S],O=of[S];(O===null||O.includes(v.tagName))&&(v.properties[S]=h(String(_||""),S,v))}}if(v.type==="element"){let S=t?!t.includes(v.tagName):o?o.includes(v.tagName):!1;if(!S&&n&&typeof b=="number"&&(S=!n(v,b,k)),S&&k&&typeof b=="number")return d&&v.children?k.children.splice(b,1,...v.children):k.children.splice(b,1),b}}}function X7(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||G7.test(e.slice(0,t))?e:""}function J7(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Z7(e,t,n){const i=Jd((n||{}).ignore||[]),s=e9(t);let o=-1;for(;++o<s.length;)dC(e,"text",a);function a(c,u){let d=-1,h;for(;++d<u.length;){const f=u[d],g=h?h.children:void 0;if(i(f,g?g.indexOf(f):void 0,h))return;h=f}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=s[o][0],f=s[o][1];let g=0;const x=d.children.indexOf(c);let m=!1,v=[];h.lastIndex=0;let b=h.exec(c.value);for(;b;){const k=b.index,S={index:b.index,input:b.input,stack:[...u,c]};let _=f(...b,S);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?h.lastIndex=k+1:(g!==k&&v.push({type:"text",value:c.value.slice(g,k)}),Array.isArray(_)?v.push(..._):_&&v.push(_),g=k+b[0].length,m=!0),!h.global)break;b=h.exec(c.value)}return m?(g<c.value.length&&v.push({type:"text",value:c.value.slice(g)}),d.children.splice(x,1,...v)):v=[c],x+v.length}}function e9(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([t9(i[0]),n9(i[1])])}return t}function t9(e){return typeof e=="string"?new RegExp(J7(e),"g"):e}function n9(e){return typeof e=="function"?e:function(){return e}}function xw(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const mf="phrasing",yf=["autolink","link","image","label"];function r9(){return{transforms:[u9],enter:{literalAutolink:s9,literalAutolinkEmail:vf,literalAutolinkHttp:vf,literalAutolinkWww:vf},exit:{literalAutolink:c9,literalAutolinkEmail:l9,literalAutolinkHttp:o9,literalAutolinkWww:a9}}}function i9(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:mf,notInConstruct:yf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:mf,notInConstruct:yf},{character:":",before:"[ps]",after:"\\/",inConstruct:mf,notInConstruct:yf}]}}function s9(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function vf(e){this.config.enter.autolinkProtocol.call(this,e)}function o9(e){this.config.exit.autolinkProtocol.call(this,e)}function a9(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function l9(e){this.config.exit.autolinkEmail.call(this,e)}function c9(e){this.exit(e)}function u9(e){Z7(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,d9],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),h9]],{ignore:["link","linkReference"]})}function d9(e,t,n,r,i){let s="";if(!pC(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!f9(n)))return!1;const o=p9(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function h9(e,t,n,r){return!pC(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function f9(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function p9(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=xw(e,"(");let s=xw(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function pC(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||hs(n)||Kd(n))&&(!t||n!==47)}gC.peek=C9;function g9(){return{enter:{gfmFootnoteDefinition:y9,gfmFootnoteDefinitionLabelString:v9,gfmFootnoteCall:w9,gfmFootnoteCallString:_9},exit:{gfmFootnoteDefinition:b9,gfmFootnoteDefinitionLabelString:x9,gfmFootnoteCall:S9,gfmFootnoteCallString:k9}}}function m9(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:E9,footnoteReference:gC}}}function y9(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function v9(){this.buffer()}function x9(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Qn(this.sliceSerialize(e)).toLowerCase()}function b9(e){this.exit(e)}function w9(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function _9(){this.buffer()}function k9(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Qn(this.sliceSerialize(e)).toLowerCase()}function S9(e){this.exit(e)}function gC(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function C9(){return"["}function E9(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(e,i.current()),O9)),o(),s}function O9(e,t,n){return t===0?e:(n?"":"    ")+e}const P9=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];mC.peek=M9;function T9(){return{canContainEols:["delete"],enter:{strikethrough:R9},exit:{strikethrough:j9}}}function D9(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:P9}],handlers:{delete:mC}}}function R9(e){this.enter({type:"delete",children:[]},e)}function j9(e){this.exit(e)}function mC(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function M9(){return"~"}function I9(e){return e.length}function A9(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||I9,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<e.length;){const y=[],x=[];let m=-1;for(e[u].length>c&&(c=e[u].length);++m<e[u].length;){const v=L9(e[u][m]);if(n.alignDelimiters!==!1){const b=i(v);x[m]=b,(l[m]===void 0||b>l[m])&&(l[m]=b)}y.push(v)}o[u]=y,a[u]=x}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=bw(r[d]);else{const y=bw(r);for(;++d<c;)s[d]=y}d=-1;const h=[],f=[];for(;++d<c;){const y=s[d];let x="",m="";y===99?(x=":",m=":"):y===108?x=":":y===114&&(m=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[d]-x.length-m.length);const b=x+"-".repeat(v)+m;n.alignDelimiters!==!1&&(v=x.length+v+m.length,v>l[d]&&(l[d]=v),f[d]=v),h[d]=b}o.splice(1,0,h),a.splice(1,0,f),u=-1;const g=[];for(;++u<o.length;){const y=o[u],x=a[u];d=-1;const m=[];for(;++d<c;){const v=y[d]||"";let b="",k="";if(n.alignDelimiters!==!1){const S=l[d]-(x[d]||0),_=s[d];_===114?b=" ".repeat(S):_===99?S%2?(b=" ".repeat(S/2+.5),k=" ".repeat(S/2-.5)):(b=" ".repeat(S/2),k=b):k=" ".repeat(S)}n.delimiterStart!==!1&&!d&&m.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||d)&&m.push(" "),n.alignDelimiters!==!1&&m.push(b),m.push(v),n.alignDelimiters!==!1&&m.push(k),n.padding!==!1&&m.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&m.push("|")}g.push(n.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return g.join(`
`)}function L9(e){return e==null?"":String(e)}function bw(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function N9(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),F9);return i(),o}function F9(e,t,n){return">"+(n?"":" ")+e}function z9(e,t){return ww(e,t.inConstruct,!0)&&!ww(e,t.notInConstruct,!1)}function ww(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _w(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&z9(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $9(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function B9(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function U9(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function W9(e,t,n,r){const i=U9(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(B9(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,H9);return d(),h}const a=n.createTracker(r),l=i.repeat(Math.max($9(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function H9(e,t,n){return(n?"":"    ")+e}function _y(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function V9(e,t,n,r){const i=_y(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function q9(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function yl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function id(e,t,n){const r=vo(e),i=vo(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}yC.peek=Y9;function yC(e,t,n,r){const i=q9(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=id(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=yl(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=id(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+yl(d));const f=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function Y9(e,t,n){return n.options.emphasis||"*"}function G9(e,t){let n=!1;return by(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,cg}),!!((!e.depth||e.depth<3)&&fy(e)&&(t.options.setext||n))}function K9(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(G9(e,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=yl(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}vC.peek=Q9;function vC(e){return e.value||""}function Q9(){return"<"}xC.peek=X9;function xC(e,t,n,r){const i=_y(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function X9(){return"!"}bC.peek=J9;function bC(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function J9(){return"!"}wC.peek=Z9;function wC(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Z9(){return"`"}function _C(e,t){const n=fy(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}kC.peek=eU;function kC(e,t,n,r){const i=_y(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(_C(e,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function eU(e,t,n){return _C(e,n)?"<":"["}SC.peek=tU;function SC(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function tU(){return"["}function ky(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function nU(e){const t=ky(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function rU(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function CC(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function iU(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?rU(n):ky(n);const a=e.ordered?o==="."?")":".":nU(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),CC(n)===o&&u){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function sU(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function oU(e,t,n,r){const i=sU(n);let s=n.bulletCurrent||ky(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),u);return l(),c;function u(d,h,f){return h?(f?"":" ".repeat(o))+d:(f?s:s+" ".repeat(o-s.length))+d}}function aU(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const lU=Jd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cU(e,t,n,r){return(e.children.some(function(o){return lU(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function uU(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}EC.peek=dU;function EC(e,t,n,r){const i=uU(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=id(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=yl(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=id(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+yl(d));const f=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function dU(e,t,n){return n.options.strong||"*"}function hU(e,t,n,r){return n.safe(e.value,r)}function fU(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function pU(e,t,n){const r=(CC(n)+(n.options.ruleSpaces?" ":"")).repeat(fU(n));return n.options.ruleSpaces?r.slice(0,-1):r}const OC={blockquote:N9,break:_w,code:W9,definition:V9,emphasis:yC,hardBreak:_w,heading:K9,html:vC,image:xC,imageReference:bC,inlineCode:wC,link:kC,linkReference:SC,list:iU,listItem:oU,paragraph:aU,root:cU,strong:EC,text:hU,thematicBreak:pU};function gU(){return{enter:{table:mU,tableData:kw,tableHeader:kw,tableRow:vU},exit:{codeText:xU,table:yU,tableData:xf,tableHeader:xf,tableRow:xf}}}function mU(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yU(e){this.exit(e),this.data.inTable=void 0}function vU(e){this.enter({type:"tableRow",children:[]},e)}function xf(e){this.exit(e)}function kw(e){this.enter({type:"tableCell",children:[]},e)}function xU(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,bU));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function bU(e,t){return t==="|"?t:e}function wU(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:a}};function o(f,g,y,x){return c(u(f,y,x),f.align)}function a(f,g,y,x){const m=d(f,y,x),v=c([m]);return v.slice(0,v.indexOf(`
`))}function l(f,g,y,x){const m=y.enter("tableCell"),v=y.enter("phrasing"),b=y.containerPhrasing(f,{...x,before:s,after:s});return v(),m(),b}function c(f,g){return A9(f,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function u(f,g,y){const x=f.children;let m=-1;const v=[],b=g.enter("table");for(;++m<x.length;)v[m]=d(x[m],g,y);return b(),v}function d(f,g,y){const x=f.children;let m=-1;const v=[],b=g.enter("tableRow");for(;++m<x.length;)v[m]=l(x[m],f,g,y);return b(),v}function h(f,g,y){let x=OC.inlineCode(f,g,y);return y.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function _U(){return{exit:{taskListCheckValueChecked:Sw,taskListCheckValueUnchecked:Sw,paragraph:SU}}}function kU(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:CU}}}function Sw(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function SU(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function CU(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=OC.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function EU(){return[r9(),g9(),T9(),gU(),_U()]}function OU(e){return{extensions:[i9(),m9(),D9(),wU(e),kU()]}}const PU={tokenize:IU,partial:!0},PC={tokenize:AU,partial:!0},TC={tokenize:LU,partial:!0},DC={tokenize:NU,partial:!0},TU={tokenize:FU,partial:!0},RC={name:"wwwAutolink",tokenize:jU,previous:MC},jC={name:"protocolAutolink",tokenize:MU,previous:IC},Ur={name:"emailAutolink",tokenize:RU,previous:AC},vr={};function DU(){return{text:vr}}let $i=48;for(;$i<123;)vr[$i]=Ur,$i++,$i===58?$i=65:$i===91&&($i=97);vr[43]=Ur;vr[45]=Ur;vr[46]=Ur;vr[95]=Ur;vr[72]=[Ur,jC];vr[104]=[Ur,jC];vr[87]=[Ur,RC];vr[119]=[Ur,RC];function RU(e,t,n){const r=this;let i,s;return o;function o(d){return!fg(d)||!AC.call(r,r.previous)||Sy(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return fg(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(TU,u,c)(d):d===45||d===95||$t(d)?(s=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return s&&i&&qt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function jU(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!MC.call(r,r.previous)||Sy(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(PU,e.attempt(PC,e.attempt(TC,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function MU(e,t,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&IC.call(r,r.previous)&&!Sy(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(qt(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||ed(d)||Ie(d)||hs(d)||Kd(d)?n(d):e.attempt(PC,e.attempt(TC,u),n)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function IU(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function AU(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(DC,l,a)(c):c===null||Ie(c)||hs(c)||c!==45&&Kd(c)?l(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!s?n(c):t(c)}}function LU(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(DC,t,s)(o):o===null||Ie(o)||hs(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function NU(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Ie(a)||hs(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Ie(a)||hs(a)?t(a):r(a)}function s(a){return qt(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):qt(a)?(e.consume(a),o):n(a)}}function FU(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return $t(s)?n(s):t(s)}}function MC(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ie(e)}function IC(e){return!qt(e)}function AC(e){return!(e===47||fg(e))}function fg(e){return e===43||e===45||e===46||e===95||$t(e)}function Sy(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const zU={tokenize:YU,partial:!0};function $U(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:HU,continuation:{tokenize:VU},exit:qU}},text:{91:{name:"gfmFootnoteCall",tokenize:WU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:BU,resolveTo:UU}}}}function BU(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=Qn(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function UU(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function WU(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||Ie(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Qn(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ie(d)||(o=!0),s++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}}function HU(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(g)}function u(g){if(o>999||g===93&&!a||g===null||g===91||Ie(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return s=Qn(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ie(g)||(a=!0),o++,e.consume(g),g===92?d:u}function d(g){return g===91||g===92||g===93?(e.consume(g),o++,u):u(g)}function h(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),be(e,f,"gfmFootnoteDefinitionWhitespace")):n(g)}function f(g){return t(g)}}function VU(e,t,n){return e.check(Bl,t,e.attempt(zU,t,n))}function qU(e){e.exit("gfmFootnoteDefinition")}function YU(e,t,n){const r=this;return be(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function GU(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],f=a.parser.constructs.insideSpan.null;f&&bn(h,h.length,0,Qd(f,o.slice(c+1,l),a)),bn(h,h.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),bn(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return h;function h(g){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(g):(o.enter("strikethroughSequenceTemporary"),f(g))}function f(g){const y=vo(c);if(g===126)return d>1?l(g):(o.consume(g),d++,f);if(d<2&&!n)return l(g);const x=o.exit("strikethroughSequenceTemporary"),m=vo(g);return x._open=!m||m===2&&!!y,x._close=!y||y===2&&!!m,a(g)}}}class KU{constructor(){this.map=[]}add(t,n,r){QU(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function QU(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function XU(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function JU(){return{flow:{null:{name:"table",tokenize:ZU,resolveAll:eW}}}}function ZU(e,t,n){const r=this;let i=0,s=0,o;return a;function a(E){let I=r.events.length-1;for(;I>-1;){const Y=r.events[I][1].type;if(Y==="lineEnding"||Y==="linePrefix")I--;else break}const A=I>-1?r.events[I][1].type:null,W=A==="tableHead"||A==="tableRow"?_:l;return W===_&&r.parser.lazy[r.now().line]?n(E):W(E)}function l(E){return e.enter("tableHead"),e.enter("tableRow"),c(E)}function c(E){return E===124||(o=!0,s+=1),u(E)}function u(E){return E===null?n(E):re(E)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),f):n(E):fe(E)?be(e,u,"whitespace")(E):(s+=1,o&&(o=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),d(E)))}function d(E){return E===null||E===124||Ie(E)?(e.exit("data"),u(E)):(e.consume(E),E===92?h:d)}function h(E){return E===92||E===124?(e.consume(E),d):d(E)}function f(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,fe(E)?be(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):g(E))}function g(E){return E===45||E===58?x(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),y):S(E)}function y(E){return fe(E)?be(e,x,"whitespace")(E):x(E)}function x(E){return E===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),m):E===45?(s+=1,m(E)):E===null||re(E)?k(E):S(E)}function m(E){return E===45?(e.enter("tableDelimiterFiller"),v(E)):S(E)}function v(E){return E===45?(e.consume(E),v):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(E))}function b(E){return fe(E)?be(e,k,"whitespace")(E):k(E)}function k(E){return E===124?g(E):E===null||re(E)?!o||i!==s?S(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):S(E)}function S(E){return n(E)}function _(E){return e.enter("tableRow"),O(E)}function O(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),O):E===null||re(E)?(e.exit("tableRow"),t(E)):fe(E)?be(e,O,"whitespace")(E):(e.enter("data"),T(E))}function T(E){return E===null||E===124||Ie(E)?(e.exit("data"),O(E)):(e.consume(E),E===92?M:T)}function M(E){return E===92||E===124?(e.consume(E),T):T(E)}}function eW(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const h=new KU;for(;++n<e.length;){const f=e[n],g=f[1];f[0]==="enter"?g.type==="tableHead"?(a=!1,l!==0&&(Cw(h,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",c,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",u,t]])),i=g.type==="tableDelimiterRow"?2:u?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Ac(h,t,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=Ac(h,t,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):g.type==="tableHead"?(a=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=Ac(h,t,s,i,n,d)):o[1]!==0&&(d=Ac(h,t,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Cw(h,t,l,c,u),h.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=XU(t.events,n))}return e}function Ac(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Ds(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=Ds(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Ds(t.events,n[2]),u=Ds(t.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],f=t.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;e.add(g,y,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},Ds(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Cw(e,t,n,r,i){const s=[],o=Ds(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Ds(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const tW={name:"tasklistCheck",tokenize:rW};function nW(){return{text:{91:tW}}}function rW(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Ie(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return re(l)?t(l):fe(l)?e.check({tokenize:iW},t,n)(l):n(l)}}function iW(e,t,n){return be(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function sW(e){return q2([DU(),$U(),GU(e),JU(),nW()])}const oW={};function aW(e){const t=this,n=e||oW,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(sW(n)),s.push(EU()),o.push(OU(n))}const LC=({chatHistory:e})=>p.jsx("div",{className:"chat-history",children:e.map((t,n)=>p.jsx("div",{className:`message ${t.type==="user"?"user":"bot"}`,children:p.jsx(Q7,{className:"markdown-output",remarkPlugins:[aW],children:t.message})},n))});LC.propTypes={chatHistory:fr.arrayOf(fr.shape({type:fr.string.isRequired,message:fr.string.isRequired})).isRequired};const NC=({isLoading:e})=>e?p.jsx("div",{className:"loading",children:"Loading..."}):null;NC.propTypes={isLoading:fr.bool.isRequired};const lW=`
You are an intelligent recipe assistant designed to help users find recipes based on their preferences, dietary restrictions, and cooking requirements.

### Your Purpose:
- Understand natural language inputs from users.
- Suggest appropriate recipes by interpreting user intents.
- Apply relevant filters for recipe tags, categories, equipment, cooking time, or ingredients.

### Guidelines:
1. Analyze the user's input for keywords and context. 
   - Examples:
     - "I feel sick" -> Vegetarian or light meals.
     - "Quick recipes under 20 minutes" -> Recipes with cooking time <= 20 minutes.
     - "I need something spicy" -> Recipes with spicy tags.
2. Use user preferences to identify:
   - Tags: Spicy, sweet, vegetarian, etc.
   - Categories: Breakfast, lunch, dinner, etc.
   - Equipment: Blender, oven, etc.
   - Ingredients: Chicken, tofu, spinach, etc.
   - Cooking Time: Duration (e.g., under 30 minutes).
3. Respond naturally and conversationally:
   - "I found some great vegetarian recipes under 20 minutes for you!"
   - "Sure! Here are spicy recipes you can try."
   - If unable to find filters, reply: "I couldn't match your request to specific recipes. Could you clarify?"

### Your Behavior:
- Be friendly, helpful, and concise.
- If the user asks to clear filters, acknowledge and confirm: "All filters have been cleared."
- If a request is unclear, ask for clarification: "Could you please specify your preferences?"

### Your Inputs:
- Consider prior chat history to understand context.
- Accept inputs such as:
  - Dietary preferences ("vegetarian," "keto").
  - Specific ingredients ("chicken," "spinach").
  - Cooking constraints ("under 15 minutes").

### Your Outputs:
- Process input to derive filtering criteria for recipes.
- Return a response with matched filters or suggestions for clarification.

EXAMPLES:
User: I’m in a hurry.  
Response: "Here are some quick recipes under 15 minutes."

User: I feel sick.  
Response: "I suggest these vegetarian recipes that are easy on the stomach."

User: Clear filters.  
Response: "All filters cleared. Showing all recipes."

User: Show me spicy food.  
Response: "Here are some spicy recipes you might like."

User: Find recipes with chicken and spinach under 30 minutes.  
Response: "Here are some recipes with chicken and spinach that take under 30 minutes."

User: Apply all filters.  
Response: "All filters have been applied. Showing all recipes."

Be proactive and engaging in your responses.
`,cW=()=>{const[e,t]=w.useState(""),[n,r]=w.useState([]),[i,s]=w.useState(!1),{tags:o,categories:a,equipment:l,ingredients:c,filters:u,applyFilters:d,fetchRecipes:h}=Dl(),f="AIzaSyAcjRHaEpo59EzIa3pgSvwfGcCE1dvGkbo",y=new k6(f).getGenerativeModel({model:"gemini-1.5-flash"}),x=b=>{t(b.target.value)},m=async()=>{if(e.trim()!==""){s(!0);try{const b=n.map(j=>`${j.type==="user"?"User:":"Bot:"} ${j.message}`).join(`
`),k=`${lW}
${b}
User: ${e}`;console.log("Sending prompt to API:",k);const _=await(await y.generateContent(k)).response,O=_.text();if(console.log("Gemini Response:",O),O.toLowerCase().includes("apply all filters")||O.toLowerCase().includes("All filters have been applied")||e.toLowerCase().includes("apply all filters")){d({tags:o.map(j=>j.name),categories:a.map(j=>j.name),equipment:l.map(j=>j.name),cookTime:null}),await h(),r(j=>[...j,{type:"user",message:e},{type:"bot",message:"All available filters have been applied. Showing recipes!"}]);return}if(O.toLowerCase().includes("clear filters")||O.toLowerCase().includes("cleared")||e.toLowerCase().includes("clear")){d({categories:[],tags:[],equipment:[],cookTime:null,ingredients:[]}),await h(),r(j=>[...j,{type:"user",message:e},{type:"bot",message:"All filters cleared. Showing all recipes!"}]);return}const T=O.toLowerCase(),M=o.find(j=>T.includes(j.name.toLowerCase())),E=a.find(j=>T.includes(j.name.toLowerCase())),I=l.find(j=>T.includes(j.name.toLowerCase())),A=T.match(/under (\d+)\s*minutes/),W=A?parseInt(A[1]):null,Y=c.filter(j=>T.includes(j.name.toLowerCase()));d({tags:M?[...u.tags,M.name]:u.tags,categories:E?[...u.categories,E.name]:u.categories,equipment:I?[...u.equipment,I.name]:u.equipment,cookTime:W||u.cookTime,ingredients:Y.length>0?[...u.ingredients,...Y.map(j=>j.name)]:u.ingredients}),await h();const U=[E&&`Category: ${E.name}`,M&&`Tag: ${M.name}`,I&&`Equipment: ${I.name}`,W&&`Cooking Time: Under ${W} minutes`,Y.length>0&&`Ingredients: ${Y.map(j=>j.name).join(", ")}`].filter(Boolean).join(", ");r(j=>[...j,{type:"user",message:e},{type:"bot",message:U?`Filters applied: ${U}.`:_.text()}])}catch(b){console.error("Error sending message:",b),b.response&&console.error("Error details:",b.response.data),r(k=>[...k,{type:"user",message:e},{type:"bot",message:"An error occurred. Please try again."}])}finally{t(""),s(!1)}}},v=()=>{r([])};return p.jsxs("div",{className:"chatbot-container",children:[p.jsx("h1",{className:"title",children:"Chatbot"}),p.jsxs("div",{className:"chat-box",children:[p.jsx(LC,{chatHistory:n}),p.jsx(NC,{isLoading:i})]}),p.jsxs("div",{className:"input-section",children:[p.jsx("input",{type:"text",className:"input-box",placeholder:"Type your message...",value:e,onChange:x}),p.jsx("button",{className:"send-button",onClick:m,disabled:i,children:"Send"})]}),p.jsx("button",{className:"clear-button",onClick:v,children:"Clear Chat"})]})},uW=()=>p.jsx("div",{style:{position:"relative"},children:p.jsxs(lN,{children:[p.jsxs(Y_,{children:[p.jsx(pt,{path:"/",element:p.jsx(Ji,{to:"dashboard"})}),p.jsx(pt,{path:"dashboard",element:p.jsx(cN,{})}),p.jsx(pt,{path:"explore",element:p.jsx(uN,{})}),p.jsx(pt,{path:"recipe/:id",element:p.jsx(dN,{})}),p.jsx(pt,{path:"calendar",element:p.jsx(tF,{})}),p.jsx(pt,{path:"calendar/:date",element:p.jsx(nF,{})}),p.jsx(pt,{path:"calendar/preparation/:date",element:p.jsx(qz,{})}),p.jsx(pt,{path:"favorites",element:p.jsx(Yz,{})}),p.jsx(pt,{path:"*",element:p.jsx(Ji,{to:"dashboard"})})]}),p.jsx(cW,{})]})}),dW="/Time2Use/assets/default_propic-C3a0Y4dY.png",hW=()=>{var m;const e=Qt(),[t,n]=w.useState(!1),[r,i]=w.useState(null),[s,o]=w.useState([3]),[a,l]=w.useState({username:"",birthday:"",email:"",password:"••••••••",notificationDay:3}),[c,u]=w.useState(""),[d,h]=w.useState(""),f=v=>{if(!v)return"";const b=new Date(v),k=String(b.getDate()).padStart(2,"0"),S=String(b.getMonth()+1).padStart(2,"0"),_=b.getFullYear();return`${k} / ${S} / ${_}`};w.useEffect(()=>{(async()=>{var M;const{data:{user:b},error:k}=await ne.auth.getUser();if(k){console.error("Error fetching user:",k);return}const{data:S,error:_}=await ne.from("profile").select("username, birthday, picture, notification_day(id, day)").eq("user",b.id).single();_?console.error("Error fetching profile:",_):(l({username:S.username,birthday:S.birthday,email:b.email,password:"••••••••",notificationDay:((M=S.notification_day)==null?void 0:M.id)||7}),i(S.picture));const{data:O,error:T}=await ne.from("notification_day").select("*");T?console.error("Error fetching notification options:",T):o(O)})()},[]);const g=async v=>{const b=v.target.files[0];if(b){const k=`${Date.now()}-${b.name}`,{data:S,error:_}=await ne.storage.from("profile-picture").upload(k,b);if(_)console.error("Error uploading image:",_.message);else{const{data:O}=ne.storage.from("profile-picture").getPublicUrl(k);i(O==null?void 0:O.publicUrl)}}},y=async()=>{if(t){const{data:{user:v},error:b}=await ne.auth.getUser();if(b){console.error("Error fetching user:",b);return}const k={username:c,birthday:a.birthday,picture:r,notification_day:a.notificationDay},{error:S}=await ne.from("profile").update(k).eq("user",v.id);if(S?console.error("Error updating profile:",S):(console.log("Profile updated successfully!"),l(_=>({..._,username:c}))),d){const{error:_}=await ne.auth.updateUser({password:d});_?console.error("Error updating password:",_):(console.log("Password updated successfully!"),h(""))}}else u(a.username);n(v=>!v)},x=async()=>{const{error:v}=await ne.auth.signOut();v?console.error("Sign-out error:",v.message):e("/login")};return p.jsxs("div",{className:`profile-container ${t?"edit-mode":""}`,children:[p.jsxs("div",{className:"profile-header",children:[p.jsxs("div",{className:"profile-avatar",children:[p.jsx("img",{src:r||dW,alt:"Profile",className:"avatar-image"}),t&&p.jsxs("label",{className:"edit-icon",children:[p.jsx(wj,{}),p.jsx("input",{type:"file",accept:"image/*",className:"upload-input",onChange:g})]})]}),p.jsx("h1",{className:"profile-username",children:a.username})]}),p.jsxs("div",{className:"profile-details",children:[p.jsxs("div",{className:"profile-row",children:[p.jsx("span",{className:"icon",children:p.jsx(wm,{})}),p.jsx("span",{className:"profile-label",children:"Username"}),t?p.jsx("input",{type:"text",value:c,onChange:v=>u(v.target.value),className:"edit-input"}):p.jsx("span",{className:"profile-value",children:a.username})]}),p.jsxs("div",{className:"profile-row",children:[p.jsx("span",{className:"icon",children:p.jsx(gj,{})}),p.jsx("span",{className:"profile-label",children:"Birthday"}),t?p.jsx("input",{type:"date",value:a.birthday,onChange:v=>l(b=>({...b,birthday:v.target.value})),className:"edit-input"}):p.jsx("span",{className:"profile-value",children:f(a.birthday)})]}),p.jsxs("div",{className:"profile-row",children:[p.jsx("span",{className:"icon",children:p.jsx(vj,{})}),p.jsx("span",{className:"profile-label",children:"Email"}),p.jsx("span",{className:"profile-value",children:a.email})]}),p.jsxs("div",{className:"profile-row",children:[p.jsx("span",{className:"icon",children:p.jsx(bj,{})}),p.jsx("span",{className:"profile-label",children:"Password"}),t?p.jsx("input",{type:"password",value:d,placeholder:"New Password",onChange:v=>h(v.target.value),className:"edit-input"}):p.jsx("span",{className:"profile-value",children:"••••••••"})]}),p.jsxs("div",{className:"profile-row",children:[p.jsx("span",{className:"icon",children:p.jsx(pj,{})}),p.jsx("span",{className:"profile-label",children:"Notification"}),t?p.jsx("select",{value:a.notificationDay,onChange:v=>l(b=>({...b,notificationDay:parseInt(v.target.value,10)})),className:"notification-select",children:s.sort((v,b)=>v.day-b.day).map(v=>p.jsxs("option",{value:v.id,children:[v.day," Day(s) Before"]},v.id))}):p.jsxs("span",{className:"profile-value",children:[((m=s.find(v=>v.id===a.notificationDay))==null?void 0:m.day)||7," Day(s) Before"]})]})]}),p.jsx("div",{className:"edit-profile",children:p.jsx("button",{className:"profile-button",onClick:y,children:t?"Save":"Edit Profile"})}),p.jsx("div",{className:"edit-profile",children:p.jsx("button",{className:"profile-button",onClick:x,children:"Sign Out"})})]})},fW=[{title:"Admin Dashboard",link:"/admin/dashboard",icon:p.jsx(Sk,{})},{title:"Manage Users",link:"/admin/users",icon:p.jsx(wm,{})},{title:"Settings",link:"/admin/settings",icon:p.jsx(yj,{})},{title:"Reports",icon:p.jsx(kk,{}),dropdown:!0,items:[{title:"Monthly Reports",link:"/admin/reports/monthly"},{title:"Annual Reports",link:"/admin/reports/annual"},{title:"Custom Reports",link:"/admin/reports/custom"}]},{title:"Recipe Management",link:"/admin/recipe-management",icon:p.jsx(Oj,{}),dropdown:!0,items:[{title:"Recipes",dropdown:!0,items:[{title:"View All Recipes",link:"/admin/recipe-management/recipes",icon:p.jsx(xj,{})},{title:"Add New Recipe",link:"/admin/recipe-management/recipes/create",icon:p.jsx(hc,{})}]},{title:"Categories",dropdown:!0,items:[{title:"View Categories",link:"/admin/recipe-management/categories",icon:p.jsx(Sj,{})},{title:"Add New Category",link:"/admin/recipe-management/categories/create",icon:p.jsx(hc,{})}]},{title:"Tags",dropdown:!0,items:[{title:"View Tags",link:"/admin/recipe-management/tags",icon:p.jsx(kj,{})},{title:"Add New Tag",link:"/admin/recipe-management/tags/create",icon:p.jsx(hc,{})}]},{title:"Equipment",dropdown:!0,items:[{title:"View Equipment",link:"/admin/recipe-management/equipment",icon:p.jsx(Ej,{})},{title:"Add New Equipment",link:"/admin/recipe-management/equipment/create",icon:p.jsx(hc,{})}]}]}],Cy=({isCollapsed:e,toggleSidebar:t})=>{const[n,r]=w.useState({}),i=o=>{e&&t(),r(a=>({...a,[o]:!a[o]}))},s=(o,a)=>{r(l=>{var c;return{...l,[o]:{...l[o],[a]:!((c=l[o])!=null&&c[a])}}})};return w.useEffect(()=>{e&&r({})},[e]),p.jsxs("div",{className:`side-nav-container ${e?"collapsed":""}`,children:[p.jsx("div",{className:"toggle-btn",onClick:t,children:e?p.jsx(fj,{}):p.jsx(Cj,{})}),p.jsx("ul",{className:"side-nav-items",children:fW.map((o,a)=>p.jsx("li",{className:"side-nav-item",children:o.dropdown?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"dropdown-header",children:[o.link?p.jsxs(Hs,{to:o.link,className:({isActive:l})=>l?"active":"",children:[p.jsx("div",{className:"nav-icon",children:o.icon}),p.jsx("span",{className:"nav-title",children:o.title})]}):p.jsxs("div",{onClick:()=>i(a),className:"dropdown-toggle",children:[p.jsx("div",{className:"nav-icon",children:o.icon}),p.jsx("span",{className:"nav-title",children:o.title})]}),p.jsx("div",{className:"dropdown-arrow",onClick:l=>{l.stopPropagation(),i(a)},children:n[a]?p.jsx(o0,{}):p.jsx(a0,{})})]}),p.jsx("ul",{className:`nested-menu ${n[a]?"expanded":""}`,children:o.items.map((l,c)=>{var u,d;return p.jsx("li",{className:"nested-item",children:l.dropdown?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"dropdown-header",onClick:()=>s(a,c),children:[p.jsx("span",{className:"nested-title",children:l.title}),(u=n[a])!=null&&u[c]?p.jsx(o0,{className:"dropdown-arrow"}):p.jsx(a0,{className:"dropdown-arrow"})]}),p.jsx("ul",{className:`nested-menu ${(d=n[a])!=null&&d[c]?"expanded":""}`,children:l.items.map((h,f)=>p.jsx("li",{className:"nested-item",children:p.jsx(Hs,{to:h.link,className:({isActive:g})=>g?"active":"",children:h.title})},f))})]}):p.jsx(Hs,{to:l.link,className:({isActive:h})=>h?"active":"",children:l.title})},c)})})]}):p.jsxs(Hs,{to:o.link,className:({isActive:l})=>l?"active":"",children:[p.jsx("div",{className:"nav-icon",children:o.icon}),p.jsx("span",{className:"nav-title",children:o.title})]})},a))})]})};Cy.propTypes={isCollapsed:fr.bool.isRequired,toggleSidebar:fr.func.isRequired};const FC=({children:e,isCollapsed:t,toggleSidebar:n})=>p.jsxs("div",{className:`admin-layout-container ${t?"collapsed":""}`,children:[p.jsx(Cy,{isCollapsed:t,toggleSidebar:n}),p.jsxs("div",{className:"admin-content-wrapper",children:[p.jsx("header",{className:"admin-header",children:p.jsx("h1",{children:"Admin Panel"})}),p.jsx("div",{className:"admin-content",children:e}),p.jsx("footer",{className:"admin-footer",children:p.jsx("p",{children:"Admin Panel © 2024"})})]})]});FC.propTypes={children:fr.node.isRequired,isCollapsed:fr.bool.isRequired,toggleSidebar:fr.func.isRequired};const pW=()=>{const[e,t]=w.useState(null),n=Qt();w.useEffect(()=>{(async()=>{var a;const{data:s,error:o}=await ne.auth.getSession();if(o)console.error("Error fetching admin user:",o.message),n("/login");else{const l=((a=s==null?void 0:s.session)==null?void 0:a.user)||null;t(l)}})()},[n]);const r=async()=>{const{error:i}=await ne.auth.signOut();i?console.error("Sign-out error:",i.message):n("/login")};return p.jsxs("div",{children:[p.jsx("h1",{children:"Admin Dashboard"}),e&&p.jsxs("p",{children:["Welcome, Admin ",e.email]}),p.jsx("button",{onClick:r,children:"Sign Out"}),p.jsxs("div",{style:{marginTop:"20px"},children:[p.jsx("h2",{children:"Admin Controls"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Manage Users"}),p.jsx("li",{children:"View Reports"}),p.jsx("li",{children:"Update Settings"})]})]})]})},gW=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!0),[i,s]=w.useState(!1);w.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{window.confirm("New version available. Refresh to update?")&&window.location.reload()})},[]),w.useEffect(()=>{(async()=>{const{data:l,error:c}=await ne.auth.getUser();console.log(l)})()},[]),w.useEffect(()=>{t("client"),r(!1)},[]),w.useEffect(()=>{const a=()=>{window.innerWidth<=768?s(!0):s(!1)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const o=()=>{s(!i)};return n?p.jsx("div",{children:"Loading..."}):p.jsxs("div",{className:`App ${e==="admin"?i?"sidebar-collapsed":"sidebar-expanded":""}`,children:[e==="client"?p.jsxs(p.Fragment,{children:[p.jsx(Pj,{}),p.jsx("div",{className:"stickyBottom",children:p.jsx(Dj,{})})]}):e==="admin"?p.jsx(Cy,{isCollapsed:i,toggleSidebar:o}):null,p.jsx("main",{className:e==="admin"?"admin-main-content":"",children:p.jsxs(Y_,{children:[p.jsx(pt,{path:"/",element:e?e==="admin"?p.jsx(Ji,{to:"/admin/dashboard"}):p.jsx(Ji,{to:"/dashboard"}):p.jsx(Ji,{to:"/login"})}),p.jsx(pt,{path:"/login",element:p.jsx(rj,{})}),p.jsx(pt,{path:"/signup",element:p.jsx(ij,{})}),e==="client"&&p.jsxs(p.Fragment,{children:[p.jsx(pt,{path:"/dashboard",element:p.jsx(Vo,{children:p.jsx(HL,{})})}),p.jsx(pt,{path:"/inventory",element:p.jsx(Vo,{children:p.jsx(oN,{})})}),p.jsx(pt,{path:"/scan",element:p.jsx(Vo,{children:p.jsx(aN,{})})}),p.jsx(pt,{path:"/recipes/*",element:p.jsx(Vo,{children:p.jsx(uW,{})})}),p.jsx(pt,{path:"/profile",element:p.jsx(Vo,{children:p.jsx(hW,{})})})]}),e==="admin"&&p.jsx(p.Fragment,{children:p.jsx(pt,{path:"/admin/dashboard",element:p.jsx(FC,{isCollapsed:i,toggleSidebar:o,children:p.jsx(pW,{})})})}),p.jsx(pt,{path:"*",element:p.jsx(Ji,{to:"/"})})]})})]})};F_(document.getElementById("root")).render(p.jsxs(zT,{basename:"/Time2Use",children:[p.jsx(w.StrictMode,{children:p.jsx(gW,{})}),","]}));export{sd as g};
